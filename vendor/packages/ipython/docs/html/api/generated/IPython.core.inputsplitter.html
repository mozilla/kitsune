

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>core.inputsplitter &mdash; IPython 0.11 documentation</title>
    
    <link rel="stylesheet" href="../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.11',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="IPython 0.11 documentation" href="../../index.html" />
    <link rel="up" title="The IPython API" href="../index.html" />
    <link rel="next" title="core.interactiveshell" href="IPython.core.interactiveshell.html" />
    <link rel="prev" title="core.hooks" href="IPython.core.hooks.html" /> 
  </head>
  <body>

<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px">
<a href="../../index.html"><img src="../../_static/logo.png" border="0" alt="IPython Documentation"/></a>
</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="IPython.core.interactiveshell.html" title="core.interactiveshell"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="IPython.core.hooks.html" title="core.hooks"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">home</a>|&nbsp;</li>
        <li><a href="../../search.html">search</a>|&nbsp;</li>
       <li><a href="../../index.html">documentation </a> &raquo;</li>

          <li><a href="../index.html" accesskey="U">The IPython API</a> &raquo;</li> 
      </ul>
    </div>

      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">core.inputsplitter</a><ul>
<li><a class="reference internal" href="#module-core-inputsplitter">Module: <tt class="docutils literal"><span class="pre">core.inputsplitter</span></tt></a><ul>
<li><a class="reference internal" href="#syntax-transformations">Syntax Transformations</a></li>
<li><a class="reference internal" href="#todo">ToDo</a></li>
<li><a class="reference internal" href="#authors">Authors</a></li>
</ul>
</li>
<li><a class="reference internal" href="#classes">Classes</a><ul>
<li><a class="reference internal" href="#escapedtransformer"><tt class="docutils literal"><span class="pre">EscapedTransformer</span></tt></a></li>
<li><a class="reference internal" href="#ipythoninputsplitter"><tt class="docutils literal"><span class="pre">IPythonInputSplitter</span></tt></a></li>
<li><a class="reference internal" href="#inputsplitter"><tt class="docutils literal"><span class="pre">InputSplitter</span></tt></a></li>
<li><a class="reference internal" href="#lineinfo"><tt class="docutils literal"><span class="pre">LineInfo</span></tt></a></li>
</ul>
</li>
<li><a class="reference internal" href="#functions">Functions</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="IPython.core.hooks.html"
                        title="previous chapter">core.hooks</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="IPython.core.interactiveshell.html"
                        title="next chapter">core.interactiveshell</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../_sources/api/generated/IPython.core.inputsplitter.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="core-inputsplitter">
<h1>core.inputsplitter<a class="headerlink" href="#core-inputsplitter" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-core-inputsplitter">
<h2>Module: <tt class="xref py py-mod docutils literal"><span class="pre">core.inputsplitter</span></tt><a class="headerlink" href="#module-core-inputsplitter" title="Permalink to this headline">¶</a></h2>
<p>Inheritance diagram for <tt class="docutils literal"><span class="pre">IPython.core.inputsplitter</span></tt>:</p>
<img src="../../_images/inheritance72b95ac514.png" usemap="#inheritance72b95ac514" class="inheritance"/><map id="inheritance72b95ac514" name="inheritance72b95ac514">
</map>
<span class="target" id="module-IPython.core.inputsplitter"></span><p>Analysis of text input into executable blocks.</p>
<p>The main class in this module, <a class="reference internal" href="#IPython.core.inputsplitter.InputSplitter" title="IPython.core.inputsplitter.InputSplitter"><tt class="xref py py-class docutils literal"><span class="pre">InputSplitter</span></tt></a>, is designed to break
input from either interactive, line-by-line environments or block-based ones,
into standalone blocks that can be executed by Python as &#8216;single&#8217; statements
(thus triggering sys.displayhook).</p>
<p>A companion, <a class="reference internal" href="#IPython.core.inputsplitter.IPythonInputSplitter" title="IPython.core.inputsplitter.IPythonInputSplitter"><tt class="xref py py-class docutils literal"><span class="pre">IPythonInputSplitter</span></tt></a>, provides the same functionality but
with full support for the extended IPython syntax (magics, system calls, etc).</p>
<p>For more details, see the class docstring below.</p>
<div class="section" id="syntax-transformations">
<h3>Syntax Transformations<a class="headerlink" href="#syntax-transformations" title="Permalink to this headline">¶</a></h3>
<p>One of the main jobs of the code in this file is to apply all syntax
transformations that make up &#8216;the IPython language&#8217;, i.e. magics, shell
escapes, etc.  All transformations should be implemented as <em>fully stateless</em>
entities, that simply take one line as their input and return a line.
Internally for implementation purposes they may be a normal function or a
callable object, but the only input they receive will be a single line and they
should only return a line, without holding any data-dependent state between
calls.</p>
<p>As an example, the EscapedTransformer is a class so we can more clearly group
together the functionality of dispatching to individual functions based on the
starting escape character, but the only method for public use is its call
method.</p>
</div>
<div class="section" id="todo">
<h3>ToDo<a class="headerlink" href="#todo" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Should we make push() actually raise an exception once push_accepts_more()
returns False?</li>
<li>Naming cleanups.  The tr_* names aren&#8217;t the most elegant, though now they are
at least just attributes of a class so not really very exposed.</li>
<li>Think about the best way to support dynamic things: automagic, autocall,
macros, etc.</li>
<li>Think of a better heuristic for the application of the transforms in
IPythonInputSplitter.push() than looking at the buffer ending in &#8216;:&#8217;.  Idea:
track indentation change events (indent, dedent, nothing) and apply them only
if the indentation went up, but not otherwise.</li>
<li>Think of the cleanest way for supporting user-specified transformations (the
user prefilters we had before).</li>
</ul>
</div>
<div class="section" id="authors">
<h3>Authors<a class="headerlink" href="#authors" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Fernando Perez</li>
<li>Brian Granger</li>
</ul>
</div>
</div>
<div class="section" id="classes">
<h2>Classes<a class="headerlink" href="#classes" title="Permalink to this headline">¶</a></h2>
<div class="section" id="escapedtransformer">
<h3><a class="reference internal" href="#IPython.core.inputsplitter.EscapedTransformer" title="IPython.core.inputsplitter.EscapedTransformer"><tt class="xref py py-class docutils literal"><span class="pre">EscapedTransformer</span></tt></a><a class="headerlink" href="#escapedtransformer" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="IPython.core.inputsplitter.EscapedTransformer">
<em class="property">class </em><tt class="descclassname">IPython.core.inputsplitter.</tt><tt class="descname">EscapedTransformer</tt><a class="headerlink" href="#IPython.core.inputsplitter.EscapedTransformer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Class to transform lines that are explicitly escaped out.</p>
<dl class="method">
<dt id="IPython.core.inputsplitter.EscapedTransformer.__init__">
<tt class="descname">__init__</tt><big>(</big><big>)</big><a class="headerlink" href="#IPython.core.inputsplitter.EscapedTransformer.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="ipythoninputsplitter">
<h3><a class="reference internal" href="#IPython.core.inputsplitter.IPythonInputSplitter" title="IPython.core.inputsplitter.IPythonInputSplitter"><tt class="xref py py-class docutils literal"><span class="pre">IPythonInputSplitter</span></tt></a><a class="headerlink" href="#ipythoninputsplitter" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="IPython.core.inputsplitter.IPythonInputSplitter">
<em class="property">class </em><tt class="descclassname">IPython.core.inputsplitter.</tt><tt class="descname">IPythonInputSplitter</tt><big>(</big><em>input_mode=None</em><big>)</big><a class="headerlink" href="#IPython.core.inputsplitter.IPythonInputSplitter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#IPython.core.inputsplitter.InputSplitter" title="IPython.core.inputsplitter.InputSplitter"><tt class="xref py py-class docutils literal"><span class="pre">IPython.core.inputsplitter.InputSplitter</span></tt></a></p>
<p>An input splitter that recognizes all of IPython&#8217;s special syntax.</p>
<dl class="method">
<dt id="IPython.core.inputsplitter.IPythonInputSplitter.__init__">
<tt class="descname">__init__</tt><big>(</big><em>input_mode=None</em><big>)</big><a class="headerlink" href="#IPython.core.inputsplitter.IPythonInputSplitter.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="IPython.core.inputsplitter.IPythonInputSplitter.code">
<tt class="descname">code</tt><em class="property"> = None</em><a class="headerlink" href="#IPython.core.inputsplitter.IPythonInputSplitter.code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="IPython.core.inputsplitter.IPythonInputSplitter.encoding">
<tt class="descname">encoding</tt><em class="property"> = ''</em><a class="headerlink" href="#IPython.core.inputsplitter.IPythonInputSplitter.encoding" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="IPython.core.inputsplitter.IPythonInputSplitter.indent_spaces">
<tt class="descname">indent_spaces</tt><em class="property"> = 0</em><a class="headerlink" href="#IPython.core.inputsplitter.IPythonInputSplitter.indent_spaces" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="IPython.core.inputsplitter.IPythonInputSplitter.input_mode">
<tt class="descname">input_mode</tt><em class="property"> = 'line'</em><a class="headerlink" href="#IPython.core.inputsplitter.IPythonInputSplitter.input_mode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="IPython.core.inputsplitter.IPythonInputSplitter.push">
<tt class="descname">push</tt><big>(</big><em>lines</em><big>)</big><a class="headerlink" href="#IPython.core.inputsplitter.IPythonInputSplitter.push" title="Permalink to this definition">¶</a></dt>
<dd><p>Push one or more lines of IPython input.</p>
</dd></dl>

<dl class="method">
<dt id="IPython.core.inputsplitter.IPythonInputSplitter.push_accepts_more">
<tt class="descname">push_accepts_more</tt><big>(</big><big>)</big><a class="headerlink" href="#IPython.core.inputsplitter.IPythonInputSplitter.push_accepts_more" title="Permalink to this definition">¶</a></dt>
<dd><p>Return whether a block of interactive input can accept more input.</p>
<p>This method is meant to be used by line-oriented frontends, who need to
guess whether a block is complete or not based solely on prior and
current input lines.  The InputSplitter considers it has a complete
interactive block and will not accept more input only when either a
SyntaxError is raised, or <em>all</em> of the following are true:</p>
<ol class="arabic simple">
<li>The input compiles to a complete statement.</li>
<li>The indentation level is flush-left (because if we are indented,
like inside a function definition or for loop, we need to keep
reading new input).</li>
<li>There is one extra line consisting only of whitespace.</li>
</ol>
<p>Because of condition #3, this method should be used only by
<em>line-oriented</em> frontends, since it means that intermediate blank lines
are not allowed in function definitions (or any other indented block).</p>
<p>If the current input produces a syntax error, this method immediately
returns False but does <em>not</em> raise the syntax error exception, as
typically clients will want to send invalid syntax to an execution
backend which might convert the invalid syntax into valid Python via
one of the dynamic IPython mechanisms.</p>
</dd></dl>

<dl class="method">
<dt id="IPython.core.inputsplitter.IPythonInputSplitter.reset">
<tt class="descname">reset</tt><big>(</big><big>)</big><a class="headerlink" href="#IPython.core.inputsplitter.IPythonInputSplitter.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset the input buffer and associated state.</p>
</dd></dl>

<dl class="attribute">
<dt id="IPython.core.inputsplitter.IPythonInputSplitter.source">
<tt class="descname">source</tt><em class="property"> = ''</em><a class="headerlink" href="#IPython.core.inputsplitter.IPythonInputSplitter.source" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="IPython.core.inputsplitter.IPythonInputSplitter.source_raw">
<tt class="descname">source_raw</tt><em class="property"> = ''</em><a class="headerlink" href="#IPython.core.inputsplitter.IPythonInputSplitter.source_raw" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="IPython.core.inputsplitter.IPythonInputSplitter.source_raw_reset">
<tt class="descname">source_raw_reset</tt><big>(</big><big>)</big><a class="headerlink" href="#IPython.core.inputsplitter.IPythonInputSplitter.source_raw_reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Return input and raw source and perform a full reset.</p>
</dd></dl>

<dl class="method">
<dt id="IPython.core.inputsplitter.IPythonInputSplitter.source_reset">
<tt class="descname">source_reset</tt><big>(</big><big>)</big><a class="headerlink" href="#IPython.core.inputsplitter.IPythonInputSplitter.source_reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the input source and perform a full reset.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="inputsplitter">
<h3><a class="reference internal" href="#IPython.core.inputsplitter.InputSplitter" title="IPython.core.inputsplitter.InputSplitter"><tt class="xref py py-class docutils literal"><span class="pre">InputSplitter</span></tt></a><a class="headerlink" href="#inputsplitter" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="IPython.core.inputsplitter.InputSplitter">
<em class="property">class </em><tt class="descclassname">IPython.core.inputsplitter.</tt><tt class="descname">InputSplitter</tt><big>(</big><em>input_mode=None</em><big>)</big><a class="headerlink" href="#IPython.core.inputsplitter.InputSplitter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>An object that can accumulate lines of Python source before execution.</p>
<blockquote>
<div><dl class="docutils">
<dt>This object is designed to be fed python source line-by-line, using</dt>
<dd><a class="reference internal" href="#IPython.core.inputsplitter.InputSplitter.push" title="IPython.core.inputsplitter.InputSplitter.push"><tt class="xref py py-meth docutils literal"><span class="pre">push()</span></tt></a>. It will return on each push whether the currently pushed
code could be executed already. In addition, it provides a method called
<a class="reference internal" href="#IPython.core.inputsplitter.InputSplitter.push_accepts_more" title="IPython.core.inputsplitter.InputSplitter.push_accepts_more"><tt class="xref py py-meth docutils literal"><span class="pre">push_accepts_more()</span></tt></a> that can be used to query whether more input
can be pushed into a single interactive block.</dd>
</dl>
<p>This is a simple example of how an interactive terminal-based client can use
this tool:</p>
<div class="highlight-python"><pre>isp = InputSplitter()
while isp.push_accepts_more():
    indent = ' '*isp.indent_spaces
    prompt = '&gt;&gt;&gt; ' + indent
    line = indent + raw_input(prompt)
    isp.push(line)
print 'Input source was:</pre>
</div>
</div></blockquote>
<p>&#8216;, isp.source_reset(),</p>
<dl class="method">
<dt id="IPython.core.inputsplitter.InputSplitter.__init__">
<tt class="descname">__init__</tt><big>(</big><em>input_mode=None</em><big>)</big><a class="headerlink" href="#IPython.core.inputsplitter.InputSplitter.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new InputSplitter instance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>input_mode</strong> : str</p>
<blockquote>
<div><p>One of [&#8216;line&#8217;, &#8216;cell&#8217;]; default is &#8216;line&#8217;.</p>
</div></blockquote>
<p><strong>The input_mode parameter controls how new inputs are used when fed via</strong> :</p>
<p><strong>the :meth:`push` method:</strong> :</p>
<p><strong>- &#8216;line&#8217;: meant for line-oriented clients, inputs are appended one at a</strong> :</p>
<blockquote>
<div><p>time to the internal buffer and the whole buffer is compiled.</p>
</div></blockquote>
<p><strong>- &#8216;cell&#8217;: meant for clients that can edit multi-line &#8216;cells&#8217; of text at</strong> :</p>
<blockquote class="last">
<div><p>a time.  A cell can contain one or more blocks that can be compile in
&#8216;single&#8217; mode by Python.  In this mode, each new input new input
completely replaces all prior inputs.  Cell mode is thus equivalent
to prepending a full reset() to every push() call.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="IPython.core.inputsplitter.InputSplitter.code">
<tt class="descname">code</tt><em class="property"> = None</em><a class="headerlink" href="#IPython.core.inputsplitter.InputSplitter.code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="IPython.core.inputsplitter.InputSplitter.encoding">
<tt class="descname">encoding</tt><em class="property"> = ''</em><a class="headerlink" href="#IPython.core.inputsplitter.InputSplitter.encoding" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="IPython.core.inputsplitter.InputSplitter.indent_spaces">
<tt class="descname">indent_spaces</tt><em class="property"> = 0</em><a class="headerlink" href="#IPython.core.inputsplitter.InputSplitter.indent_spaces" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="IPython.core.inputsplitter.InputSplitter.input_mode">
<tt class="descname">input_mode</tt><em class="property"> = 'line'</em><a class="headerlink" href="#IPython.core.inputsplitter.InputSplitter.input_mode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="IPython.core.inputsplitter.InputSplitter.push">
<tt class="descname">push</tt><big>(</big><em>lines</em><big>)</big><a class="headerlink" href="#IPython.core.inputsplitter.InputSplitter.push" title="Permalink to this definition">¶</a></dt>
<dd><p>Push one or more lines of input.</p>
<p>This stores the given lines and returns a status code indicating
whether the code forms a complete Python block or not.</p>
<p>Any exceptions generated in compilation are swallowed, but if an
exception was produced, the method returns True.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>lines</strong> : string</p>
<blockquote>
<div><p>One or more lines of Python input.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns :</th><td class="field-body"><p class="first"><strong>is_complete</strong> : boolean</p>
<blockquote>
<div><p>True if the current input source (the result of the current input</p>
</div></blockquote>
<p><strong>plus prior inputs) forms a complete Python execution block.  Note that</strong> :</p>
<p><strong>this value is also stored as a private attribute (_is_complete), so it</strong> :</p>
<p class="last"><strong>can be queried at any time.</strong> :</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="IPython.core.inputsplitter.InputSplitter.push_accepts_more">
<tt class="descname">push_accepts_more</tt><big>(</big><big>)</big><a class="headerlink" href="#IPython.core.inputsplitter.InputSplitter.push_accepts_more" title="Permalink to this definition">¶</a></dt>
<dd><p>Return whether a block of interactive input can accept more input.</p>
<p>This method is meant to be used by line-oriented frontends, who need to
guess whether a block is complete or not based solely on prior and
current input lines.  The InputSplitter considers it has a complete
interactive block and will not accept more input only when either a
SyntaxError is raised, or <em>all</em> of the following are true:</p>
<ol class="arabic simple">
<li>The input compiles to a complete statement.</li>
<li>The indentation level is flush-left (because if we are indented,
like inside a function definition or for loop, we need to keep
reading new input).</li>
<li>There is one extra line consisting only of whitespace.</li>
</ol>
<p>Because of condition #3, this method should be used only by
<em>line-oriented</em> frontends, since it means that intermediate blank lines
are not allowed in function definitions (or any other indented block).</p>
<p>If the current input produces a syntax error, this method immediately
returns False but does <em>not</em> raise the syntax error exception, as
typically clients will want to send invalid syntax to an execution
backend which might convert the invalid syntax into valid Python via
one of the dynamic IPython mechanisms.</p>
</dd></dl>

<dl class="method">
<dt id="IPython.core.inputsplitter.InputSplitter.reset">
<tt class="descname">reset</tt><big>(</big><big>)</big><a class="headerlink" href="#IPython.core.inputsplitter.InputSplitter.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset the input buffer and associated state.</p>
</dd></dl>

<dl class="attribute">
<dt id="IPython.core.inputsplitter.InputSplitter.source">
<tt class="descname">source</tt><em class="property"> = ''</em><a class="headerlink" href="#IPython.core.inputsplitter.InputSplitter.source" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="IPython.core.inputsplitter.InputSplitter.source_reset">
<tt class="descname">source_reset</tt><big>(</big><big>)</big><a class="headerlink" href="#IPython.core.inputsplitter.InputSplitter.source_reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the input source and perform a full reset.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="lineinfo">
<h3><a class="reference internal" href="#IPython.core.inputsplitter.LineInfo" title="IPython.core.inputsplitter.LineInfo"><tt class="xref py py-class docutils literal"><span class="pre">LineInfo</span></tt></a><a class="headerlink" href="#lineinfo" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="IPython.core.inputsplitter.LineInfo">
<em class="property">class </em><tt class="descclassname">IPython.core.inputsplitter.</tt><tt class="descname">LineInfo</tt><big>(</big><em>line</em><big>)</big><a class="headerlink" href="#IPython.core.inputsplitter.LineInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>A single line of input and associated info.</p>
<p>This is a utility class that mostly wraps the output of
<a class="reference internal" href="#IPython.core.inputsplitter.split_user_input" title="IPython.core.inputsplitter.split_user_input"><tt class="xref py py-func docutils literal"><span class="pre">split_user_input()</span></tt></a> into a convenient object to be passed around
during input transformations.</p>
<p>Includes the following as properties:</p>
<dl class="docutils">
<dt>line</dt>
<dd>The original, raw line</dd>
<dt>lspace</dt>
<dd>Any early whitespace before actual text starts.</dd>
<dt>esc</dt>
<dd>The initial esc character (or characters, for double-char escapes like
&#8216;??&#8217; or &#8216;!!&#8217;).</dd>
<dt>fpart</dt>
<dd>The &#8216;function part&#8217;, which is basically the maximal initial sequence
of valid python identifiers and the &#8216;.&#8217; character.  This is what is
checked for alias and magic transformations, used for auto-calling,
etc.</dd>
<dt>rest</dt>
<dd>Everything else on the line.</dd>
</dl>
<dl class="method">
<dt id="IPython.core.inputsplitter.LineInfo.__init__">
<tt class="descname">__init__</tt><big>(</big><em>line</em><big>)</big><a class="headerlink" href="#IPython.core.inputsplitter.LineInfo.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="IPython.core.inputsplitter.get_input_encoding">
<tt class="descclassname">IPython.core.inputsplitter.</tt><tt class="descname">get_input_encoding</tt><big>(</big><big>)</big><a class="headerlink" href="#IPython.core.inputsplitter.get_input_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the default standard input encoding.</p>
<p>If sys.stdin has no encoding, &#8216;ascii&#8217; is returned.</p>
</dd></dl>

<dl class="function">
<dt id="IPython.core.inputsplitter.has_comment">
<tt class="descclassname">IPython.core.inputsplitter.</tt><tt class="descname">has_comment</tt><big>(</big><em>src</em><big>)</big><a class="headerlink" href="#IPython.core.inputsplitter.has_comment" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicate whether an input line has (i.e. ends in, or is) a comment.</p>
<p>This uses tokenize, so it can distinguish comments from # inside strings.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>src</strong> : string</p>
<blockquote>
<div><p>A single line input string.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns :</th><td class="field-body"><p class="first last"><strong>Boolean: True if source has a comment.</strong> :</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="IPython.core.inputsplitter.num_ini_spaces">
<tt class="descclassname">IPython.core.inputsplitter.</tt><tt class="descname">num_ini_spaces</tt><big>(</big><em>s</em><big>)</big><a class="headerlink" href="#IPython.core.inputsplitter.num_ini_spaces" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of initial spaces in a string.</p>
<p>Note that tabs are counted as a single space.  For now, we do <em>not</em> support
mixing of tabs and spaces in the user&#8217;s input.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><strong>s</strong> : string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns :</th><td class="field-body"><strong>n</strong> : int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="IPython.core.inputsplitter.remove_comments">
<tt class="descclassname">IPython.core.inputsplitter.</tt><tt class="descname">remove_comments</tt><big>(</big><em>src</em><big>)</big><a class="headerlink" href="#IPython.core.inputsplitter.remove_comments" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all comments from input source.</p>
<p>Note: comments are NOT recognized inside of strings!</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>src</strong> : string</p>
<blockquote>
<div><p>A single or multiline input string.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns :</th><td class="field-body"><p class="first last"><strong>String with all Python comments removed.</strong> :</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="IPython.core.inputsplitter.split_user_input">
<tt class="descclassname">IPython.core.inputsplitter.</tt><tt class="descname">split_user_input</tt><big>(</big><em>line</em><big>)</big><a class="headerlink" href="#IPython.core.inputsplitter.split_user_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Split user input into early whitespace, esc-char, function part and rest.</p>
<p>This is currently handles lines with &#8216;=&#8217; in them in a very inconsistent
manner.</p>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">split_user_input</span><span class="p">(</span><span class="s">&#39;x=1&#39;</span><span class="p">)</span>
<span class="go">(&#39;&#39;, &#39;&#39;, &#39;x=1&#39;, &#39;&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">split_user_input</span><span class="p">(</span><span class="s">&#39;?&#39;</span><span class="p">)</span>
<span class="go">(&#39;&#39;, &#39;?&#39;, &#39;&#39;, &#39;&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">split_user_input</span><span class="p">(</span><span class="s">&#39;??&#39;</span><span class="p">)</span>
<span class="go">(&#39;&#39;, &#39;??&#39;, &#39;&#39;, &#39;&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">split_user_input</span><span class="p">(</span><span class="s">&#39; ?&#39;</span><span class="p">)</span>
<span class="go">(&#39; &#39;, &#39;?&#39;, &#39;&#39;, &#39;&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">split_user_input</span><span class="p">(</span><span class="s">&#39; ??&#39;</span><span class="p">)</span>
<span class="go">(&#39; &#39;, &#39;??&#39;, &#39;&#39;, &#39;&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">split_user_input</span><span class="p">(</span><span class="s">&#39;??x&#39;</span><span class="p">)</span>
<span class="go">(&#39;&#39;, &#39;??&#39;, &#39;x&#39;, &#39;&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">split_user_input</span><span class="p">(</span><span class="s">&#39;?x=1&#39;</span><span class="p">)</span>
<span class="go">(&#39;&#39;, &#39;&#39;, &#39;?x=1&#39;, &#39;&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">split_user_input</span><span class="p">(</span><span class="s">&#39;!ls&#39;</span><span class="p">)</span>
<span class="go">(&#39;&#39;, &#39;!&#39;, &#39;ls&#39;, &#39;&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">split_user_input</span><span class="p">(</span><span class="s">&#39;  !ls&#39;</span><span class="p">)</span>
<span class="go">(&#39;  &#39;, &#39;!&#39;, &#39;ls&#39;, &#39;&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">split_user_input</span><span class="p">(</span><span class="s">&#39;!!ls&#39;</span><span class="p">)</span>
<span class="go">(&#39;&#39;, &#39;!!&#39;, &#39;ls&#39;, &#39;&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">split_user_input</span><span class="p">(</span><span class="s">&#39;  !!ls&#39;</span><span class="p">)</span>
<span class="go">(&#39;  &#39;, &#39;!!&#39;, &#39;ls&#39;, &#39;&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">split_user_input</span><span class="p">(</span><span class="s">&#39;,ls&#39;</span><span class="p">)</span>
<span class="go">(&#39;&#39;, &#39;,&#39;, &#39;ls&#39;, &#39;&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">split_user_input</span><span class="p">(</span><span class="s">&#39;;ls&#39;</span><span class="p">)</span>
<span class="go">(&#39;&#39;, &#39;;&#39;, &#39;ls&#39;, &#39;&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">split_user_input</span><span class="p">(</span><span class="s">&#39;  ;ls&#39;</span><span class="p">)</span>
<span class="go">(&#39;  &#39;, &#39;;&#39;, &#39;ls&#39;, &#39;&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">split_user_input</span><span class="p">(</span><span class="s">&#39;f.g(x)&#39;</span><span class="p">)</span>
<span class="go">(&#39;&#39;, &#39;&#39;, &#39;f.g(x)&#39;, &#39;&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">split_user_input</span><span class="p">(</span><span class="s">&#39;f.g (x)&#39;</span><span class="p">)</span>
<span class="go">(&#39;&#39;, &#39;&#39;, &#39;f.g&#39;, &#39;(x)&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">split_user_input</span><span class="p">(</span><span class="s">&#39;?</span><span class="si">%hi</span><span class="s">st&#39;</span><span class="p">)</span>
<span class="go">(&#39;&#39;, &#39;?&#39;, &#39;%hist&#39;, &#39;&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">split_user_input</span><span class="p">(</span><span class="s">&#39;?x*&#39;</span><span class="p">)</span>
<span class="go">(&#39;&#39;, &#39;?&#39;, &#39;x*&#39;, &#39;&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="IPython.core.inputsplitter.transform_assign_magic">
<tt class="descclassname">IPython.core.inputsplitter.</tt><tt class="descname">transform_assign_magic</tt><big>(</big><em>line</em><big>)</big><a class="headerlink" href="#IPython.core.inputsplitter.transform_assign_magic" title="Permalink to this definition">¶</a></dt>
<dd><p>Handle the <cite>a = %who</cite> syntax.</p>
</dd></dl>

<dl class="function">
<dt id="IPython.core.inputsplitter.transform_assign_system">
<tt class="descclassname">IPython.core.inputsplitter.</tt><tt class="descname">transform_assign_system</tt><big>(</big><em>line</em><big>)</big><a class="headerlink" href="#IPython.core.inputsplitter.transform_assign_system" title="Permalink to this definition">¶</a></dt>
<dd><p>Handle the <cite>files = !ls</cite> syntax.</p>
</dd></dl>

<dl class="function">
<dt id="IPython.core.inputsplitter.transform_classic_prompt">
<tt class="descclassname">IPython.core.inputsplitter.</tt><tt class="descname">transform_classic_prompt</tt><big>(</big><em>line</em><big>)</big><a class="headerlink" href="#IPython.core.inputsplitter.transform_classic_prompt" title="Permalink to this definition">¶</a></dt>
<dd><p>Handle inputs that start with &#8216;&gt;&gt;&gt; &#8216; syntax.</p>
</dd></dl>

<dl class="function">
<dt id="IPython.core.inputsplitter.transform_help_end">
<tt class="descclassname">IPython.core.inputsplitter.</tt><tt class="descname">transform_help_end</tt><big>(</big><em>line</em><big>)</big><a class="headerlink" href="#IPython.core.inputsplitter.transform_help_end" title="Permalink to this definition">¶</a></dt>
<dd><p>Translate lines with ?/?? at the end</p>
</dd></dl>

<dl class="function">
<dt id="IPython.core.inputsplitter.transform_ipy_prompt">
<tt class="descclassname">IPython.core.inputsplitter.</tt><tt class="descname">transform_ipy_prompt</tt><big>(</big><em>line</em><big>)</big><a class="headerlink" href="#IPython.core.inputsplitter.transform_ipy_prompt" title="Permalink to this definition">¶</a></dt>
<dd><p>Handle inputs that start classic IPython prompt syntax.</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="IPython.core.interactiveshell.html" title="core.interactiveshell"
             >next</a> |</li>
        <li class="right" >
          <a href="IPython.core.hooks.html" title="core.hooks"
             >previous</a> |</li>
        <li><a href="../../index.html">home</a>|&nbsp;</li>
        <li><a href="../../search.html">search</a>|&nbsp;</li>
       <li><a href="../../index.html">documentation </a> &raquo;</li>

          <li><a href="../index.html" >The IPython API</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2008, The IPython Development Team.
      Last updated on Jul 31, 2011.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1pre.
    </div>
  </body>
</html>