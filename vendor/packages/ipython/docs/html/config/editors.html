

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Editor configuration &mdash; IPython 0.11 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.11',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="IPython 0.11 documentation" href="../index.html" />
    <link rel="up" title="Configuration and customization" href="index.html" />
    <link rel="next" title="Outdated configuration information that might still be useful" href="old.html" />
    <link rel="prev" title="Configuring the ipython command line application" href="ipython.html" /> 
  </head>
  <body>

<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px">
<a href="../index.html"><img src="../_static/logo.png" border="0" alt="IPython Documentation"/></a>
</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="old.html" title="Outdated configuration information that might still be useful"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="ipython.html" title="Configuring the ipython command line application"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">home</a>|&nbsp;</li>
        <li><a href="../search.html">search</a>|&nbsp;</li>
       <li><a href="../index.html">documentation </a> &raquo;</li>

          <li><a href="index.html" accesskey="U">Configuration and customization</a> &raquo;</li> 
      </ul>
    </div>

      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Editor configuration</a><ul>
<li><a class="reference internal" href="#textmate">TextMate</a></li>
<li><a class="reference internal" href="#vim-configuration">vim configuration</a></li>
<li><a class="reference internal" href="#x-emacs">(X)Emacs</a></li>
<li><a class="reference internal" href="#editor">Editor</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="ipython.html"
                        title="previous chapter">Configuring the <strong class="command">ipython</strong> command line application</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="old.html"
                        title="next chapter">Outdated configuration information that might still be useful</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/config/editors.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="editor-configuration">
<span id="editors"></span><h1>Editor configuration<a class="headerlink" href="#editor-configuration" title="Permalink to this headline">¶</a></h1>
<p>IPython can integrate with text editors in a number of different ways:</p>
<ul class="simple">
<li>Editors (such as (X)Emacs <a class="reference internal" href="#id4">[Emacs]</a>, vim <a class="reference internal" href="#vim">[vim]</a> and TextMate <a class="reference internal" href="#id5">[TextMate]</a>) can
send code to IPython for execution.</li>
<li>IPython&#8217;s <tt class="docutils literal"><span class="pre">%edit</span></tt> magic command can open an editor of choice to edit
a code block.</li>
</ul>
<p>The %edit command (and its alias %ed) will invoke the editor set in your
environment as <span class="target" id="index-0"></span><tt class="xref std std-envvar docutils literal"><span class="pre">EDITOR</span></tt>. If this variable is not set, it will default
to vi under Linux/Unix and to notepad under Windows. You may want to set this
variable properly and to a lightweight editor which doesn&#8217;t take too long to
start (that is, something other than a new instance of Emacs). This way you
can edit multi-line code quickly and with the power of a real editor right
inside IPython.</p>
<p>You can also control the editor via the commmand-line option &#8216;-editor&#8217; or in
your configuration file, by setting the <tt class="xref py py-attr docutils literal"><span class="pre">InteractiveShell.editor</span></tt>
configuration attribute.</p>
<div class="section" id="textmate">
<h2>TextMate<a class="headerlink" href="#textmate" title="Permalink to this headline">¶</a></h2>
<p>Currently, TextMate support in IPython is broken.  It used to work well,
but the code has been moved to <tt class="xref py py-mod docutils literal"><span class="pre">IPython.quarantine</span></tt> until it is updated.</p>
</div>
<div class="section" id="vim-configuration">
<h2>vim configuration<a class="headerlink" href="#vim-configuration" title="Permalink to this headline">¶</a></h2>
<p>Currently, vim support in IPython is broken.  Like the TextMate code,
the vim support code has been moved to <tt class="xref py py-mod docutils literal"><span class="pre">IPython.quarantine</span></tt> until it
is updated.</p>
</div>
<div class="section" id="x-emacs">
<span id="emacs"></span><h2>(X)Emacs<a class="headerlink" href="#x-emacs" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="editor">
<h2>Editor<a class="headerlink" href="#editor" title="Permalink to this headline">¶</a></h2>
<p>If you are a dedicated Emacs user, and want to use Emacs when IPython&#8217;s
<tt class="docutils literal"><span class="pre">%edit</span></tt> magic command is called you should set up the Emacs server so that
new requests are handled by the original process. This means that almost no
time is spent in handling the request (assuming an Emacs process is already
running). For this to work, you need to set your EDITOR environment variable
to &#8216;emacsclient&#8217;. The code below, supplied by Francois Pinard, can then be
used in your <tt class="file docutils literal"><span class="pre">.emacs</span></tt> file to enable the server:</p>
<div class="highlight-python"><pre>(defvar server-buffer-clients)
(when (and (fboundp 'server-start) (string-equal (getenv "TERM") 'xterm))
  (server-start)
  (defun fp-kill-server-with-buffer-routine ()
    (and server-buffer-clients (server-done)))
  (add-hook 'kill-buffer-hook 'fp-kill-server-with-buffer-routine))</pre>
</div>
<p>Thanks to the work of Alexander Schmolck and Prabhu Ramachandran,
currently (X)Emacs and IPython get along very well in other ways.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You will need to use a recent enough version of <tt class="file docutils literal"><span class="pre">python-mode.el</span></tt>,
along with the file <tt class="file docutils literal"><span class="pre">ipython.el</span></tt>. You can check that the version you
have of <tt class="file docutils literal"><span class="pre">python-mode.el</span></tt> is new enough by either looking at the
revision number in the file itself, or asking for it in (X)Emacs via <tt class="docutils literal"><span class="pre">M-x</span>
<span class="pre">py-version</span></tt>. Versions 4.68 and newer contain the necessary fixes for
proper IPython support.</p>
</div>
<p>The file <tt class="file docutils literal"><span class="pre">ipython.el</span></tt> is included with the IPython distribution, in the
directory <tt class="file docutils literal"><span class="pre">docs/emacs</span></tt>. Once you put these files in your Emacs path, all
you need in your <tt class="file docutils literal"><span class="pre">.emacs</span></tt> file is:</p>
<div class="highlight-python"><pre>(require 'ipython)</pre>
</div>
<p>This should give you full support for executing code snippets via
IPython, opening IPython as your Python shell via <tt class="docutils literal"><span class="pre">C-c</span> <span class="pre">!</span></tt>, etc.</p>
<p>You can customize the arguments passed to the IPython instance at startup by
setting the <tt class="docutils literal"><span class="pre">py-python-command-args</span></tt> variable.  For example, to start always
in <tt class="docutils literal"><span class="pre">pylab</span></tt> mode with hardcoded light-background colors, you can use:</p>
<div class="highlight-python"><pre>(setq py-python-command-args '("-pylab" "-colors" "LightBG"))</pre>
</div>
<p>If you happen to get garbage instead of colored prompts as described in
the previous section, you may need to set also in your <tt class="file docutils literal"><span class="pre">.emacs</span></tt> file:</p>
<div class="highlight-python"><pre>(setq ansi-color-for-comint-mode t)</pre>
</div>
<p>Notes on emacs support:</p>
<ul class="simple">
<li>There is one caveat you should be aware of: you must start the IPython shell
before attempting to execute any code regions via <tt class="docutils literal"><span class="pre">C-c</span> <span class="pre">|</span></tt>. Simply type
<tt class="docutils literal"><span class="pre">C-c</span> <span class="pre">!</span></tt> to start IPython before passing any code regions to the
interpreter, and you shouldn&#8217;t experience any problems. This is due to a bug
in Python itself, which has been fixed for Python 2.3, but exists as of
Python 2.2.2 (reported as SF bug [ 737947 ]).</li>
<li>The (X)Emacs support is maintained by Alexander Schmolck, so all
comments/requests should be directed to him through the IPython mailing
lists.</li>
<li>This code is still somewhat experimental so it&#8217;s a bit rough around the
edges (although in practice, it works quite well).</li>
<li>Be aware that if you customized <tt class="docutils literal"><span class="pre">py-python-command</span></tt> previously, this value
will override what <tt class="file docutils literal"><span class="pre">ipython.el</span></tt> does (because loading the customization
variables comes later).</li>
</ul>
<table class="docutils citation" frame="void" id="id4" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Emacs]</td><td>Emacs. <a class="reference external" href="http://www.gnu.org/software/emacs/">http://www.gnu.org/software/emacs/</a></td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="id5" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[TextMate]</a></td><td>TextMate: the missing editor.  <a class="reference external" href="http://macromates.com/">http://macromates.com/</a></td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="vim" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[vim]</a></td><td>vim. <a class="reference external" href="http://www.vim.org/">http://www.vim.org/</a></td></tr>
</tbody>
</table>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="old.html" title="Outdated configuration information that might still be useful"
             >next</a> |</li>
        <li class="right" >
          <a href="ipython.html" title="Configuring the ipython command line application"
             >previous</a> |</li>
        <li><a href="../index.html">home</a>|&nbsp;</li>
        <li><a href="../search.html">search</a>|&nbsp;</li>
       <li><a href="../index.html">documentation </a> &raquo;</li>

          <li><a href="index.html" >Configuration and customization</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2008, The IPython Development Team.
      Last updated on Jul 31, 2011.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1pre.
    </div>
  </body>
</html>