{
  "{\"filename\":\"/app/kitsune/sumo/static/sumo/js/tests/ajaxpreviewtests.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":2,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "react",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "React"
              }
            ]
          },
          {
            "source": "mocha-jsdom",
            "imported": [
              "default",
              "rerequire"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mochaJsdom"
              },
              {
                "kind": "named",
                "imported": "rerequire",
                "local": "rerequire"
              }
            ]
          },
          {
            "source": "chai",
            "imported": [
              "expect"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "expect",
                "local": "expect"
              }
            ]
          },
          {
            "source": "sinon",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "sinon"
              }
            ]
          },
          {
            "source": "./fixtures/mochaGettext.js",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mochaGettext"
              }
            ]
          },
          {
            "source": "./fixtures/mochaK.js",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mochaK"
              }
            ]
          },
          {
            "source": "./fixtures/mochaJquery.js",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mochaJquery"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _mochaJsdom = require('mocha-jsdom');\n\nvar _mochaJsdom2 = _interopRequireDefault(_mochaJsdom);\n\nvar _chai = require('chai');\n\nvar _sinon = require('sinon');\n\nvar _sinon2 = _interopRequireDefault(_sinon);\n\nvar _fixturesMochaGettextJs = require('./fixtures/mochaGettext.js');\n\nvar _fixturesMochaGettextJs2 = _interopRequireDefault(_fixturesMochaGettextJs);\n\nvar _fixturesMochaKJs = require('./fixtures/mochaK.js');\n\nvar _fixturesMochaKJs2 = _interopRequireDefault(_fixturesMochaKJs);\n\nvar _fixturesMochaJqueryJs = require('./fixtures/mochaJquery.js');\n\nvar _fixturesMochaJqueryJs2 = _interopRequireDefault(_fixturesMochaJqueryJs);\n\ndescribe('ajax preview', function () {\n  (0, _mochaJsdom2['default'])({ useEach: true });\n  (0, _fixturesMochaJqueryJs2['default'])();\n  (0, _fixturesMochaKJs2['default'])();\n  (0, _fixturesMochaGettextJs2['default'])();\n  /* globals window, $, k */\n\n  var fakeServer;\n\n  describe('events', function () {\n\n    beforeEach(function () {\n      (0, _mochaJsdom.rerequire)('../ajaxpreview.js');\n      (0, _mochaJsdom.rerequire)('../libs/jquery.lazyload.js');\n\n      _sinon2['default'].stub($, 'ajax').yieldsTo('success', '<p>The content to preview.</p>');\n\n      var sandbox = _react2['default'].createElement(\n        'div',\n        null,\n        _react2['default'].createElement(\n          'form',\n          { action: '', method: 'post' },\n          _react2['default'].createElement('input', { type: 'hidden', name: 'csrfmiddlewaretoken', defaultValue: 'tokenvalue' }),\n          _react2['default'].createElement('textarea', { id: 'id_content', name: 'content', defaultValue: 'The content to preview.' }),\n          _react2['default'].createElement('input', { type: 'submit', id: 'preview', name: 'preview', defaultValue: 'Preview',\n            'data-preview-url': '/preview',\n            'data-preview-container-id': 'preview-container',\n            'data-preview-content-id': 'id_content' })\n        ),\n        _react2['default'].createElement('div', { id: 'preview-container' })\n      );\n      _react2['default'].render(sandbox, window.document.body);\n    });\n\n    afterEach(function () {\n      $.ajax.restore();\n      _react2['default'].unmountComponentAtNode(window.document.body);\n    });\n\n    // This test is mainly about testing the test framework.\n    it('should have a jquery', function () {\n      (0, _chai.expect)($('body').length).to.equal(1);\n    });\n\n    it('should fire \"show-preview\" event', function (done) {\n      var ajaxPreview = new k.AjaxPreview($('#preview'));\n      $(ajaxPreview).bind('show-preview', function (e, success, content) {\n        (0, _chai.expect)(success).to.equal(true);\n        (0, _chai.expect)(content).to.equal('<p>The content to preview.</p>');\n        done();\n      });\n      $(ajaxPreview).trigger('get-preview');\n    });\n\n    it('should fire \"done\" event', function (done) {\n      var ajaxPreview = new k.AjaxPreview($('#preview'));\n      $(ajaxPreview).bind('done', function (e, success) {\n        (0, _chai.expect)(success).to.equal(true);\n        done();\n      });\n      $(ajaxPreview).trigger('get-preview');\n    });\n\n    it('should show the preview', function (done) {\n      var ajaxPreview = new k.AjaxPreview($('#preview'));\n      $(ajaxPreview).bind('done', function (e, success) {\n        (0, _chai.expect)($('#preview-container').html()).to.equal('<p>The content to preview.</p>');\n        done();\n      });\n      $('#preview').click();\n    });\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9hcHAva2l0c3VuZS9zdW1vL3N0YXRpYy9zdW1vL2pzL3Rlc3RzL2FqYXhwcmV2aWV3dGVzdHMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztxQkFBa0IsT0FBTzs7OzswQkFDc0IsYUFBYTs7OztvQkFDdkMsTUFBTTs7cUJBQ1QsT0FBTzs7OztzQ0FFQSw0QkFBNEI7Ozs7Z0NBQ2xDLHNCQUFzQjs7OztxQ0FDakIsMkJBQTJCOzs7O0FBRW5ELFFBQVEsQ0FBQyxjQUFjLEVBQUUsWUFBTTtBQUM3QiwrQkFBVyxFQUFDLE9BQU8sRUFBRSxJQUFJLEVBQUMsQ0FBQyxDQUFDO0FBQzVCLDJDQUFhLENBQUM7QUFDZCxzQ0FBUSxDQUFDO0FBQ1QsNENBQWMsQ0FBQzs7O0FBR2YsTUFBSSxVQUFVLENBQUM7O0FBRWYsVUFBUSxDQUFDLFFBQVEsRUFBRSxZQUFNOztBQUV2QixjQUFVLENBQUMsWUFBTTtBQUNmLGlDQUFVLG1CQUFtQixDQUFDLENBQUM7QUFDL0IsaUNBQVUsNEJBQTRCLENBQUMsQ0FBQzs7QUFFeEMseUJBQU0sSUFBSSxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUMsQ0FBQyxRQUFRLENBQUMsU0FBUyxFQUFFLGdDQUFnQyxDQUFDLENBQUM7O0FBRTVFLFVBQUksT0FBTyxHQUNUOzs7UUFDRTs7WUFBTSxNQUFNLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBQyxNQUFNO1VBQzNCLDRDQUFPLElBQUksRUFBQyxRQUFRLEVBQUMsSUFBSSxFQUFDLHFCQUFxQixFQUFDLFlBQVksRUFBQyxZQUFZLEdBQUc7VUFDNUUsK0NBQVUsRUFBRSxFQUFDLFlBQVksRUFBQyxJQUFJLEVBQUMsU0FBUyxFQUFDLFlBQVksRUFBQyx5QkFBeUIsR0FBRTtVQUNqRiw0Q0FBTyxJQUFJLEVBQUMsUUFBUSxFQUFDLEVBQUUsRUFBQyxTQUFTLEVBQUMsSUFBSSxFQUFDLFNBQVMsRUFBQyxZQUFZLEVBQUMsU0FBUztBQUNyRSxnQ0FBaUIsVUFBVTtBQUMzQix5Q0FBMEIsbUJBQW1CO0FBQzdDLHVDQUF3QixZQUFZLEdBQUc7U0FDcEM7UUFDUCwwQ0FBSyxFQUFFLEVBQUMsbUJBQW1CLEdBQU87T0FDOUIsQUFDUCxDQUFDO0FBQ0YseUJBQU0sTUFBTSxDQUFDLE9BQU8sRUFBRSxNQUFNLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQzdDLENBQUMsQ0FBQzs7QUFFSCxhQUFTLENBQUMsWUFBTTtBQUNkLE9BQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7QUFDakIseUJBQU0sc0JBQXNCLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUNwRCxDQUFDLENBQUM7OztBQUdILE1BQUUsQ0FBQyxzQkFBc0IsRUFBRSxZQUFNO0FBQy9CLHdCQUFPLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO0tBQ3RDLENBQUMsQ0FBQzs7QUFFSCxNQUFFLENBQUMsa0NBQWtDLEVBQUUsVUFBQSxJQUFJLEVBQUk7QUFDN0MsVUFBSSxXQUFXLEdBQUcsSUFBSSxDQUFDLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO0FBQ25ELE9BQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFLFVBQUMsQ0FBQyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUs7QUFDM0QsMEJBQU8sT0FBTyxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUMvQiwwQkFBTyxPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLGdDQUFnQyxDQUFDLENBQUM7QUFDM0QsWUFBSSxFQUFFLENBQUM7T0FDUixDQUFDLENBQUM7QUFDSCxPQUFDLENBQUMsV0FBVyxDQUFDLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDO0tBQ3ZDLENBQUMsQ0FBQzs7QUFFSCxNQUFFLENBQUMsMEJBQTBCLEVBQUUsVUFBQSxJQUFJLEVBQUk7QUFDckMsVUFBSSxXQUFXLEdBQUcsSUFBSSxDQUFDLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO0FBQ25ELE9BQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLFVBQUMsQ0FBQyxFQUFFLE9BQU8sRUFBSztBQUMxQywwQkFBTyxPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQy9CLFlBQUksRUFBRSxDQUFDO09BQ1IsQ0FBQyxDQUFDO0FBQ0gsT0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQztLQUN2QyxDQUFDLENBQUM7O0FBRUgsTUFBRSxDQUFDLHlCQUF5QixFQUFFLFVBQUEsSUFBSSxFQUFJO0FBQ3BDLFVBQUksV0FBVyxHQUFHLElBQUksQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQztBQUNuRCxPQUFDLENBQUMsV0FBVyxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxVQUFDLENBQUMsRUFBRSxPQUFPLEVBQUs7QUFDMUMsMEJBQU8sQ0FBQyxDQUFDLG9CQUFvQixDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FDbkMsRUFBRSxDQUFDLEtBQUssQ0FBQyxnQ0FBZ0MsQ0FBQyxDQUFDO0FBQzlDLFlBQUksRUFBRSxDQUFDO09BQ1IsQ0FBQyxDQUFDO0FBQ0gsT0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDO0tBQ3ZCLENBQUMsQ0FBQztHQUNKLENBQUMsQ0FBQztDQUNKLENBQUMsQ0FBQyIsImZpbGUiOiIvYXBwL2tpdHN1bmUvc3Vtby9zdGF0aWMvc3Vtby9qcy90ZXN0cy9hamF4cHJldmlld3Rlc3RzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7ZGVmYXVsdCBhcyBtb2NoYUpzZG9tLCByZXJlcXVpcmV9IGZyb20gJ21vY2hhLWpzZG9tJztcbmltcG9ydCB7ZXhwZWN0fSBmcm9tICdjaGFpJztcbmltcG9ydCBzaW5vbiBmcm9tICdzaW5vbic7XG5cbmltcG9ydCBtb2NoYUdldHRleHQgZnJvbSAnLi9maXh0dXJlcy9tb2NoYUdldHRleHQuanMnO1xuaW1wb3J0IG1vY2hhSyBmcm9tICcuL2ZpeHR1cmVzL21vY2hhSy5qcyc7XG5pbXBvcnQgbW9jaGFKcXVlcnkgZnJvbSAnLi9maXh0dXJlcy9tb2NoYUpxdWVyeS5qcyc7XG5cbmRlc2NyaWJlKCdhamF4IHByZXZpZXcnLCAoKSA9PiB7XG4gIG1vY2hhSnNkb20oe3VzZUVhY2g6IHRydWV9KTtcbiAgbW9jaGFKcXVlcnkoKTtcbiAgbW9jaGFLKCk7XG4gIG1vY2hhR2V0dGV4dCgpO1xuICAvKiBnbG9iYWxzIHdpbmRvdywgJCwgayAqL1xuXG4gIHZhciBmYWtlU2VydmVyO1xuXG4gIGRlc2NyaWJlKCdldmVudHMnLCAoKSA9PiB7XG5cbiAgICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAgIHJlcmVxdWlyZSgnLi4vYWpheHByZXZpZXcuanMnKTtcbiAgICAgIHJlcmVxdWlyZSgnLi4vbGlicy9qcXVlcnkubGF6eWxvYWQuanMnKTtcblxuICAgICAgc2lub24uc3R1YigkLCAnYWpheCcpLnlpZWxkc1RvKCdzdWNjZXNzJywgJzxwPlRoZSBjb250ZW50IHRvIHByZXZpZXcuPC9wPicpO1xuXG4gICAgICBsZXQgc2FuZGJveCA9IChcbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8Zm9ybSBhY3Rpb249XCJcIiBtZXRob2Q9XCJwb3N0XCI+XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cImhpZGRlblwiIG5hbWU9XCJjc3JmbWlkZGxld2FyZXRva2VuXCIgZGVmYXVsdFZhbHVlPVwidG9rZW52YWx1ZVwiIC8+XG4gICAgICAgICAgICA8dGV4dGFyZWEgaWQ9XCJpZF9jb250ZW50XCIgbmFtZT1cImNvbnRlbnRcIiBkZWZhdWx0VmFsdWU9XCJUaGUgY29udGVudCB0byBwcmV2aWV3LlwiLz5cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwic3VibWl0XCIgaWQ9XCJwcmV2aWV3XCIgbmFtZT1cInByZXZpZXdcIiBkZWZhdWx0VmFsdWU9XCJQcmV2aWV3XCJcbiAgICAgICAgICAgICAgZGF0YS1wcmV2aWV3LXVybD1cIi9wcmV2aWV3XCJcbiAgICAgICAgICAgICAgZGF0YS1wcmV2aWV3LWNvbnRhaW5lci1pZD1cInByZXZpZXctY29udGFpbmVyXCJcbiAgICAgICAgICAgICAgZGF0YS1wcmV2aWV3LWNvbnRlbnQtaWQ9XCJpZF9jb250ZW50XCIgLz5cbiAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgICAgPGRpdiBpZD1cInByZXZpZXctY29udGFpbmVyXCI+PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKTtcbiAgICAgIFJlYWN0LnJlbmRlcihzYW5kYm94LCB3aW5kb3cuZG9jdW1lbnQuYm9keSk7XG4gICAgfSk7XG5cbiAgICBhZnRlckVhY2goKCkgPT4ge1xuICAgICAgJC5hamF4LnJlc3RvcmUoKTtcbiAgICAgIFJlYWN0LnVubW91bnRDb21wb25lbnRBdE5vZGUod2luZG93LmRvY3VtZW50LmJvZHkpO1xuICAgIH0pO1xuXG4gICAgLy8gVGhpcyB0ZXN0IGlzIG1haW5seSBhYm91dCB0ZXN0aW5nIHRoZSB0ZXN0IGZyYW1ld29yay5cbiAgICBpdCgnc2hvdWxkIGhhdmUgYSBqcXVlcnknLCAoKSA9PiB7XG4gICAgICBleHBlY3QoJCgnYm9keScpLmxlbmd0aCkudG8uZXF1YWwoMSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGZpcmUgXCJzaG93LXByZXZpZXdcIiBldmVudCcsIGRvbmUgPT4ge1xuICAgICAgbGV0IGFqYXhQcmV2aWV3ID0gbmV3IGsuQWpheFByZXZpZXcoJCgnI3ByZXZpZXcnKSk7XG4gICAgICAkKGFqYXhQcmV2aWV3KS5iaW5kKCdzaG93LXByZXZpZXcnLCAoZSwgc3VjY2VzcywgY29udGVudCkgPT4ge1xuICAgICAgICBleHBlY3Qoc3VjY2VzcykudG8uZXF1YWwodHJ1ZSk7XG4gICAgICAgIGV4cGVjdChjb250ZW50KS50by5lcXVhbCgnPHA+VGhlIGNvbnRlbnQgdG8gcHJldmlldy48L3A+Jyk7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgIH0pO1xuICAgICAgJChhamF4UHJldmlldykudHJpZ2dlcignZ2V0LXByZXZpZXcnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZmlyZSBcImRvbmVcIiBldmVudCcsIGRvbmUgPT4ge1xuICAgICAgbGV0IGFqYXhQcmV2aWV3ID0gbmV3IGsuQWpheFByZXZpZXcoJCgnI3ByZXZpZXcnKSk7XG4gICAgICAkKGFqYXhQcmV2aWV3KS5iaW5kKCdkb25lJywgKGUsIHN1Y2Nlc3MpID0+IHtcbiAgICAgICAgZXhwZWN0KHN1Y2Nlc3MpLnRvLmVxdWFsKHRydWUpO1xuICAgICAgICBkb25lKCk7XG4gICAgICB9KTtcbiAgICAgICQoYWpheFByZXZpZXcpLnRyaWdnZXIoJ2dldC1wcmV2aWV3Jyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHNob3cgdGhlIHByZXZpZXcnLCBkb25lID0+IHtcbiAgICAgIGxldCBhamF4UHJldmlldyA9IG5ldyBrLkFqYXhQcmV2aWV3KCQoJyNwcmV2aWV3JykpO1xuICAgICAgJChhamF4UHJldmlldykuYmluZCgnZG9uZScsIChlLCBzdWNjZXNzKSA9PiB7XG4gICAgICAgIGV4cGVjdCgkKCcjcHJldmlldy1jb250YWluZXInKS5odG1sKCkpXG4gICAgICAgICAgLnRvLmVxdWFsKCc8cD5UaGUgY29udGVudCB0byBwcmV2aWV3LjwvcD4nKTtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfSk7XG4gICAgICAkKCcjcHJldmlldycpLmNsaWNrKCk7XG4gICAgfSk7XG4gIH0pO1xufSk7XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/app/kitsune/sumo/static/sumo/js/tests/ajaxpreviewtests.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/app/kitsune/sumo/static/sumo/js/tests/ajaxpreviewtests.js",
      "sourcesContent": [
        "import React from 'react';\nimport {default as mochaJsdom, rerequire} from 'mocha-jsdom';\nimport {expect} from 'chai';\nimport sinon from 'sinon';\n\nimport mochaGettext from './fixtures/mochaGettext.js';\nimport mochaK from './fixtures/mochaK.js';\nimport mochaJquery from './fixtures/mochaJquery.js';\n\ndescribe('ajax preview', () => {\n  mochaJsdom({useEach: true});\n  mochaJquery();\n  mochaK();\n  mochaGettext();\n  /* globals window, $, k */\n\n  var fakeServer;\n\n  describe('events', () => {\n\n    beforeEach(() => {\n      rerequire('../ajaxpreview.js');\n      rerequire('../libs/jquery.lazyload.js');\n\n      sinon.stub($, 'ajax').yieldsTo('success', '<p>The content to preview.</p>');\n\n      let sandbox = (\n        <div>\n          <form action=\"\" method=\"post\">\n            <input type=\"hidden\" name=\"csrfmiddlewaretoken\" defaultValue=\"tokenvalue\" />\n            <textarea id=\"id_content\" name=\"content\" defaultValue=\"The content to preview.\"/>\n            <input type=\"submit\" id=\"preview\" name=\"preview\" defaultValue=\"Preview\"\n              data-preview-url=\"/preview\"\n              data-preview-container-id=\"preview-container\"\n              data-preview-content-id=\"id_content\" />\n          </form>\n          <div id=\"preview-container\"></div>\n        </div>\n      );\n      React.render(sandbox, window.document.body);\n    });\n\n    afterEach(() => {\n      $.ajax.restore();\n      React.unmountComponentAtNode(window.document.body);\n    });\n\n    // This test is mainly about testing the test framework.\n    it('should have a jquery', () => {\n      expect($('body').length).to.equal(1);\n    });\n\n    it('should fire \"show-preview\" event', done => {\n      let ajaxPreview = new k.AjaxPreview($('#preview'));\n      $(ajaxPreview).bind('show-preview', (e, success, content) => {\n        expect(success).to.equal(true);\n        expect(content).to.equal('<p>The content to preview.</p>');\n        done();\n      });\n      $(ajaxPreview).trigger('get-preview');\n    });\n\n    it('should fire \"done\" event', done => {\n      let ajaxPreview = new k.AjaxPreview($('#preview'));\n      $(ajaxPreview).bind('done', (e, success) => {\n        expect(success).to.equal(true);\n        done();\n      });\n      $(ajaxPreview).trigger('get-preview');\n    });\n\n    it('should show the preview', done => {\n      let ajaxPreview = new k.AjaxPreview($('#preview'));\n      $(ajaxPreview).bind('done', (e, success) => {\n        expect($('#preview-container').html())\n          .to.equal('<p>The content to preview.</p>');\n        done();\n      });\n      $('#preview').click();\n    });\n  });\n});\n"
      ]
    },
    "mtime": 1561057444000
  },
  "{\"filename\":\"/app/kitsune/sumo/static/sumo/js/tests/fixtures/mochaGettext.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":2,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "./mochaFixtureHelper.js",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mochaFixtureHelper"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _mochaFixtureHelperJs = require('./mochaFixtureHelper.js');\n\nvar _mochaFixtureHelperJs2 = _interopRequireDefault(_mochaFixtureHelperJs);\n\nfunction fakeGettext(msgid) {\n  return msgid;\n}\n\nexports['default'] = (0, _mochaFixtureHelperJs2['default'])(function () {\n  return {\n    gettext: fakeGettext\n  };\n});\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9hcHAva2l0c3VuZS9zdW1vL3N0YXRpYy9zdW1vL2pzL3Rlc3RzL2ZpeHR1cmVzL21vY2hhR2V0dGV4dC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7OztvQ0FBK0IseUJBQXlCOzs7O0FBRXhELFNBQVMsV0FBVyxDQUFDLEtBQUssRUFBRTtBQUMxQixTQUFPLEtBQUssQ0FBQztDQUNkOztxQkFFYyx1Q0FBbUIsWUFBTTtBQUN0QyxTQUFPO0FBQ0wsV0FBTyxFQUFFLFdBQVc7R0FDckIsQ0FBQztDQUNILENBQUMiLCJmaWxlIjoiL2FwcC9raXRzdW5lL3N1bW8vc3RhdGljL3N1bW8vanMvdGVzdHMvZml4dHVyZXMvbW9jaGFHZXR0ZXh0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vY2hhRml4dHVyZUhlbHBlciBmcm9tICcuL21vY2hhRml4dHVyZUhlbHBlci5qcyc7XG5cbmZ1bmN0aW9uIGZha2VHZXR0ZXh0KG1zZ2lkKSB7XG4gIHJldHVybiBtc2dpZDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgbW9jaGFGaXh0dXJlSGVscGVyKCgpID0+IHtcbiAgcmV0dXJuIHtcbiAgICBnZXR0ZXh0OiBmYWtlR2V0dGV4dCxcbiAgfTtcbn0pO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/app/kitsune/sumo/static/sumo/js/tests/fixtures/mochaGettext.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;oCAA+B,yBAAyB;;;;AAExD,SAAS,WAAW,CAAC,KAAK,EAAE;AAC1B,SAAO,KAAK,CAAC;CACd;;qBAEc,uCAAmB,YAAM;AACtC,SAAO;AACL,WAAO,EAAE,WAAW;GACrB,CAAC;CACH,CAAC",
      "file": "/app/kitsune/sumo/static/sumo/js/tests/fixtures/mochaGettext.js",
      "sourcesContent": [
        "import mochaFixtureHelper from './mochaFixtureHelper.js';\n\nfunction fakeGettext(msgid) {\n  return msgid;\n}\n\nexport default mochaFixtureHelper(() => {\n  return {\n    gettext: fakeGettext,\n  };\n});\n"
      ]
    },
    "mtime": 1561057444000
  },
  "{\"filename\":\"/app/kitsune/sumo/static/sumo/js/tests/fixtures/mochaFixtureHelper.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":2,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "/**\n * Install globals into the jsdom namespace.\n * @param  {function} mapFunc This function will be called to get the list of\n *   things to install into the namespace. Should return an object of keys\n *   to values to install.\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports[\"default\"] = function (mapFunc) {\n  return function (options) {\n    var map = undefined;\n\n    global.beforeEach(function () {\n      map = mapFunc(options);\n      for (var key in map) {\n        var val = map[key];\n        global[key] = val;\n        if (global.window) {\n          global.window[key] = val;\n        }\n      }\n    });\n\n    global.afterEach(function () {\n      for (var key in map) {\n        delete global[key];\n        if (global.window) {\n          delete global.window[key];\n        }\n      }\n    });\n  };\n};\n\nmodule.exports = exports[\"default\"];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9hcHAva2l0c3VuZS9zdW1vL3N0YXRpYy9zdW1vL2pzL3Rlc3RzL2ZpeHR1cmVzL21vY2hhRml4dHVyZUhlbHBlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7cUJBTWUsVUFBUyxPQUFPLEVBQUU7QUFDL0IsU0FBTyxVQUFTLE9BQU8sRUFBRTtBQUN2QixRQUFJLEdBQUcsWUFBQSxDQUFDOztBQUVSLFVBQU0sQ0FBQyxVQUFVLENBQUMsWUFBTTtBQUN0QixTQUFHLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0FBQ3ZCLFdBQUssSUFBSSxHQUFHLElBQUksR0FBRyxFQUFFO0FBQ25CLFlBQUksR0FBRyxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUNuQixjQUFNLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDO0FBQ2xCLFlBQUksTUFBTSxDQUFDLE1BQU0sRUFBRTtBQUNqQixnQkFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUM7U0FDMUI7T0FDRjtLQUNGLENBQUMsQ0FBQzs7QUFFSCxVQUFNLENBQUMsU0FBUyxDQUFDLFlBQU07QUFDckIsV0FBSyxJQUFJLEdBQUcsSUFBSSxHQUFHLEVBQUU7QUFDbkIsZUFBTyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDbkIsWUFBSSxNQUFNLENBQUMsTUFBTSxFQUFFO0FBQ2pCLGlCQUFPLE1BQU0sQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM7U0FDM0I7T0FDRjtLQUNGLENBQUMsQ0FBQztHQUNKLENBQUM7Q0FDSCIsImZpbGUiOiIvYXBwL2tpdHN1bmUvc3Vtby9zdGF0aWMvc3Vtby9qcy90ZXN0cy9maXh0dXJlcy9tb2NoYUZpeHR1cmVIZWxwZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEluc3RhbGwgZ2xvYmFscyBpbnRvIHRoZSBqc2RvbSBuYW1lc3BhY2UuXG4gKiBAcGFyYW0gIHtmdW5jdGlvbn0gbWFwRnVuYyBUaGlzIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIHRvIGdldCB0aGUgbGlzdCBvZlxuICogICB0aGluZ3MgdG8gaW5zdGFsbCBpbnRvIHRoZSBuYW1lc3BhY2UuIFNob3VsZCByZXR1cm4gYW4gb2JqZWN0IG9mIGtleXNcbiAqICAgdG8gdmFsdWVzIHRvIGluc3RhbGwuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG1hcEZ1bmMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICBsZXQgbWFwO1xuXG4gICAgZ2xvYmFsLmJlZm9yZUVhY2goKCkgPT4ge1xuICAgICAgbWFwID0gbWFwRnVuYyhvcHRpb25zKTtcbiAgICAgIGZvciAobGV0IGtleSBpbiBtYXApIHtcbiAgICAgICAgbGV0IHZhbCA9IG1hcFtrZXldO1xuICAgICAgICBnbG9iYWxba2V5XSA9IHZhbDtcbiAgICAgICAgaWYgKGdsb2JhbC53aW5kb3cpIHtcbiAgICAgICAgICBnbG9iYWwud2luZG93W2tleV0gPSB2YWw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGdsb2JhbC5hZnRlckVhY2goKCkgPT4ge1xuICAgICAgZm9yIChsZXQga2V5IGluIG1hcCkge1xuICAgICAgICBkZWxldGUgZ2xvYmFsW2tleV07XG4gICAgICAgIGlmIChnbG9iYWwud2luZG93KSB7XG4gICAgICAgICAgZGVsZXRlIGdsb2JhbC53aW5kb3dba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9O1xufVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/app/kitsune/sumo/static/sumo/js/tests/fixtures/mochaFixtureHelper.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;;;;;qBAMe,UAAS,OAAO,EAAE;AAC/B,SAAO,UAAS,OAAO,EAAE;AACvB,QAAI,GAAG,YAAA,CAAC;;AAER,UAAM,CAAC,UAAU,CAAC,YAAM;AACtB,SAAG,GAAG,OAAO,CAAC,OAAO,CAAC,CAAC;AACvB,WAAK,IAAI,GAAG,IAAI,GAAG,EAAE;AACnB,YAAI,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC;AACnB,cAAM,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC;AAClB,YAAI,MAAM,CAAC,MAAM,EAAE;AACjB,gBAAM,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC;SAC1B;OACF;KACF,CAAC,CAAC;;AAEH,UAAM,CAAC,SAAS,CAAC,YAAM;AACrB,WAAK,IAAI,GAAG,IAAI,GAAG,EAAE;AACnB,eAAO,MAAM,CAAC,GAAG,CAAC,CAAC;AACnB,YAAI,MAAM,CAAC,MAAM,EAAE;AACjB,iBAAO,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;SAC3B;OACF;KACF,CAAC,CAAC;GACJ,CAAC;CACH",
      "file": "/app/kitsune/sumo/static/sumo/js/tests/fixtures/mochaFixtureHelper.js",
      "sourcesContent": [
        "/**\n * Install globals into the jsdom namespace.\n * @param  {function} mapFunc This function will be called to get the list of\n *   things to install into the namespace. Should return an object of keys\n *   to values to install.\n */\nexport default function(mapFunc) {\n  return function(options) {\n    let map;\n\n    global.beforeEach(() => {\n      map = mapFunc(options);\n      for (let key in map) {\n        let val = map[key];\n        global[key] = val;\n        if (global.window) {\n          global.window[key] = val;\n        }\n      }\n    });\n\n    global.afterEach(() => {\n      for (let key in map) {\n        delete global[key];\n        if (global.window) {\n          delete global.window[key];\n        }\n      }\n    });\n  };\n}\n"
      ]
    },
    "mtime": 1561057444000
  },
  "{\"filename\":\"/app/kitsune/sumo/static/sumo/js/tests/fixtures/mochaK.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":2,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "./mochaFixtureHelper.js",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mochaFixtureHelper"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _mochaFixtureHelperJs = require('./mochaFixtureHelper.js');\n\nvar _mochaFixtureHelperJs2 = _interopRequireDefault(_mochaFixtureHelperJs);\n\nexports['default'] = (0, _mochaFixtureHelperJs2['default'])(function () {\n  var k = global.k || (global.window ? global.window.k : null) || {};\n  return {\n    k: k\n  };\n});\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9hcHAva2l0c3VuZS9zdW1vL3N0YXRpYy9zdW1vL2pzL3Rlc3RzL2ZpeHR1cmVzL21vY2hhSy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7OztvQ0FBK0IseUJBQXlCOzs7O3FCQUV6Qyx1Q0FBbUIsWUFBTTtBQUN0QyxNQUFJLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxLQUFLLE1BQU0sQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFBLEFBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkUsU0FBTztBQUNMLEtBQUMsRUFBRSxDQUFDO0dBQ0wsQ0FBQztDQUNILENBQUMiLCJmaWxlIjoiL2FwcC9raXRzdW5lL3N1bW8vc3RhdGljL3N1bW8vanMvdGVzdHMvZml4dHVyZXMvbW9jaGFLLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vY2hhRml4dHVyZUhlbHBlciBmcm9tICcuL21vY2hhRml4dHVyZUhlbHBlci5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IG1vY2hhRml4dHVyZUhlbHBlcigoKSA9PiB7XG4gIGxldCBrID0gZ2xvYmFsLmsgfHwgKGdsb2JhbC53aW5kb3cgPyBnbG9iYWwud2luZG93LmsgOiBudWxsKSB8fCB7fTtcbiAgcmV0dXJuIHtcbiAgICBrOiBrLFxuICB9O1xufSk7XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/app/kitsune/sumo/static/sumo/js/tests/fixtures/mochaK.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;oCAA+B,yBAAyB;;;;qBAEzC,uCAAmB,YAAM;AACtC,MAAI,CAAC,GAAG,MAAM,CAAC,CAAC,KAAK,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,GAAG,IAAI,CAAA,AAAC,IAAI,EAAE,CAAC;AACnE,SAAO;AACL,KAAC,EAAE,CAAC;GACL,CAAC;CACH,CAAC",
      "file": "/app/kitsune/sumo/static/sumo/js/tests/fixtures/mochaK.js",
      "sourcesContent": [
        "import mochaFixtureHelper from './mochaFixtureHelper.js';\n\nexport default mochaFixtureHelper(() => {\n  let k = global.k || (global.window ? global.window.k : null) || {};\n  return {\n    k: k,\n  };\n});\n"
      ]
    },
    "mtime": 1561057444000
  },
  "{\"filename\":\"/app/kitsune/sumo/static/sumo/js/tests/fixtures/mochaJquery.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":2,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "./mochaFixtureHelper.js",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mochaFixtureHelper"
              }
            ]
          },
          {
            "source": "jquery",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "jQuery"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _mochaFixtureHelperJs = require('./mochaFixtureHelper.js');\n\nvar _mochaFixtureHelperJs2 = _interopRequireDefault(_mochaFixtureHelperJs);\n\nvar _jquery = require('jquery');\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nexports['default'] = (0, _mochaFixtureHelperJs2['default'])(function () {\n  var jq = (0, _jquery2['default'])(global.window);\n  return {\n    $: jq,\n    jQuery: jq\n  };\n});\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9hcHAva2l0c3VuZS9zdW1vL3N0YXRpYy9zdW1vL2pzL3Rlc3RzL2ZpeHR1cmVzL21vY2hhSnF1ZXJ5LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O29DQUErQix5QkFBeUI7Ozs7c0JBQ3JDLFFBQVE7Ozs7cUJBRVosdUNBQW1CLFlBQU07QUFDdEMsTUFBSSxFQUFFLEdBQUcseUJBQU8sTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQy9CLFNBQU87QUFDTCxLQUFDLEVBQUUsRUFBRTtBQUNMLFVBQU0sRUFBRSxFQUFFO0dBQ1gsQ0FBQztDQUNILENBQUMiLCJmaWxlIjoiL2FwcC9raXRzdW5lL3N1bW8vc3RhdGljL3N1bW8vanMvdGVzdHMvZml4dHVyZXMvbW9jaGFKcXVlcnkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9jaGFGaXh0dXJlSGVscGVyIGZyb20gJy4vbW9jaGFGaXh0dXJlSGVscGVyLmpzJztcbmltcG9ydCBqUXVlcnkgZnJvbSAnanF1ZXJ5JztcblxuZXhwb3J0IGRlZmF1bHQgbW9jaGFGaXh0dXJlSGVscGVyKCgpID0+IHtcbiAgbGV0IGpxID0galF1ZXJ5KGdsb2JhbC53aW5kb3cpO1xuICByZXR1cm4ge1xuICAgICQ6IGpxLFxuICAgIGpRdWVyeToganEsXG4gIH07XG59KTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/app/kitsune/sumo/static/sumo/js/tests/fixtures/mochaJquery.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;oCAA+B,yBAAyB;;;;sBACrC,QAAQ;;;;qBAEZ,uCAAmB,YAAM;AACtC,MAAI,EAAE,GAAG,yBAAO,MAAM,CAAC,MAAM,CAAC,CAAC;AAC/B,SAAO;AACL,KAAC,EAAE,EAAE;AACL,UAAM,EAAE,EAAE;GACX,CAAC;CACH,CAAC",
      "file": "/app/kitsune/sumo/static/sumo/js/tests/fixtures/mochaJquery.js",
      "sourcesContent": [
        "import mochaFixtureHelper from './mochaFixtureHelper.js';\nimport jQuery from 'jquery';\n\nexport default mochaFixtureHelper(() => {\n  let jq = jQuery(global.window);\n  return {\n    $: jq,\n    jQuery: jq,\n  };\n});\n"
      ]
    },
    "mtime": 1561057444000
  },
  "{\"filename\":\"/app/kitsune/sumo/static/sumo/js/tests/ajaxvotetests.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":2,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "react",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "React"
              }
            ]
          },
          {
            "source": "mocha-jsdom",
            "imported": [
              "default",
              "rerequire"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mochaJsdom"
              },
              {
                "kind": "named",
                "imported": "rerequire",
                "local": "rerequire"
              }
            ]
          },
          {
            "source": "chai",
            "imported": [
              "expect"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "expect",
                "local": "expect"
              }
            ]
          },
          {
            "source": "sinon",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "sinon"
              }
            ]
          },
          {
            "source": "./fixtures/mochaK.js",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mochaK"
              }
            ]
          },
          {
            "source": "./fixtures/mochaJquery.js",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mochaJquery"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _mochaJsdom = require('mocha-jsdom');\n\nvar _mochaJsdom2 = _interopRequireDefault(_mochaJsdom);\n\nvar _chai = require('chai');\n\nvar _sinon = require('sinon');\n\nvar _sinon2 = _interopRequireDefault(_sinon);\n\nvar _fixturesMochaKJs = require('./fixtures/mochaK.js');\n\nvar _fixturesMochaKJs2 = _interopRequireDefault(_fixturesMochaKJs);\n\nvar _fixturesMochaJqueryJs = require('./fixtures/mochaJquery.js');\n\nvar _fixturesMochaJqueryJs2 = _interopRequireDefault(_fixturesMochaJqueryJs);\n\ndescribe('ajaxvote', function () {\n  (0, _mochaJsdom2['default'])({ useEach: true });\n  (0, _fixturesMochaJqueryJs2['default'])();\n  (0, _fixturesMochaKJs2['default'])();\n  /* globals window, document, $, k */\n\n  describe('helpful vote', function () {\n    var fakeServer = undefined;\n\n    beforeEach(function () {\n      (0, _mochaJsdom.rerequire)('../ajaxvote.js');\n\n      _sinon2['default'].stub($, 'ajax').yieldsTo('success', { message: 'Thanks for the vote!' });\n\n      var sandbox = _react2['default'].createElement(\n        'form',\n        { className: 'vote', action: '/vote', method: 'post' },\n        _react2['default'].createElement('input', { type: 'submit', name: 'helpful', defaultValue: 'Yes' }),\n        _react2['default'].createElement('input', { type: 'submit', name: 'not-helpful', defaultValue: 'No' })\n      );\n      _react2['default'].render(sandbox, document.body);\n    });\n\n    afterEach(function () {\n      $.ajax.restore();\n      _react2['default'].unmountComponentAtNode(document.body);\n    });\n\n    it('should fire an event on a helpful vote', function (done) {\n      var ajaxVote = new k.AjaxVote($('form.vote'), {\n        positionMessage: true,\n        removeForm: true\n      });\n      $(document).on('vote', function (ev, data) {\n        (0, _chai.expect)(data.helpful).to.equal('Yes');\n        (0, _chai.expect)(data.url).to.equal('/vote');\n        done();\n      });\n      $('input[name=\"helpful\"]').click();\n    });\n\n    it('should fire an event on an unhelpful vote', function (done) {\n      var ajaxVote = new k.AjaxVote($('form.vote'), {\n        positionMessage: true,\n        removeForm: true\n      });\n      $(document).on('vote', function (ev, data) {\n        (0, _chai.expect)(data['not-helpful']).to.equal('No');\n        (0, _chai.expect)(data.url).to.equal('/vote');\n        done();\n      });\n      $('input[name=\"not-helpful\"]').click();\n    });\n\n    it('should include the right data in the request', function (done) {\n      var ajaxVote = new k.AjaxVote($('form.vote'), {\n        positionMessage: true,\n        removeForm: true\n      });\n      $(document).on('vote', function (ev, data) {\n        (0, _chai.expect)($.ajax.calledOnce).to.equal(true);\n        (0, _chai.expect)($.ajax.firstCall.args[0].data.helpful).to.equal('Yes');\n        done();\n      });\n      $('input[name=\"helpful\"]').click();\n    });\n\n    it('should update the UI with the response', function (done) {\n      var ajaxVote = new k.AjaxVote($('form.vote'), {\n        positionMessage: true,\n        removeForm: true\n      });\n      $(document).on('vote', function (ev, data) {\n        (0, _chai.expect)($('.ajax-vote-box').text()).to.equal('Thanks for the vote!');\n        done();\n      });\n      $('input[name=\"helpful\"]').click();\n    });\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9hcHAva2l0c3VuZS9zdW1vL3N0YXRpYy9zdW1vL2pzL3Rlc3RzL2FqYXh2b3RldGVzdHMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztxQkFBa0IsT0FBTzs7OzswQkFDc0IsYUFBYTs7OztvQkFDdkMsTUFBTTs7cUJBQ1QsT0FBTzs7OztnQ0FFTixzQkFBc0I7Ozs7cUNBQ2pCLDJCQUEyQjs7OztBQUVuRCxRQUFRLENBQUMsVUFBVSxFQUFFLFlBQU07QUFDekIsK0JBQVcsRUFBQyxPQUFPLEVBQUUsSUFBSSxFQUFDLENBQUMsQ0FBQztBQUM1QiwyQ0FBYSxDQUFDO0FBQ2Qsc0NBQVEsQ0FBQzs7O0FBR1QsVUFBUSxDQUFDLGNBQWMsRUFBRSxZQUFNO0FBQzdCLFFBQUksVUFBVSxZQUFBLENBQUM7O0FBRWYsY0FBVSxDQUFDLFlBQU07QUFDZixpQ0FBVSxnQkFBZ0IsQ0FBQyxDQUFDOztBQUU1Qix5QkFBTSxJQUFJLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxDQUFDLFFBQVEsQ0FBQyxTQUFTLEVBQUUsRUFBQyxPQUFPLEVBQUUsc0JBQXNCLEVBQUMsQ0FBQyxDQUFDOztBQUU3RSxVQUFJLE9BQU8sR0FDVDs7VUFBTSxTQUFTLEVBQUMsTUFBTSxFQUFDLE1BQU0sRUFBQyxPQUFPLEVBQUMsTUFBTSxFQUFDLE1BQU07UUFDakQsNENBQU8sSUFBSSxFQUFDLFFBQVEsRUFBQyxJQUFJLEVBQUMsU0FBUyxFQUFDLFlBQVksRUFBQyxLQUFLLEdBQUc7UUFDekQsNENBQU8sSUFBSSxFQUFDLFFBQVEsRUFBQyxJQUFJLEVBQUMsYUFBYSxFQUFDLFlBQVksRUFBQyxJQUFJLEdBQUc7T0FDdkQsQUFDUixDQUFDO0FBQ0YseUJBQU0sTUFBTSxDQUFDLE9BQU8sRUFBRSxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7S0FDdEMsQ0FBQyxDQUFDOztBQUVILGFBQVMsQ0FBQyxZQUFNO0FBQ2QsT0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztB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QUFRLENBQUMsQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLFVBQUMsRUFBRSxFQUFFLElBQUksRUFBSztBQUNuQywwQkFBTyxDQUFDLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsc0JBQXNCLENBQUMsQ0FBQztBQUNwRSxZQUFJLEVBQUUsQ0FBQztPQUNSLENBQUMsQ0FBQztBQUNILE9BQUMsQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDO0tBQ3BDLENBQUMsQ0FBQztHQUVKLENBQUMsQ0FBQztDQUNKLENBQUMsQ0FBQyIsImZpbGUiOiIvYXBwL2tpdHN1bmUvc3Vtby9zdGF0aWMvc3Vtby9qcy90ZXN0cy9hamF4dm90ZXRlc3RzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7ZGVmYXVsdCBhcyBtb2NoYUpzZG9tLCByZXJlcXVpcmV9IGZyb20gJ21vY2hhLWpzZG9tJztcbmltcG9ydCB7ZXhwZWN0fSBmcm9tICdjaGFpJztcbmltcG9ydCBzaW5vbiBmcm9tICdzaW5vbic7XG5cbmltcG9ydCBtb2NoYUsgZnJvbSAnLi9maXh0dXJlcy9tb2NoYUsuanMnO1xuaW1wb3J0IG1vY2hhSnF1ZXJ5IGZyb20gJy4vZml4dHVyZXMvbW9jaGFKcXVlcnkuanMnO1xuXG5kZXNjcmliZSgnYWpheHZvdGUnLCAoKSA9PiB7XG4gIG1vY2hhSnNkb20oe3VzZUVhY2g6IHRydWV9KTtcbiAgbW9jaGFKcXVlcnkoKTtcbiAgbW9jaGFLKCk7XG4gIC8qIGdsb2JhbHMgd2luZG93LCBkb2N1bWVudCwgJCwgayAqL1xuXG4gIGRlc2NyaWJlKCdoZWxwZnVsIHZvdGUnLCAoKSA9PiB7XG4gICAgbGV0IGZha2VTZXJ2ZXI7XG5cbiAgICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAgIHJlcmVxdWlyZSgnLi4vYWpheHZvdGUuanMnKTtcblxuICAgICAgc2lub24uc3R1YigkLCAnYWpheCcpLnlpZWxkc1RvKCdzdWNjZXNzJywge21lc3NhZ2U6ICdUaGFua3MgZm9yIHRoZSB2b3RlISd9KTtcblxuICAgICAgbGV0IHNhbmRib3ggPSAoXG4gICAgICAgIDxmb3JtIGNsYXNzTmFtZT1cInZvdGVcIiBhY3Rpb249XCIvdm90ZVwiIG1ldGhvZD1cInBvc3RcIj5cbiAgICAgICAgICA8aW5wdXQgdHlwZT1cInN1Ym1pdFwiIG5hbWU9XCJoZWxwZnVsXCIgZGVmYXVsdFZhbHVlPVwiWWVzXCIgLz5cbiAgICAgICAgICA8aW5wdXQgdHlwZT1cInN1Ym1pdFwiIG5hbWU9XCJub3QtaGVscGZ1bFwiIGRlZmF1bHRWYWx1ZT1cIk5vXCIgLz5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgKTtcbiAgICAgIFJlYWN0LnJlbmRlcihzYW5kYm94LCBkb2N1bWVudC5ib2R5KTtcbiAgICB9KTtcblxuICAgIGFmdGVyRWFjaCgoKSA9PiB7XG4gICAgICAkLmFqYXgucmVzdG9yZSgpO1xuICAgICAgUmVhY3QudW5tb3VudENvbXBvbmVudEF0Tm9kZShkb2N1bWVudC5ib2R5KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZmlyZSBhbiBldmVudCBvbiBhIGhlbHBmdWwgdm90ZScsIGRvbmUgPT4ge1xuICAgICAgbGV0IGFqYXhWb3RlID0gbmV3IGsuQWpheFZvdGUoJCgnZm9ybS52b3RlJyksIHtcbiAgICAgICAgcG9zaXRpb25NZXNzYWdlOiB0cnVlLFxuICAgICAgICByZW1vdmVGb3JtOiB0cnVlLFxuICAgICAgfSk7XG4gICAgICAkKGRvY3VtZW50KS5vbigndm90ZScsIChldiwgZGF0YSkgPT4ge1xuICAgICAgICBleHBlY3QoZGF0YS5oZWxwZnVsKS50by5lcXVhbCgnWWVzJyk7XG4gICAgICAgIGV4cGVjdChkYXRhLnVybCkudG8uZXF1YWwoJy92b3RlJyk7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgIH0pO1xuICAgICAgJCgnaW5wdXRbbmFtZT1cImhlbHBmdWxcIl0nKS5jbGljaygpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBmaXJlIGFuIGV2ZW50IG9uIGFuIHVuaGVscGZ1bCB2b3RlJywgZG9uZSA9PiB7XG4gICAgICBsZXQgYWpheFZvdGUgPSBuZXcgay5BamF4Vm90ZSgkKCdmb3JtLnZvdGUnKSwge1xuICAgICAgICBwb3NpdGlvbk1lc3NhZ2U6IHRydWUsXG4gICAgICAgIHJlbW92ZUZvcm06IHRydWUsXG4gICAgICB9KTtcbiAgICAgICQoZG9jdW1lbnQpLm9uKCd2b3RlJywgKGV2LCBkYXRhKSA9PiB7XG4gICAgICAgIGV4cGVjdChkYXRhWydub3QtaGVscGZ1bCddKS50by5lcXVhbCgnTm8nKTtcbiAgICAgICAgZXhwZWN0KGRhdGEudXJsKS50by5lcXVhbCgnL3ZvdGUnKTtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfSk7XG4gICAgICAkKCdpbnB1dFtuYW1lPVwibm90LWhlbHBmdWxcIl0nKS5jbGljaygpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBpbmNsdWRlIHRoZSByaWdodCBkYXRhIGluIHRoZSByZXF1ZXN0JywgZG9uZSA9PiB7XG4gICAgICBsZXQgYWpheFZvdGUgPSBuZXcgay5BamF4Vm90ZSgkKCdmb3JtLnZvdGUnKSwge1xuICAgICAgICBwb3NpdGlvbk1lc3NhZ2U6IHRydWUsXG4gICAgICAgIHJlbW92ZUZvcm06IHRydWUsXG4gICAgICB9KTtcbiAgICAgICQoZG9jdW1lbnQpLm9uKCd2b3RlJywgKGV2LCBkYXRhKSA9PiB7XG4gICAgICAgIGV4cGVjdCgkLmFqYXguY2FsbGVkT25jZSkudG8uZXF1YWwodHJ1ZSk7XG4gICAgICAgIGV4cGVjdCgkLmFqYXguZmlyc3RDYWxsLmFyZ3NbMF0uZGF0YS5oZWxwZnVsKS50by5lcXVhbCgnWWVzJyk7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgIH0pO1xuICAgICAgJCgnaW5wdXRbbmFtZT1cImhlbHBmdWxcIl0nKS5jbGljaygpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB1cGRhdGUgdGhlIFVJIHdpdGggdGhlIHJlc3BvbnNlJywgZG9uZSA9PiB7XG4gICAgICBsZXQgYWpheFZvdGUgPSBuZXcgay5BamF4Vm90ZSgkKCdmb3JtLnZvdGUnKSwge1xuICAgICAgICBwb3NpdGlvbk1lc3NhZ2U6IHRydWUsXG4gICAgICAgIHJlbW92ZUZvcm06IHRydWUsXG4gICAgICB9KTtcbiAgICAgICQoZG9jdW1lbnQpLm9uKCd2b3RlJywgKGV2LCBkYXRhKSA9PiB7XG4gICAgICAgIGV4cGVjdCgkKCcuYWpheC12b3RlLWJveCcpLnRleHQoKSkudG8uZXF1YWwoJ1RoYW5rcyBmb3IgdGhlIHZvdGUhJyk7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgIH0pO1xuICAgICAgJCgnaW5wdXRbbmFtZT1cImhlbHBmdWxcIl0nKS5jbGljaygpO1xuICAgIH0pO1xuXG4gIH0pO1xufSk7XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/app/kitsune/sumo/static/sumo/js/tests/ajaxvotetests.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/app/kitsune/sumo/static/sumo/js/tests/ajaxvotetests.js",
      "sourcesContent": [
        "import React from 'react';\nimport {default as mochaJsdom, rerequire} from 'mocha-jsdom';\nimport {expect} from 'chai';\nimport sinon from 'sinon';\n\nimport mochaK from './fixtures/mochaK.js';\nimport mochaJquery from './fixtures/mochaJquery.js';\n\ndescribe('ajaxvote', () => {\n  mochaJsdom({useEach: true});\n  mochaJquery();\n  mochaK();\n  /* globals window, document, $, k */\n\n  describe('helpful vote', () => {\n    let fakeServer;\n\n    beforeEach(() => {\n      rerequire('../ajaxvote.js');\n\n      sinon.stub($, 'ajax').yieldsTo('success', {message: 'Thanks for the vote!'});\n\n      let sandbox = (\n        <form className=\"vote\" action=\"/vote\" method=\"post\">\n          <input type=\"submit\" name=\"helpful\" defaultValue=\"Yes\" />\n          <input type=\"submit\" name=\"not-helpful\" defaultValue=\"No\" />\n        </form>\n      );\n      React.render(sandbox, document.body);\n    });\n\n    afterEach(() => {\n      $.ajax.restore();\n      React.unmountComponentAtNode(document.body);\n    });\n\n    it('should fire an event on a helpful vote', done => {\n      let ajaxVote = new k.AjaxVote($('form.vote'), {\n        positionMessage: true,\n        removeForm: true,\n      });\n      $(document).on('vote', (ev, data) => {\n        expect(data.helpful).to.equal('Yes');\n        expect(data.url).to.equal('/vote');\n        done();\n      });\n      $('input[name=\"helpful\"]').click();\n    });\n\n    it('should fire an event on an unhelpful vote', done => {\n      let ajaxVote = new k.AjaxVote($('form.vote'), {\n        positionMessage: true,\n        removeForm: true,\n      });\n      $(document).on('vote', (ev, data) => {\n        expect(data['not-helpful']).to.equal('No');\n        expect(data.url).to.equal('/vote');\n        done();\n      });\n      $('input[name=\"not-helpful\"]').click();\n    });\n\n    it('should include the right data in the request', done => {\n      let ajaxVote = new k.AjaxVote($('form.vote'), {\n        positionMessage: true,\n        removeForm: true,\n      });\n      $(document).on('vote', (ev, data) => {\n        expect($.ajax.calledOnce).to.equal(true);\n        expect($.ajax.firstCall.args[0].data.helpful).to.equal('Yes');\n        done();\n      });\n      $('input[name=\"helpful\"]').click();\n    });\n\n    it('should update the UI with the response', done => {\n      let ajaxVote = new k.AjaxVote($('form.vote'), {\n        positionMessage: true,\n        removeForm: true,\n      });\n      $(document).on('vote', (ev, data) => {\n        expect($('.ajax-vote-box').text()).to.equal('Thanks for the vote!');\n        done();\n      });\n      $('input[name=\"helpful\"]').click();\n    });\n\n  });\n});\n"
      ]
    },
    "mtime": 1561057444000
  },
  "{\"filename\":\"/app/kitsune/sumo/static/sumo/js/tests/browserdetecttests.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":2,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "chai",
            "imported": [
              "expect"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "expect",
                "local": "expect"
              }
            ]
          },
          {
            "source": "mocha-jsdom",
            "imported": [
              "default",
              "rerequire"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mochaJsdom"
              },
              {
                "kind": "named",
                "imported": "rerequire",
                "local": "rerequire"
              }
            ]
          },
          {
            "source": "./fixtures/mochaUnderscore.js",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mochaUnderscore"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _chai = require('chai');\n\nvar _mochaJsdom = require('mocha-jsdom');\n\nvar _mochaJsdom2 = _interopRequireDefault(_mochaJsdom);\n\nvar _fixturesMochaUnderscoreJs = require('./fixtures/mochaUnderscore.js');\n\nvar _fixturesMochaUnderscoreJs2 = _interopRequireDefault(_fixturesMochaUnderscoreJs);\n\ndescribe('BrowserDetect', function () {\n  (0, _mochaJsdom2['default'])({ useEach: true });\n  (0, _fixturesMochaUnderscoreJs2['default'])();\n  /* globals window */\n\n  var BrowserDetect = undefined;\n\n  beforeEach(function () {\n    (0, _mochaJsdom.rerequire)('../browserdetect.js');\n\n    BrowserDetect = window.BrowserDetect;\n  });\n\n  describe('Fennec versions', function () {\n    it('should detect Fennec 7', function () {\n      var ua = 'Mozilla/5.0 (Android; Linux armv7l; rv:7.0.1) Gecko/ Firefox/7.0.1 Fennec/7.0.1';\n      (0, _chai.expect)(BrowserDetect.searchString(BrowserDetect.dataBrowser, ua)).to.equal('m');\n      (0, _chai.expect)(BrowserDetect.searchVersion(ua)).to.equal(7);\n      (0, _chai.expect)(BrowserDetect.detect(ua)).to.deep.equal(['m', 7, 'android']);\n    });\n\n    it('should detect Fennec 10', function () {\n      var ua = 'Mozilla/5.0 (Android; Mobile; rv:10.0.4) Gecko/10.0.4 Firefox/10.0.4 Fennec/10.0.4';\n      (0, _chai.expect)(BrowserDetect.searchString(BrowserDetect.dataBrowser, ua)).to.equal('m');\n      (0, _chai.expect)(BrowserDetect.searchVersion(ua)).to.equal(10);\n      (0, _chai.expect)(BrowserDetect.detect(ua)).to.deep.equal(['m', 10, 'android']);\n    });\n\n    it('should detect Fennec 14', function () {\n      var ua = 'Mozilla/5.0 (Android; Mobile; rv:14.0) Gecko/14.0 Firefox/14.0';\n      (0, _chai.expect)(BrowserDetect.searchString(BrowserDetect.dataBrowser, ua)).to.equal('m');\n      (0, _chai.expect)(BrowserDetect.searchVersion(ua)).to.equal(14);\n      (0, _chai.expect)(BrowserDetect.detect(ua)).to.deep.equal(['m', 14, 'android']);\n    });\n  });\n\n  describe('Firefox versions', function () {\n    it('should detect Firefox 4', function () {\n      var ua = 'Mozilla/5.0 (X11; Linux i686; rv:2.0) Gecko/20100101 Firefox/4.0';\n      (0, _chai.expect)(BrowserDetect.searchString(BrowserDetect.dataBrowser, ua)).to.equal('fx');\n      (0, _chai.expect)(BrowserDetect.searchVersion(ua)).to.equal(4);\n      (0, _chai.expect)(BrowserDetect.detect(ua)).to.deep.equal(['fx', 4, 'linux']);\n    });\n\n    it('should detect Firefox 12', function () {\n      return function () {\n        var ua = 'Mozilla/5.0 (Windows NT 6.1; WOW64; rv:12.0) Gecko/20100101 Firefox/12.0';\n        (0, _chai.expect)(BrowserDetect.searchString(BrowserDetect.dataBrowser, ua)).to.equal('fx');\n        (0, _chai.expect)(BrowserDetect.searchVersion(ua)).to.equal(12);\n        (0, _chai.expect)(BrowserDetect.detect(ua)).to.deep.equal(['fx', 12, 'win7']);\n      };\n    });\n  });\n\n  describe('Windows versions', function () {\n    var cases = [{\n      ua: 'Mozilla/5.0 (Windows NT 5.0; WOW64; rv:12.0) Gecko/20100101 Firefox/12.0',\n      expected: ['fx', 12, 'winxp']\n    }, {\n      ua: 'Mozilla/5.0 (Windows NT 5.01; WOW64; rv:12.0) Gecko/20100101 Firefox/13.0',\n      expected: ['fx', 13, 'winxp']\n    }, {\n      ua: 'Mozilla/5.0 (Windows NT 5.1; WOW64; rv:12.0) Gecko/20100101 Firefox/14.0',\n      expected: ['fx', 14, 'winxp']\n    }, {\n      ua: 'Mozilla/5.0 (Windows NT 6.0; WOW64; rv:12.0) Gecko/20100101 Firefox/15.0',\n      expected: ['fx', 15, 'win7']\n    }, {\n      ua: 'Mozilla/5.0 (Windows NT 6.1; WOW64; rv:12.0) Gecko/20100101 Firefox/16.0',\n      expected: ['fx', 16, 'win7']\n    }, {\n      ua: 'Mozilla/5.0 (Windows NT 6.2; WOW64; rv:12.0) Gecko/20100101 Firefox/17.0',\n      expected: ['fx', 17, 'win8']\n    }, {\n      ua: 'Mozilla/5.0 (Windows NT 4.0; WOW64; rv:12.0) Gecko/20100101 Firefox/4.0',\n      expected: ['fx', 4, 'win']\n    }];\n\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      var _loop = function () {\n        var case_ = _step.value;\n\n        it('should detect ' + case_.expected, function () {\n          (0, _chai.expect)(BrowserDetect.searchString(BrowserDetect.dataOS, case_.ua)).to.equal(case_.expected[2]);\n          (0, _chai.expect)(BrowserDetect.detect(case_.ua)).to.deep.equal(case_.expected);\n        });\n      };\n\n      for (var _iterator = cases[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        _loop();\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator['return']) {\n          _iterator['return']();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n  });\n\n  describe('Firefox OS', function () {\n    var cases = [{\n      ua: 'Mozilla/5.0 (Mobile; rv:18.0) Gecko/18.0 Firefox/18.0',\n      expected: ['fxos', 1, 'fxos']\n    }, {\n      ua: 'Mozilla/5.0 (Mobile; nnnn; rv:18.1) Gecko/18.1 Firefox/18.1',\n      expected: ['fxos', 1.1, 'fxos']\n    }, {\n      ua: 'Mozilla/5.0 (Mobile; nnnn; rv:26.0) Gecko/26.0 Firefox/26.0',\n      expected: ['fxos', 1.2, 'fxos']\n    }, {\n      ua: 'Mozilla/5.0 (Mobile; nnnn; rv:28.0) Gecko/28.0 Firefox/28.0',\n      expected: ['fxos', 1.3, 'fxos']\n    }];\n\n    var _iteratorNormalCompletion2 = true;\n    var _didIteratorError2 = false;\n    var _iteratorError2 = undefined;\n\n    try {\n      var _loop2 = function () {\n        var case_ = _step2.value;\n\n        it('should detect ' + case_.expected, function () {\n          (0, _chai.expect)(BrowserDetect.detect(case_.ua)).to.deep.equal(case_.expected);\n        });\n      };\n\n      for (var _iterator2 = cases[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n        _loop2();\n      }\n    } catch (err) {\n      _didIteratorError2 = true;\n      _iteratorError2 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion2 && _iterator2['return']) {\n          _iterator2['return']();\n        }\n      } finally {\n        if (_didIteratorError2) {\n          throw _iteratorError2;\n        }\n      }\n    }\n  });\n\n  describe('Firefox for iOS', function () {\n    it('all platforms', function () {\n      var uas = ['Mozilla/5.0 (iPhone; CPU iPhone OS 8_3 like Mac OS X) AppleWebKit/600.1.4 (KHTML, like Gecko) FxiOS/1.0 Mobile/12F69 Safari/600.1.4', 'Mozilla/5.0 (iPad; CPU iPhone OS 8_3 like Mac OS X) AppleWebKit/600.1.4 (KHTML, like Gecko) FxiOS/1.0 Mobile/12F69 Safari/600.1.4', 'Mozilla/5.0 (iPod touch; CPU iPhone OS 8_4 like Mac OS X) AppleWebKit/600.1.4 (KHTML, like Gecko) FxiOS/1.0 Mobile/12H143 Safari/600.1.4'];\n      var _iteratorNormalCompletion3 = true;\n      var _didIteratorError3 = false;\n      var _iteratorError3 = undefined;\n\n      try {\n        for (var _iterator3 = uas[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n          var ua = _step3.value;\n\n          (0, _chai.expect)(BrowserDetect.detect(ua)).to.deep.equal(['fxios', 1.0, 'ios']);\n        }\n      } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion3 && _iterator3['return']) {\n            _iterator3['return']();\n          }\n        } finally {\n          if (_didIteratorError3) {\n            throw _iteratorError3;\n          }\n        }\n      }\n    });\n\n    var cases = [{\n      ua: 'Mozilla/5.0 (iPhone; CPU iPhone OS 8_2 like Mac OS X) AppleWebKit/600.1.4 (KHTML, like Gecko) FxiOS/1.0.0 Mobile/12D508 Safari/600.1.4',\n      version: 1.0\n    }, {\n      ua: 'Mozilla/5.0 (iPhone; CPU iPhone OS 8_2 like Mac OS X) AppleWebKit/600.1.4 (KHTML, like Gecko) FxiOS/1.0.1 Mobile/12D508 Safari/600.1.4',\n      version: 1.0\n    }, {\n      ua: 'Mozilla/5.0 (iPhone; CPU iPhone OS 8_2 like Mac OS X) AppleWebKit/600.1.4 (KHTML, like Gecko) FxiOS/1.1.0 Mobile/12D508 Safari/600.1.4',\n      version: 1.1\n    }];\n\n    var _iteratorNormalCompletion4 = true;\n    var _didIteratorError4 = false;\n    var _iteratorError4 = undefined;\n\n    try {\n      var _loop3 = function () {\n        var case_ = _step4.value;\n\n        it('version ' + case_.version, function () {\n          (0, _chai.expect)(BrowserDetect.detect(case_.ua)[1]).to.equal(case_.version);\n        });\n      };\n\n      for (var _iterator4 = cases[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n        _loop3();\n      }\n    } catch (err) {\n      _didIteratorError4 = true;\n      _iteratorError4 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion4 && _iterator4['return']) {\n          _iterator4['return']();\n        }\n      } finally {\n        if (_didIteratorError4) {\n          throw _iteratorError4;\n        }\n      }\n    }\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9hcHAva2l0c3VuZS9zdW1vL3N0YXRpYy9zdW1vL2pzL3Rlc3RzL2Jyb3dzZXJkZXRlY3R0ZXN0cy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O29CQUFxQixNQUFNOzswQkFDb0IsYUFBYTs7Ozt5Q0FFaEMsK0JBQStCOzs7O0FBRTNELFFBQVEsQ0FBQyxlQUFlLEVBQUUsWUFBTTtBQUM5QiwrQkFBVyxFQUFDLE9BQU8sRUFBRSxJQUFJLEVBQUMsQ0FBQyxDQUFDO0FBQzVCLCtDQUFpQixDQUFDOzs7QUFHbEIsTUFBSSxhQUFhLFlBQUEsQ0FBQzs7QUFFbEIsWUFBVSxDQUFDLFlBQU07QUFDZiwrQkFBVSxxQkFBcUIsQ0FBQyxDQUFDOztBQUVqQyxpQkFBYSxHQUFHLE1BQU0sQ0FBQyxhQUFhLENBQUM7R0FDdEMsQ0FBQyxDQUFDOztBQUVILFVBQVEsQ0FBQyxpQkFBaUIsRUFBRSxZQUFNO0FBQ2hDLE1BQUUsQ0FBQyx3QkFBd0IsRUFBRSxZQUFNO0FBQ2pDLFVBQUksRUFBRSxHQUFHLGlGQUFpRixDQUFDO0FBQzNGLHdCQUFPLGFBQWEsQ0FBQyxZQUFZLENBQUMsYUFBYSxDQUFDLFdBQVcsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDaEYsd0JBQU8sYUFBYSxDQUFDLGFBQWEsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDcEQsd0JBQU8sYUFBYSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsRUFBRSxTQUFTLENBQUMsQ0FBQyxDQUFDO0tBQ3JFLENBQUMsQ0FBQzs7QUFFSCxNQUFFLENBQUMseUJBQXlCLEVBQUUsWUFBTTtBQUNsQyxVQUFJLEVBQUUsR0FBRyxvRkFBb0YsQ0FBQztBQUM5Rix3QkFBTyxhQUFhLENBQUMsWUFBWSxDQUFDLGFBQWEsQ0FBQyxXQUFXLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ2hGLHdCQUFPLGFBQWEsQ0FBQyxhQUFhLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQ3JELHdCQUFPLGFBQWEsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsRUFBRSxFQUFFLEVBQUUsU0FBUyxDQUFDLENBQUMsQ0FBQztLQUN0RSxDQUFDLENBQUM7O0FBRUgsTUFBRSxDQUFDLHlCQUF5QixFQUFFLFlBQU07QUFDbEMsVUFBSSxFQUFFLEdBQUcsZ0VBQWdFLENBQUM7QUFDMUUsd0JBQU8sYUFBYSxDQUFDLFlBQVksQ0FBQyxhQUFhLENBQUMsV0FBVyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUNoRix3QkFBTyxhQUFhLENBQUMsYUFBYSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUNyRCx3QkFBTyxhQUFhLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLEVBQUUsRUFBRSxFQUFFLFNBQVMsQ0FBQyxDQUFDLENBQUM7S0FDdEUsQ0FBQyxDQUFDO0dBQ0osQ0FBQyxDQUFDOztBQUVILFVBQVEsQ0FBQyxrQkFBa0IsRUFBRSxZQUFNO0FBQ2pDLE1BQUUsQ0FBQyx5QkFBeUIsRUFBRSxZQUFNO0FBQ2xDLFVBQUksRUFBRSxHQUFHLGtFQUFrRSxDQUFDO0FBQzVFLHdCQUFPLGFBQWEsQ0FBQyxZQUFZLENBQUMsYUFBYSxDQUFDLFdBQVcsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDakYsd0JBQU8sYUFBYSxDQUFDLGFBQWEsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDcEQsd0JBQU8sYUFBYSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQyxDQUFDO0tBQ3BFLENBQUMsQ0FBQzs7QUFFSCxNQUFFLENBQUMsMEJBQTBCLEVBQUU7YUFBTSxZQUFXO0FBQzlDLFlBQUksRUFBRSxHQUFHLDBFQUEwRSxDQUFDO0FBQ3BGLDBCQUFPLGFBQWEsQ0FBQyxZQUFZLENBQUMsYUFBYSxDQUFDLFdBQVcsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDakYsMEJBQU8sYUFBYSxDQUFDLGFBQWEsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDckQsMEJBQU8sYUFBYSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUUsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDO09BQ3BFO0tBQUEsQ0FBQyxDQUFDO0dBQ0osQ0FBQyxDQUFDOztBQUVILFVBQVEsQ0FBQyxrQkFBa0IsRUFBRSxZQUFNO0FBQ2pDLFFBQUksS0FBSyxHQUFHLENBQ1Y7QUFDRSxRQUFFLEVBQUUsMEVBQTBFO0FBQzlFLGNBQVEsRUFBRSxDQUFDLElBQUksRUFBRSxFQUFFLEVBQUUsT0FBTyxDQUFDO0tBQzlCLEVBQ0Q7QUFDRSxRQUFFLEVBQUUsMkVBQTJFO0FBQy9FLGNBQVEsRUFBRSxDQUFDLElBQUksRUFBRSxFQUFFLEVBQUUsT0FBTyxDQUFDO0tBQzlCLEVBQ0Q7QUFDRSxRQUFFLEVBQUUsMEVBQTBFO0FBQzlFLGNBQVEsRUFBRSxDQUFDLElBQUksRUFBRSxFQUFFLEVBQUUsT0FBTyxDQUFDO0tBQzlCLEVBQ0Q7QUFDRSxRQUFFLEVBQUUsMEVBQTBFO0FBQzlFLGNBQVEsRUFBRSxDQUFDLElBQUksRUFBRSxFQUFFLEVBQUUsTUFBTSxDQUFDO0tBQzdCLEVBQ0Q7QUFDRSxRQUFFLEVBQUUsMEVBQTBFO0FBQzlFLGNBQVEsRUFBRSxDQUFDLElBQUksRUFBRSxFQUFFLEVBQUUsTUFBTSxDQUFDO0tBQzdCLEVBQ0Q7QUFDRSxRQUFFLEVBQUUsMEVBQTBFO0FBQzlFLGNBQVEsRUFBRSxDQUFDLElBQUksRUFBRSxFQUFFLEVBQUUsTUFBTSxDQUFDO0tBQzdCLEVBQ0Q7QUFDRSxRQUFFLEVBQUUseUVBQXlFO0FBQzdFLGNBQVEsRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsS0FBSyxDQUFDO0tBQzNCLENBQ0YsQ0FBQzs7Ozs7Ozs7WUFFTyxLQUFLOztBQUNaLFVBQUUsb0JBQWtCLEtBQUssQ0FBQyxRQUFRLEVBQUksWUFBTTtBQUMxQyw0QkFBTyxhQUFhLENBQUMsWUFBWSxDQUFDLGFBQWEsQ0FBQyxNQUFNLEVBQUUsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDL0YsNEJBQU8sYUFBYSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUM7U0FDdEUsQ0FBQyxDQUFDOzs7QUFKTCwyQkFBa0IsS0FBSyw4SEFBRTs7T0FLeEI7Ozs7Ozs7Ozs7Ozs7OztHQUNGLENBQUMsQ0FBQzs7QUFFSCxVQUFRLENBQUMsWUFBWSxFQUFFLFlBQVc7QUFDaEMsUUFBSSxLQUFLLEdBQUcsQ0FDVjtBQUNFLFFBQUUsRUFBRSx1REFBdUQ7QUFDM0QsY0FBUSxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxNQUFNLENBQUM7S0FDOUIsRUFDRDtBQUNFLFFBQUUsRUFBRSw2REFBNkQ7QUFDakUsY0FBUSxFQUFFLENBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRSxNQUFNLENBQUM7S0FDaEMsRUFDRDtBQUNFLFFBQUUsRUFBRSw2REFBNkQ7QUFDakUsY0FBUSxFQUFFLENBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRSxNQUFNLENBQUM7S0FDaEMsRUFDRDtBQUNFLFFBQUUsRUFBRSw2REFBNkQ7QUFDakUsY0FBUSxFQUFFLENBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRSxNQUFNLENBQUM7S0FDaEMsQ0FDRixDQUFDOzs7Ozs7OztZQUVPLEtBQUs7O0FBQ1osVUFBRSxvQkFBa0IsS0FBSyxDQUFDLFFBQVEsRUFBSSxZQUFNO0FBQzFDLDRCQUFPLGFBQWEsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1NBQ3RFLENBQUMsQ0FBQzs7O0FBSEwsNEJBQWtCLEtBQUssbUlBQUU7O09BSXhCOzs7Ozs7Ozs7Ozs7Ozs7R0FDRixDQUFDLENBQUM7O0FBRUgsVUFBUSxDQUFDLGlCQUFpQixFQUFFLFlBQU07QUFDaEMsTUFBRSxDQUFDLGVBQWUsRUFBRSxZQUFNO0FBQ3hCLFVBQUksR0FBRyxHQUFHLENBQ1IscUlBQXFJLEVBQ3JJLG1JQUFtSSxFQUNuSSwwSUFBMEksQ0FDM0ksQ0FBQzs7Ozs7O0FBQ0YsOEJBQWUsR0FBRyxtSUFBRTtjQUFYLEVBQUU7O0FBQ1QsNEJBQU8sYUFBYSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDO1NBQ3ZFOzs7Ozs7Ozs7Ozs7Ozs7S0FDRixDQUFDLENBQUM7O0FBRUgsUUFBSSxLQUFLLEdBQUcsQ0FDVjtBQUNFLFFBQUUsRUFBRSx3SUFBd0k7QUFDNUksYUFBTyxFQUFFLEdBQUc7S0FDYixFQUNEO0FBQ0UsUUFBRSxFQUFFLHdJQUF3STtBQUM1SSxhQUFPLEVBQUUsR0FBRztLQUNiLEVBQ0Q7QUFDRSxRQUFFLEVBQUUsd0lBQXdJO0FBQzVJLGFBQU8sRUFBRSxHQUFHO0tBQ2IsQ0FDRixDQUFDOzs7Ozs7OztZQUVPLEtBQUs7O0FBQ1osVUFBRSxjQUFZLEtBQUssQ0FBQyxPQUFPLEVBQUksWUFBTTtBQUNuQyw0QkFBTyxhQUFhLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1NBQ25FLENBQUMsQ0FBQzs7O0FBSEwsNEJBQWtCLEtBQUssbUlBQUU7O09BSXhCOzs7Ozs7Ozs7Ozs7Ozs7R0FDRixDQUFDLENBQUM7Q0FDSixDQUFDLENBQUMiLCJmaWxlIjoiL2FwcC9raXRzdW5lL3N1bW8vc3RhdGljL3N1bW8vanMvdGVzdHMvYnJvd3NlcmRldGVjdHRlc3RzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtleHBlY3R9IGZyb20gJ2NoYWknO1xuaW1wb3J0IHtkZWZhdWx0IGFzIG1vY2hhSnNkb20sIHJlcmVxdWlyZX0gZnJvbSAnbW9jaGEtanNkb20nO1xuXG5pbXBvcnQgbW9jaGFVbmRlcnNjb3JlIGZyb20gJy4vZml4dHVyZXMvbW9jaGFVbmRlcnNjb3JlLmpzJztcblxuZGVzY3JpYmUoJ0Jyb3dzZXJEZXRlY3QnLCAoKSA9PiB7XG4gIG1vY2hhSnNkb20oe3VzZUVhY2g6IHRydWV9KTtcbiAgbW9jaGFVbmRlcnNjb3JlKCk7XG4gIC8qIGdsb2JhbHMgd2luZG93ICovXG5cbiAgbGV0IEJyb3dzZXJEZXRlY3Q7XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgcmVyZXF1aXJlKCcuLi9icm93c2VyZGV0ZWN0LmpzJyk7XG5cbiAgICBCcm93c2VyRGV0ZWN0ID0gd2luZG93LkJyb3dzZXJEZXRlY3Q7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdGZW5uZWMgdmVyc2lvbnMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBkZXRlY3QgRmVubmVjIDcnLCAoKSA9PiB7XG4gICAgICBsZXQgdWEgPSAnTW96aWxsYS81LjAgKEFuZHJvaWQ7IExpbnV4IGFybXY3bDsgcnY6Ny4wLjEpIEdlY2tvLyBGaXJlZm94LzcuMC4xIEZlbm5lYy83LjAuMSc7XG4gICAgICBleHBlY3QoQnJvd3NlckRldGVjdC5zZWFyY2hTdHJpbmcoQnJvd3NlckRldGVjdC5kYXRhQnJvd3NlciwgdWEpKS50by5lcXVhbCgnbScpO1xuICAgICAgZXhwZWN0KEJyb3dzZXJEZXRlY3Quc2VhcmNoVmVyc2lvbih1YSkpLnRvLmVxdWFsKDcpO1xuICAgICAgZXhwZWN0KEJyb3dzZXJEZXRlY3QuZGV0ZWN0KHVhKSkudG8uZGVlcC5lcXVhbChbJ20nLCA3LCAnYW5kcm9pZCddKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZGV0ZWN0IEZlbm5lYyAxMCcsICgpID0+IHtcbiAgICAgIGxldCB1YSA9ICdNb3ppbGxhLzUuMCAoQW5kcm9pZDsgTW9iaWxlOyBydjoxMC4wLjQpIEdlY2tvLzEwLjAuNCBGaXJlZm94LzEwLjAuNCBGZW5uZWMvMTAuMC40JztcbiAgICAgIGV4cGVjdChCcm93c2VyRGV0ZWN0LnNlYXJjaFN0cmluZyhCcm93c2VyRGV0ZWN0LmRhdGFCcm93c2VyLCB1YSkpLnRvLmVxdWFsKCdtJyk7XG4gICAgICBleHBlY3QoQnJvd3NlckRldGVjdC5zZWFyY2hWZXJzaW9uKHVhKSkudG8uZXF1YWwoMTApO1xuICAgICAgZXhwZWN0KEJyb3dzZXJEZXRlY3QuZGV0ZWN0KHVhKSkudG8uZGVlcC5lcXVhbChbJ20nLCAxMCwgJ2FuZHJvaWQnXSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGRldGVjdCBGZW5uZWMgMTQnLCAoKSA9PiB7XG4gICAgICBsZXQgdWEgPSAnTW96aWxsYS81LjAgKEFuZHJvaWQ7IE1vYmlsZTsgcnY6MTQuMCkgR2Vja28vMTQuMCBGaXJlZm94LzE0LjAnO1xuICAgICAgZXhwZWN0KEJyb3dzZXJEZXRlY3Quc2VhcmNoU3RyaW5nKEJyb3dzZXJEZXRlY3QuZGF0YUJyb3dzZXIsIHVhKSkudG8uZXF1YWwoJ20nKTtcbiAgICAgIGV4cGVjdChCcm93c2VyRGV0ZWN0LnNlYXJjaFZlcnNpb24odWEpKS50by5lcXVhbCgxNCk7XG4gICAgICBleHBlY3QoQnJvd3NlckRldGVjdC5kZXRlY3QodWEpKS50by5kZWVwLmVxdWFsKFsnbScsIDE0LCAnYW5kcm9pZCddKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0ZpcmVmb3ggdmVyc2lvbnMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBkZXRlY3QgRmlyZWZveCA0JywgKCkgPT4ge1xuICAgICAgbGV0IHVhID0gJ01vemlsbGEvNS4wIChYMTE7IExpbnV4IGk2ODY7IHJ2OjIuMCkgR2Vja28vMjAxMDAxMDEgRmlyZWZveC80LjAnO1xuICAgICAgZXhwZWN0KEJyb3dzZXJEZXRlY3Quc2VhcmNoU3RyaW5nKEJyb3dzZXJEZXRlY3QuZGF0YUJyb3dzZXIsIHVhKSkudG8uZXF1YWwoJ2Z4Jyk7XG4gICAgICBleHBlY3QoQnJvd3NlckRldGVjdC5zZWFyY2hWZXJzaW9uKHVhKSkudG8uZXF1YWwoNCk7XG4gICAgICBleHBlY3QoQnJvd3NlckRldGVjdC5kZXRlY3QodWEpKS50by5kZWVwLmVxdWFsKFsnZngnLCA0LCAnbGludXgnXSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGRldGVjdCBGaXJlZm94IDEyJywgKCkgPT4gZnVuY3Rpb24oKSB7XG4gICAgICBsZXQgdWEgPSAnTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgNi4xOyBXT1c2NDsgcnY6MTIuMCkgR2Vja28vMjAxMDAxMDEgRmlyZWZveC8xMi4wJztcbiAgICAgIGV4cGVjdChCcm93c2VyRGV0ZWN0LnNlYXJjaFN0cmluZyhCcm93c2VyRGV0ZWN0LmRhdGFCcm93c2VyLCB1YSkpLnRvLmVxdWFsKCdmeCcpO1xuICAgICAgZXhwZWN0KEJyb3dzZXJEZXRlY3Quc2VhcmNoVmVyc2lvbih1YSkpLnRvLmVxdWFsKDEyKTtcbiAgICAgIGV4cGVjdChCcm93c2VyRGV0ZWN0LmRldGVjdCh1YSkpLnRvLmRlZXAuZXF1YWwoWydmeCcsIDEyLCAnd2luNyddKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1dpbmRvd3MgdmVyc2lvbnMnLCAoKSA9PiB7XG4gICAgbGV0IGNhc2VzID0gW1xuICAgICAge1xuICAgICAgICB1YTogJ01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDUuMDsgV09XNjQ7IHJ2OjEyLjApIEdlY2tvLzIwMTAwMTAxIEZpcmVmb3gvMTIuMCcsXG4gICAgICAgIGV4cGVjdGVkOiBbJ2Z4JywgMTIsICd3aW54cCddLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdWE6ICdNb3ppbGxhLzUuMCAoV2luZG93cyBOVCA1LjAxOyBXT1c2NDsgcnY6MTIuMCkgR2Vja28vMjAxMDAxMDEgRmlyZWZveC8xMy4wJyxcbiAgICAgICAgZXhwZWN0ZWQ6IFsnZngnLCAxMywgJ3dpbnhwJ10sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB1YTogJ01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDUuMTsgV09XNjQ7IHJ2OjEyLjApIEdlY2tvLzIwMTAwMTAxIEZpcmVmb3gvMTQuMCcsXG4gICAgICAgIGV4cGVjdGVkOiBbJ2Z4JywgMTQsICd3aW54cCddLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdWE6ICdNb3ppbGxhLzUuMCAoV2luZG93cyBOVCA2LjA7IFdPVzY0OyBydjoxMi4wKSBHZWNrby8yMDEwMDEwMSBGaXJlZm94LzE1LjAnLFxuICAgICAgICBleHBlY3RlZDogWydmeCcsIDE1LCAnd2luNyddLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdWE6ICdNb3ppbGxhLzUuMCAoV2luZG93cyBOVCA2LjE7IFdPVzY0OyBydjoxMi4wKSBHZWNrby8yMDEwMDEwMSBGaXJlZm94LzE2LjAnLFxuICAgICAgICBleHBlY3RlZDogWydmeCcsIDE2LCAnd2luNyddLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdWE6ICdNb3ppbGxhLzUuMCAoV2luZG93cyBOVCA2LjI7IFdPVzY0OyBydjoxMi4wKSBHZWNrby8yMDEwMDEwMSBGaXJlZm94LzE3LjAnLFxuICAgICAgICBleHBlY3RlZDogWydmeCcsIDE3LCAnd2luOCddLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdWE6ICdNb3ppbGxhLzUuMCAoV2luZG93cyBOVCA0LjA7IFdPVzY0OyBydjoxMi4wKSBHZWNrby8yMDEwMDEwMSBGaXJlZm94LzQuMCcsXG4gICAgICAgIGV4cGVjdGVkOiBbJ2Z4JywgNCwgJ3dpbiddLFxuICAgICAgfSxcbiAgICBdO1xuXG4gICAgZm9yIChsZXQgY2FzZV8gb2YgY2FzZXMpIHtcbiAgICAgIGl0KGBzaG91bGQgZGV0ZWN0ICR7Y2FzZV8uZXhwZWN0ZWR9YCwgKCkgPT4ge1xuICAgICAgICBleHBlY3QoQnJvd3NlckRldGVjdC5zZWFyY2hTdHJpbmcoQnJvd3NlckRldGVjdC5kYXRhT1MsIGNhc2VfLnVhKSkudG8uZXF1YWwoY2FzZV8uZXhwZWN0ZWRbMl0pO1xuICAgICAgICBleHBlY3QoQnJvd3NlckRldGVjdC5kZXRlY3QoY2FzZV8udWEpKS50by5kZWVwLmVxdWFsKGNhc2VfLmV4cGVjdGVkKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0ZpcmVmb3ggT1MnLCBmdW5jdGlvbigpIHtcbiAgICBsZXQgY2FzZXMgPSBbXG4gICAgICB7XG4gICAgICAgIHVhOiAnTW96aWxsYS81LjAgKE1vYmlsZTsgcnY6MTguMCkgR2Vja28vMTguMCBGaXJlZm94LzE4LjAnLFxuICAgICAgICBleHBlY3RlZDogWydmeG9zJywgMSwgJ2Z4b3MnXSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHVhOiAnTW96aWxsYS81LjAgKE1vYmlsZTsgbm5ubjsgcnY6MTguMSkgR2Vja28vMTguMSBGaXJlZm94LzE4LjEnLFxuICAgICAgICBleHBlY3RlZDogWydmeG9zJywgMS4xLCAnZnhvcyddLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdWE6ICdNb3ppbGxhLzUuMCAoTW9iaWxlOyBubm5uOyBydjoyNi4wKSBHZWNrby8yNi4wIEZpcmVmb3gvMjYuMCcsXG4gICAgICAgIGV4cGVjdGVkOiBbJ2Z4b3MnLCAxLjIsICdmeG9zJ10sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB1YTogJ01vemlsbGEvNS4wIChNb2JpbGU7IG5ubm47IHJ2OjI4LjApIEdlY2tvLzI4LjAgRmlyZWZveC8yOC4wJyxcbiAgICAgICAgZXhwZWN0ZWQ6IFsnZnhvcycsIDEuMywgJ2Z4b3MnXSxcbiAgICAgIH0sXG4gICAgXTtcblxuICAgIGZvciAobGV0IGNhc2VfIG9mIGNhc2VzKSB7XG4gICAgICBpdChgc2hvdWxkIGRldGVjdCAke2Nhc2VfLmV4cGVjdGVkfWAsICgpID0+IHtcbiAgICAgICAgZXhwZWN0KEJyb3dzZXJEZXRlY3QuZGV0ZWN0KGNhc2VfLnVhKSkudG8uZGVlcC5lcXVhbChjYXNlXy5leHBlY3RlZCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdGaXJlZm94IGZvciBpT1MnLCAoKSA9PiB7XG4gICAgaXQoJ2FsbCBwbGF0Zm9ybXMnLCAoKSA9PiB7XG4gICAgICBsZXQgdWFzID0gW1xuICAgICAgICAnTW96aWxsYS81LjAgKGlQaG9uZTsgQ1BVIGlQaG9uZSBPUyA4XzMgbGlrZSBNYWMgT1MgWCkgQXBwbGVXZWJLaXQvNjAwLjEuNCAoS0hUTUwsIGxpa2UgR2Vja28pIEZ4aU9TLzEuMCBNb2JpbGUvMTJGNjkgU2FmYXJpLzYwMC4xLjQnLFxuICAgICAgICAnTW96aWxsYS81LjAgKGlQYWQ7IENQVSBpUGhvbmUgT1MgOF8zIGxpa2UgTWFjIE9TIFgpIEFwcGxlV2ViS2l0LzYwMC4xLjQgKEtIVE1MLCBsaWtlIEdlY2tvKSBGeGlPUy8xLjAgTW9iaWxlLzEyRjY5IFNhZmFyaS82MDAuMS40JyxcbiAgICAgICAgJ01vemlsbGEvNS4wIChpUG9kIHRvdWNoOyBDUFUgaVBob25lIE9TIDhfNCBsaWtlIE1hYyBPUyBYKSBBcHBsZVdlYktpdC82MDAuMS40IChLSFRNTCwgbGlrZSBHZWNrbykgRnhpT1MvMS4wIE1vYmlsZS8xMkgxNDMgU2FmYXJpLzYwMC4xLjQnXG4gICAgICBdO1xuICAgICAgZm9yIChsZXQgdWEgb2YgdWFzKSB7XG4gICAgICAgIGV4cGVjdChCcm93c2VyRGV0ZWN0LmRldGVjdCh1YSkpLnRvLmRlZXAuZXF1YWwoWydmeGlvcycsIDEuMCwgJ2lvcyddKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGxldCBjYXNlcyA9IFtcbiAgICAgIHtcbiAgICAgICAgdWE6ICdNb3ppbGxhLzUuMCAoaVBob25lOyBDUFUgaVBob25lIE9TIDhfMiBsaWtlIE1hYyBPUyBYKSBBcHBsZVdlYktpdC82MDAuMS40IChLSFRNTCwgbGlrZSBHZWNrbykgRnhpT1MvMS4wLjAgTW9iaWxlLzEyRDUwOCBTYWZhcmkvNjAwLjEuNCcsXG4gICAgICAgIHZlcnNpb246IDEuMCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHVhOiAnTW96aWxsYS81LjAgKGlQaG9uZTsgQ1BVIGlQaG9uZSBPUyA4XzIgbGlrZSBNYWMgT1MgWCkgQXBwbGVXZWJLaXQvNjAwLjEuNCAoS0hUTUwsIGxpa2UgR2Vja28pIEZ4aU9TLzEuMC4xIE1vYmlsZS8xMkQ1MDggU2FmYXJpLzYwMC4xLjQnLFxuICAgICAgICB2ZXJzaW9uOiAxLjAsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB1YTogJ01vemlsbGEvNS4wIChpUGhvbmU7IENQVSBpUGhvbmUgT1MgOF8yIGxpa2UgTWFjIE9TIFgpIEFwcGxlV2ViS2l0LzYwMC4xLjQgKEtIVE1MLCBsaWtlIEdlY2tvKSBGeGlPUy8xLjEuMCBNb2JpbGUvMTJENTA4IFNhZmFyaS82MDAuMS40JyxcbiAgICAgICAgdmVyc2lvbjogMS4xLFxuICAgICAgfSxcbiAgICBdO1xuXG4gICAgZm9yIChsZXQgY2FzZV8gb2YgY2FzZXMpIHtcbiAgICAgIGl0KGB2ZXJzaW9uICR7Y2FzZV8udmVyc2lvbn1gLCAoKSA9PiB7XG4gICAgICAgIGV4cGVjdChCcm93c2VyRGV0ZWN0LmRldGVjdChjYXNlXy51YSlbMV0pLnRvLmVxdWFsKGNhc2VfLnZlcnNpb24pO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn0pO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/app/kitsune/sumo/static/sumo/js/tests/browserdetecttests.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/app/kitsune/sumo/static/sumo/js/tests/browserdetecttests.js",
      "sourcesContent": [
        "import {expect} from 'chai';\nimport {default as mochaJsdom, rerequire} from 'mocha-jsdom';\n\nimport mochaUnderscore from './fixtures/mochaUnderscore.js';\n\ndescribe('BrowserDetect', () => {\n  mochaJsdom({useEach: true});\n  mochaUnderscore();\n  /* globals window */\n\n  let BrowserDetect;\n\n  beforeEach(() => {\n    rerequire('../browserdetect.js');\n\n    BrowserDetect = window.BrowserDetect;\n  });\n\n  describe('Fennec versions', () => {\n    it('should detect Fennec 7', () => {\n      let ua = 'Mozilla/5.0 (Android; Linux armv7l; rv:7.0.1) Gecko/ Firefox/7.0.1 Fennec/7.0.1';\n      expect(BrowserDetect.searchString(BrowserDetect.dataBrowser, ua)).to.equal('m');\n      expect(BrowserDetect.searchVersion(ua)).to.equal(7);\n      expect(BrowserDetect.detect(ua)).to.deep.equal(['m', 7, 'android']);\n    });\n\n    it('should detect Fennec 10', () => {\n      let ua = 'Mozilla/5.0 (Android; Mobile; rv:10.0.4) Gecko/10.0.4 Firefox/10.0.4 Fennec/10.0.4';\n      expect(BrowserDetect.searchString(BrowserDetect.dataBrowser, ua)).to.equal('m');\n      expect(BrowserDetect.searchVersion(ua)).to.equal(10);\n      expect(BrowserDetect.detect(ua)).to.deep.equal(['m', 10, 'android']);\n    });\n\n    it('should detect Fennec 14', () => {\n      let ua = 'Mozilla/5.0 (Android; Mobile; rv:14.0) Gecko/14.0 Firefox/14.0';\n      expect(BrowserDetect.searchString(BrowserDetect.dataBrowser, ua)).to.equal('m');\n      expect(BrowserDetect.searchVersion(ua)).to.equal(14);\n      expect(BrowserDetect.detect(ua)).to.deep.equal(['m', 14, 'android']);\n    });\n  });\n\n  describe('Firefox versions', () => {\n    it('should detect Firefox 4', () => {\n      let ua = 'Mozilla/5.0 (X11; Linux i686; rv:2.0) Gecko/20100101 Firefox/4.0';\n      expect(BrowserDetect.searchString(BrowserDetect.dataBrowser, ua)).to.equal('fx');\n      expect(BrowserDetect.searchVersion(ua)).to.equal(4);\n      expect(BrowserDetect.detect(ua)).to.deep.equal(['fx', 4, 'linux']);\n    });\n\n    it('should detect Firefox 12', () => function() {\n      let ua = 'Mozilla/5.0 (Windows NT 6.1; WOW64; rv:12.0) Gecko/20100101 Firefox/12.0';\n      expect(BrowserDetect.searchString(BrowserDetect.dataBrowser, ua)).to.equal('fx');\n      expect(BrowserDetect.searchVersion(ua)).to.equal(12);\n      expect(BrowserDetect.detect(ua)).to.deep.equal(['fx', 12, 'win7']);\n    });\n  });\n\n  describe('Windows versions', () => {\n    let cases = [\n      {\n        ua: 'Mozilla/5.0 (Windows NT 5.0; WOW64; rv:12.0) Gecko/20100101 Firefox/12.0',\n        expected: ['fx', 12, 'winxp'],\n      },\n      {\n        ua: 'Mozilla/5.0 (Windows NT 5.01; WOW64; rv:12.0) Gecko/20100101 Firefox/13.0',\n        expected: ['fx', 13, 'winxp'],\n      },\n      {\n        ua: 'Mozilla/5.0 (Windows NT 5.1; WOW64; rv:12.0) Gecko/20100101 Firefox/14.0',\n        expected: ['fx', 14, 'winxp'],\n      },\n      {\n        ua: 'Mozilla/5.0 (Windows NT 6.0; WOW64; rv:12.0) Gecko/20100101 Firefox/15.0',\n        expected: ['fx', 15, 'win7'],\n      },\n      {\n        ua: 'Mozilla/5.0 (Windows NT 6.1; WOW64; rv:12.0) Gecko/20100101 Firefox/16.0',\n        expected: ['fx', 16, 'win7'],\n      },\n      {\n        ua: 'Mozilla/5.0 (Windows NT 6.2; WOW64; rv:12.0) Gecko/20100101 Firefox/17.0',\n        expected: ['fx', 17, 'win8'],\n      },\n      {\n        ua: 'Mozilla/5.0 (Windows NT 4.0; WOW64; rv:12.0) Gecko/20100101 Firefox/4.0',\n        expected: ['fx', 4, 'win'],\n      },\n    ];\n\n    for (let case_ of cases) {\n      it(`should detect ${case_.expected}`, () => {\n        expect(BrowserDetect.searchString(BrowserDetect.dataOS, case_.ua)).to.equal(case_.expected[2]);\n        expect(BrowserDetect.detect(case_.ua)).to.deep.equal(case_.expected);\n      });\n    }\n  });\n\n  describe('Firefox OS', function() {\n    let cases = [\n      {\n        ua: 'Mozilla/5.0 (Mobile; rv:18.0) Gecko/18.0 Firefox/18.0',\n        expected: ['fxos', 1, 'fxos'],\n      },\n      {\n        ua: 'Mozilla/5.0 (Mobile; nnnn; rv:18.1) Gecko/18.1 Firefox/18.1',\n        expected: ['fxos', 1.1, 'fxos'],\n      },\n      {\n        ua: 'Mozilla/5.0 (Mobile; nnnn; rv:26.0) Gecko/26.0 Firefox/26.0',\n        expected: ['fxos', 1.2, 'fxos'],\n      },\n      {\n        ua: 'Mozilla/5.0 (Mobile; nnnn; rv:28.0) Gecko/28.0 Firefox/28.0',\n        expected: ['fxos', 1.3, 'fxos'],\n      },\n    ];\n\n    for (let case_ of cases) {\n      it(`should detect ${case_.expected}`, () => {\n        expect(BrowserDetect.detect(case_.ua)).to.deep.equal(case_.expected);\n      });\n    }\n  });\n\n  describe('Firefox for iOS', () => {\n    it('all platforms', () => {\n      let uas = [\n        'Mozilla/5.0 (iPhone; CPU iPhone OS 8_3 like Mac OS X) AppleWebKit/600.1.4 (KHTML, like Gecko) FxiOS/1.0 Mobile/12F69 Safari/600.1.4',\n        'Mozilla/5.0 (iPad; CPU iPhone OS 8_3 like Mac OS X) AppleWebKit/600.1.4 (KHTML, like Gecko) FxiOS/1.0 Mobile/12F69 Safari/600.1.4',\n        'Mozilla/5.0 (iPod touch; CPU iPhone OS 8_4 like Mac OS X) AppleWebKit/600.1.4 (KHTML, like Gecko) FxiOS/1.0 Mobile/12H143 Safari/600.1.4'\n      ];\n      for (let ua of uas) {\n        expect(BrowserDetect.detect(ua)).to.deep.equal(['fxios', 1.0, 'ios']);\n      }\n    });\n\n    let cases = [\n      {\n        ua: 'Mozilla/5.0 (iPhone; CPU iPhone OS 8_2 like Mac OS X) AppleWebKit/600.1.4 (KHTML, like Gecko) FxiOS/1.0.0 Mobile/12D508 Safari/600.1.4',\n        version: 1.0,\n      },\n      {\n        ua: 'Mozilla/5.0 (iPhone; CPU iPhone OS 8_2 like Mac OS X) AppleWebKit/600.1.4 (KHTML, like Gecko) FxiOS/1.0.1 Mobile/12D508 Safari/600.1.4',\n        version: 1.0,\n      },\n      {\n        ua: 'Mozilla/5.0 (iPhone; CPU iPhone OS 8_2 like Mac OS X) AppleWebKit/600.1.4 (KHTML, like Gecko) FxiOS/1.1.0 Mobile/12D508 Safari/600.1.4',\n        version: 1.1,\n      },\n    ];\n\n    for (let case_ of cases) {\n      it(`version ${case_.version}`, () => {\n        expect(BrowserDetect.detect(case_.ua)[1]).to.equal(case_.version);\n      });\n    }\n  });\n});\n"
      ]
    },
    "mtime": 1561057444000
  },
  "{\"filename\":\"/app/kitsune/sumo/static/sumo/js/tests/fixtures/mochaUnderscore.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":2,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "./mochaFixtureHelper.js",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mochaFixtureHelper"
              }
            ]
          },
          {
            "source": "underscore",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "_"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _mochaFixtureHelperJs = require('./mochaFixtureHelper.js');\n\nvar _mochaFixtureHelperJs2 = _interopRequireDefault(_mochaFixtureHelperJs);\n\nvar _underscore = require('underscore');\n\nvar _underscore2 = _interopRequireDefault(_underscore);\n\nexports['default'] = (0, _mochaFixtureHelperJs2['default'])(function () {\n  return {\n    _: _underscore2['default']\n  };\n});\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9hcHAva2l0c3VuZS9zdW1vL3N0YXRpYy9zdW1vL2pzL3Rlc3RzL2ZpeHR1cmVzL21vY2hhVW5kZXJzY29yZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7OztvQ0FBK0IseUJBQXlCOzs7OzBCQUMxQyxZQUFZOzs7O3FCQUVYLHVDQUFtQixZQUFNO0FBQ3RDLFNBQU87QUFDTCxLQUFDLHlCQUFHO0dBQ0wsQ0FBQztDQUNILENBQUMiLCJmaWxlIjoiL2FwcC9raXRzdW5lL3N1bW8vc3RhdGljL3N1bW8vanMvdGVzdHMvZml4dHVyZXMvbW9jaGFVbmRlcnNjb3JlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vY2hhRml4dHVyZUhlbHBlciBmcm9tICcuL21vY2hhRml4dHVyZUhlbHBlci5qcyc7XG5pbXBvcnQgXyBmcm9tICd1bmRlcnNjb3JlJztcblxuZXhwb3J0IGRlZmF1bHQgbW9jaGFGaXh0dXJlSGVscGVyKCgpID0+IHtcbiAgcmV0dXJuIHtcbiAgICBfOiBfLFxuICB9O1xufSk7XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/app/kitsune/sumo/static/sumo/js/tests/fixtures/mochaUnderscore.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;oCAA+B,yBAAyB;;;;0BAC1C,YAAY;;;;qBAEX,uCAAmB,YAAM;AACtC,SAAO;AACL,KAAC,yBAAG;GACL,CAAC;CACH,CAAC",
      "file": "/app/kitsune/sumo/static/sumo/js/tests/fixtures/mochaUnderscore.js",
      "sourcesContent": [
        "import mochaFixtureHelper from './mochaFixtureHelper.js';\nimport _ from 'underscore';\n\nexport default mochaFixtureHelper(() => {\n  return {\n    _: _,\n  };\n});\n"
      ]
    },
    "mtime": 1561057444000
  },
  "{\"filename\":\"/app/kitsune/sumo/static/sumo/js/tests/commonutilstests.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":2,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "mocha-jsdom",
            "imported": [
              "default",
              "rerequire"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mochaJsdom"
              },
              {
                "kind": "named",
                "imported": "rerequire",
                "local": "rerequire"
              }
            ]
          },
          {
            "source": "chai",
            "imported": [
              "default",
              "expect"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "chai"
              },
              {
                "kind": "named",
                "imported": "expect",
                "local": "expect"
              }
            ]
          },
          {
            "source": "chai-lint",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "chaiLint"
              }
            ]
          },
          {
            "source": "sinon",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "sinon"
              }
            ]
          },
          {
            "source": "sinon-chai",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "sinonChai"
              }
            ]
          },
          {
            "source": "./fixtures/mochaK.js",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mochaK"
              }
            ]
          },
          {
            "source": "./fixtures/mochaJquery.js",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mochaJquery"
              }
            ]
          },
          {
            "source": "./fixtures/mochaUnderscore.js",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mochaUnderscore"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _mochaJsdom = require('mocha-jsdom');\n\nvar _mochaJsdom2 = _interopRequireDefault(_mochaJsdom);\n\nvar _chai = require('chai');\n\nvar _chai2 = _interopRequireDefault(_chai);\n\nvar _chaiLint = require('chai-lint');\n\nvar _chaiLint2 = _interopRequireDefault(_chaiLint);\n\nvar _sinon = require('sinon');\n\nvar _sinon2 = _interopRequireDefault(_sinon);\n\nvar _sinonChai = require('sinon-chai');\n\nvar _sinonChai2 = _interopRequireDefault(_sinonChai);\n\nvar _fixturesMochaKJs = require('./fixtures/mochaK.js');\n\nvar _fixturesMochaKJs2 = _interopRequireDefault(_fixturesMochaKJs);\n\nvar _fixturesMochaJqueryJs = require('./fixtures/mochaJquery.js');\n\nvar _fixturesMochaJqueryJs2 = _interopRequireDefault(_fixturesMochaJqueryJs);\n\nvar _fixturesMochaUnderscoreJs = require('./fixtures/mochaUnderscore.js');\n\nvar _fixturesMochaUnderscoreJs2 = _interopRequireDefault(_fixturesMochaUnderscoreJs);\n\n_chai2['default'].use(_chaiLint2['default']);\n_chai2['default'].use(_sinonChai2['default']);\n\ndescribe('k', function () {\n  (0, _mochaJsdom2['default'])({\n    useEach: true,\n    document: {\n      referrer: 'http://google.com/?q=cookies',\n      referer: 'http://google.com/?q=cookies'\n    }\n  });\n  (0, _fixturesMochaJqueryJs2['default'])();\n  (0, _fixturesMochaKJs2['default'])();\n  (0, _fixturesMochaUnderscoreJs2['default'])();\n  /* globals document:false, $:false, k:false */\n\n  beforeEach(function () {\n    (0, _mochaJsdom.rerequire)('../libs/jquery.placeholder.js');\n    (0, _mochaJsdom.rerequire)('../main.js');\n  });\n\n  describe('getQueryParamsAsDict', function () {\n    it('should return an empty object for no params', function () {\n      var url = 'http://example.com';\n      var params = k.getQueryParamsAsDict(url);\n      (0, _chai.expect)(params).to.deep.equal({});\n    });\n\n    it('should parse a query string with one parameter', function () {\n      var url = 'http://example.com/?test=woot';\n      var params = k.getQueryParamsAsDict(url);\n      (0, _chai.expect)(params).to.deep.equal({ test: 'woot' });\n    });\n\n    it('should parse a query string with two paramaters', function () {\n      var url = 'http://example.com/?x=foo&y=bar';\n      var params = k.getQueryParamsAsDict(url);\n      (0, _chai.expect)(params).to.deep.equal({ x: 'foo', y: 'bar' });\n    });\n\n    it('should parse this Google url', function () {\n      var url = 'http://www.google.com/url?sa=t&source=web&cd=1&sqi=2&' + 'ved=0CDEQFjAA&url=http%3A%2F%2Fsupport.mozilla.com%2F&' + 'rct=j&q=firefox%20help&ei=OsBSTpbZBIGtgQfgzv3yBg&' + 'usg=AFQjCNFIV7wgd9Pnr0m3Ofc7r1zVTNK8dw';\n      var params = k.getQueryParamsAsDict(url);\n      (0, _chai.expect)(params).to.deep.equal({\n        sa: 't',\n        source: 'web',\n        cd: '1',\n        sqi: '2',\n        ved: '0CDEQFjAA',\n        url: 'http://support.mozilla.com/',\n        rct: 'j',\n        q: 'firefox help',\n        ei: 'OsBSTpbZBIGtgQfgzv3yBg',\n        usg: 'AFQjCNFIV7wgd9Pnr0m3Ofc7r1zVTNK8dw'\n      });\n    });\n  });\n\n  describe('queryParamStringFromDict', function () {\n    it('should serialize an empty dict into a ?', function () {\n      var actual = k.queryParamStringFromDict({});\n      (0, _chai.expect)(actual).to.equal('?');\n    });\n\n    it('it should serialize an object with a single key', function () {\n      var actual = k.queryParamStringFromDict({ foo: 1 });\n      (0, _chai.expect)(actual).to.equal('?foo=1');\n    });\n\n    it('should serialize an object with two keys', function () {\n      var actual = k.queryParamStringFromDict({ foo: 1, bar: 2 });\n      (0, _chai.expect)(actual).to.equal('?foo=1&bar=2');\n    });\n\n    it('should not include null or undefined in the output', function () {\n      var actual = k.queryParamStringFromDict({ foo: undefined, bar: 2, baz: null });\n      (0, _chai.expect)(actual).to.equal('?bar=2');\n    });\n\n    it('should serialize an object with three keys', function () {\n      var actual = k.queryParamStringFromDict({ foo: 1, bar: 2, baz: 3 });\n      (0, _chai.expect)(actual).to.deep.equal('?foo=1&bar=2&baz=3');\n    });\n  });\n\n  describe('getReferrer', function () {\n    it('should recognize search referrers', function () {\n      var params = { as: 's', s: 'cookies' };\n      var actual = k.getReferrer(params);\n      (0, _chai.expect)(actual).to.equal('search');\n    });\n\n    it('should recognize inproduct referrers', function () {\n      var params = { as: 'u' };\n      var actual = k.getReferrer(params);\n      (0, _chai.expect)(actual).to.equal('inproduct');\n    });\n\n    it('should fall back to `document.referrer`', function () {\n      var referrer = 'http://google.com/?q=cookies';\n      (0, _chai.expect)(document.referrer).to.equal(referrer);\n      (0, _chai.expect)(k.getReferrer({})).to.equal(referrer);\n    });\n  });\n\n  describe('getSearchQuery', function () {\n    it('should return the s query string for local search referrers', function () {\n      var params = { as: 's', s: 'cookies' };\n      var referrer = 'search';\n      (0, _chai.expect)(k.getSearchQuery(params, referrer)).to.equal('cookies');\n    });\n\n    it('should return an empty string fro inproduct referrers', function () {\n      var params = { as: 'u', s: 'wrong' };\n      var referrer = 'inproduct';\n      (0, _chai.expect)(k.getSearchQuery(params, referrer)).to.equal('');\n    });\n\n    it('should detect external search parameters from google', function () {\n      var referrer = 'http://google.com/?q=cookies';\n      (0, _chai.expect)(k.getSearchQuery({}, referrer)).to.equal('cookies');\n    });\n  });\n\n  describe('unquote', function () {\n    it('should return undefined for undefined input', function () {\n      (0, _chai.expect)(k.unquote(undefined)).to.beUndefined();\n    });\n\n    it('should unquote simply quoted strings', function () {\n      (0, _chai.expect)(k.unquote('\"delete cookies\"')).to.equal('delete cookies');\n    });\n\n    it('should handle escaped quotes', function () {\n      (0, _chai.expect)(k.unquote('\"\\\\\"delete\\\\\" cookies\"')).to.equal('\"delete\" cookies');\n    });\n\n    it('should handle escaped quotes with no other quotes', function () {\n      (0, _chai.expect)(k.unquote('\\\\\"delete\\\\\" cookies')).to.equal('\"delete\" cookies');\n    });\n\n    it('should pass strings without quotes through unmodified', function () {\n      var s = 'cookies';\n      (0, _chai.expect)(k.unquote(s)).to.equal(s);\n    });\n  });\n\n  describe('safeString', function () {\n    it('should escape html', function () {\n      var unsafeString = '<a href=\"foo&\\'\">';\n      var safeString = '&lt;a href=&quot;foo&amp;&#39;&quot;&gt;';\n      (0, _chai.expect)(k.safeString(unsafeString)).to.equal(safeString);\n    });\n  });\n\n  describe('safeInterpolate', function () {\n    /* k.safeInterpolate works by delegating to `interpolate`, a Django\n     * gettext function. These tests mock out interpolate and make sure\n     * it was called appropriately.\n     */\n    var interpolateSpy = undefined;\n\n    beforeEach(function () {\n      interpolateSpy = global.interpolate = _sinon2['default'].spy();\n    });\n\n    it('should interpolate positional user input', function () {\n      var html = '<div>%s</div> %s';\n      var unsafe = ['<a>', '<script>'];\n      var safe = ['&lt;a&gt;', '&lt;script&gt;'];\n\n      k.safeInterpolate(html, unsafe, false);\n\n      (0, _chai.expect)(interpolateSpy).to.have.callCount(1);\n      (0, _chai.expect)(interpolateSpy).to.have.been.calledWithExactly(html, safe, false);\n    });\n\n    it('should interpolate named user input', function () {\n      var html = '<div>%(display)s <span>(%(name)s)</span></div>';\n      var unsafe = {\n        display: \"<script>alert('xss');</script>\",\n        name: 'Jo&mdash;hn'\n      };\n      var safe = {\n        display: '&lt;script&gt;alert(&#39;xss&#39;);&lt;/script&gt;',\n        name: 'Jo&amp;mdash;hn'\n      };\n      k.safeInterpolate(html, unsafe, true);\n\n      (0, _chai.expect)(interpolateSpy).to.have.callCount(1);\n      (0, _chai.expect)(interpolateSpy).to.have.been.calledWithExactly(html, safe, true);\n    });\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9hcHAva2l0c3VuZS9zdW1vL3N0YXRpYy9zdW1vL2pzL3Rlc3RzL2NvbW1vbnV0aWxzdGVzdHMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OzswQkFBK0MsYUFBYTs7OztvQkFDdEIsTUFBTTs7Ozt3QkFDdkIsV0FBVzs7OztxQkFDZCxPQUFPOzs7O3lCQUNILFlBQVk7Ozs7Z0NBRWYsc0JBQXNCOzs7O3FDQUNqQiwyQkFBMkI7Ozs7eUNBQ3ZCLCtCQUErQjs7OztBQUUzRCxrQkFBSyxHQUFHLHVCQUFVLENBQUM7QUFDbkIsa0JBQUssR0FBRyx3QkFBVyxDQUFDOztBQUVwQixRQUFRLENBQUMsR0FBRyxFQUFFLFlBQU07QUFDbEIsK0JBQVc7QUFDVCxXQUFPLEVBQUUsSUFBSTtBQUNiLFlBQVEsRUFBRTtBQUNSLGNBQVEsRUFBRSw4QkFBOEI7QUFDeEMsYUFBTyxFQUFFLDhCQUE4QjtLQUN4QztHQUNGLENBQUMsQ0FBQztBQUNILDJDQUFhLENBQUM7QUFDZCxzQ0FBUSxDQUFDO0FBQ1QsK0NBQWlCLENBQUM7OztBQUdsQixZQUFVLENBQUMsWUFBTTtBQUNmLCtCQUFVLCtCQUErQixDQUFDLENBQUM7QUFDM0MsK0JBQVUsWUFBWSxDQUFDLENBQUM7R0FDekIsQ0FBQyxDQUFDOztBQUVILFVBQVEsQ0FBQyxzQkFBc0IsRUFBRSxZQUFNO0FBQ3JDLE1BQUUsQ0FBQyw2Q0FBNkMsRUFBRSxZQUFNO0FBQ3RELFVBQUksR0FBRyxHQUFHLG9CQUFvQixDQUFDO0FBQy9CLFVBQUksTUFBTSxHQUFHLENBQUMsQ0FBQyxvQkFBb0IsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUN6Qyx3QkFBTyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQztLQUNsQyxDQUFDLENBQUM7O0FBRUgsTUFBRSxDQUFDLGdEQUFnRCxFQUFFLFlBQU07QUFDekQsVUFBSSxHQUFHLEdBQUcsK0JBQStCLENBQUM7QUFDMUMsVUFB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QUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztLQUN6RSxDQUFDLENBQUM7R0FDSixDQUFDLENBQUM7Q0FDSixDQUFDLENBQUMiLCJmaWxlIjoiL2FwcC9raXRzdW5lL3N1bW8vc3RhdGljL3N1bW8vanMvdGVzdHMvY29tbW9udXRpbHN0ZXN0cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7ZGVmYXVsdCBhcyBtb2NoYUpzZG9tLCByZXJlcXVpcmV9IGZyb20gJ21vY2hhLWpzZG9tJztcbmltcG9ydCB7ZGVmYXVsdCBhcyBjaGFpLCBleHBlY3R9IGZyb20gJ2NoYWknO1xuaW1wb3J0IGNoYWlMaW50IGZyb20gJ2NoYWktbGludCc7XG5pbXBvcnQgc2lub24gZnJvbSAnc2lub24nO1xuaW1wb3J0IHNpbm9uQ2hhaSBmcm9tICdzaW5vbi1jaGFpJztcblxuaW1wb3J0IG1vY2hhSyBmcm9tICcuL2ZpeHR1cmVzL21vY2hhSy5qcyc7XG5pbXBvcnQgbW9jaGFKcXVlcnkgZnJvbSAnLi9maXh0dXJlcy9tb2NoYUpxdWVyeS5qcyc7XG5pbXBvcnQgbW9jaGFVbmRlcnNjb3JlIGZyb20gJy4vZml4dHVyZXMvbW9jaGFVbmRlcnNjb3JlLmpzJztcblxuY2hhaS51c2UoY2hhaUxpbnQpO1xuY2hhaS51c2Uoc2lub25DaGFpKTtcblxuZGVzY3JpYmUoJ2snLCAoKSA9PiB7XG4gIG1vY2hhSnNkb20oe1xuICAgIHVzZUVhY2g6IHRydWUsXG4gICAgZG9jdW1lbnQ6IHtcbiAgICAgIHJlZmVycmVyOiAnaHR0cDovL2dvb2dsZS5jb20vP3E9Y29va2llcycsXG4gICAgICByZWZlcmVyOiAnaHR0cDovL2dvb2dsZS5jb20vP3E9Y29va2llcycsXG4gICAgfSxcbiAgfSk7XG4gIG1vY2hhSnF1ZXJ5KCk7XG4gIG1vY2hhSygpO1xuICBtb2NoYVVuZGVyc2NvcmUoKTtcbiAgLyogZ2xvYmFscyBkb2N1bWVudDpmYWxzZSwgJDpmYWxzZSwgazpmYWxzZSAqL1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIHJlcmVxdWlyZSgnLi4vbGlicy9qcXVlcnkucGxhY2Vob2xkZXIuanMnKTtcbiAgICByZXJlcXVpcmUoJy4uL21haW4uanMnKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2dldFF1ZXJ5UGFyYW1zQXNEaWN0JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIGFuIGVtcHR5IG9iamVjdCBmb3Igbm8gcGFyYW1zJywgKCkgPT4ge1xuICAgICAgbGV0IHVybCA9ICdodHRwOi8vZXhhbXBsZS5jb20nO1xuICAgICAgbGV0IHBhcmFtcyA9IGsuZ2V0UXVlcnlQYXJhbXNBc0RpY3QodXJsKTtcbiAgICAgIGV4cGVjdChwYXJhbXMpLnRvLmRlZXAuZXF1YWwoe30pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBwYXJzZSBhIHF1ZXJ5IHN0cmluZyB3aXRoIG9uZSBwYXJhbWV0ZXInLCAoKSA9PiB7XG4gICAgICBsZXQgdXJsID0gJ2h0dHA6Ly9leGFtcGxlLmNvbS8/dGVzdD13b290JztcbiAgICAgIGxldCBwYXJhbXMgPSBrLmdldFF1ZXJ5UGFyYW1zQXNEaWN0KHVybCk7XG4gICAgICBleHBlY3QocGFyYW1zKS50by5kZWVwLmVxdWFsKHt0ZXN0OiAnd29vdCd9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcGFyc2UgYSBxdWVyeSBzdHJpbmcgd2l0aCB0d28gcGFyYW1hdGVycycsICgpID0+IHtcbiAgICAgIGxldCB1cmwgPSAnaHR0cDovL2V4YW1wbGUuY29tLz94PWZvbyZ5PWJhcic7XG4gICAgICBsZXQgcGFyYW1zID0gay5nZXRRdWVyeVBhcmFtc0FzRGljdCh1cmwpO1xuICAgICAgZXhwZWN0KHBhcmFtcykudG8uZGVlcC5lcXVhbCh7eDogJ2ZvbycsIHk6ICdiYXInfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHBhcnNlIHRoaXMgR29vZ2xlIHVybCcsICgpID0+IHtcbiAgICAgIHZhciB1cmwgPSAoJ2h0dHA6Ly93d3cuZ29vZ2xlLmNvbS91cmw/c2E9dCZzb3VyY2U9d2ViJmNkPTEmc3FpPTImJyArXG4gICAgICAgICAgICAgICAgICd2ZWQ9MENERVFGakFBJnVybD1odHRwJTNBJTJGJTJGc3VwcG9ydC5tb3ppbGxhLmNvbSUyRiYnICtcbiAgICAgICAgICAgICAgICAgJ3JjdD1qJnE9ZmlyZWZveCUyMGhlbHAmZWk9T3NCU1RwYlpCSUd0Z1FmZ3p2M3lCZyYnICtcbiAgICAgICAgICAgICAgICAgJ3VzZz1BRlFqQ05GSVY3d2dkOVBucjBtM09mYzdyMXpWVE5LOGR3Jyk7XG4gICAgICBsZXQgcGFyYW1zID0gay5nZXRRdWVyeVBhcmFtc0FzRGljdCh1cmwpO1xuICAgICAgZXhwZWN0KHBhcmFtcykudG8uZGVlcC5lcXVhbCh7XG4gICAgICAgIHNhOiAndCcsXG4gICAgICAgIHNvdXJjZTogJ3dlYicsXG4gICAgICAgIGNkOiAnMScsXG4gICAgICAgIHNxaTogJzInLFxuICAgICAgICB2ZWQ6ICcwQ0RFUUZqQUEnLFxuICAgICAgICB1cmw6ICdodHRwOi8vc3VwcG9ydC5tb3ppbGxhLmNvbS8nLFxuICAgICAgICByY3Q6ICdqJyxcbiAgICAgICAgcTogJ2ZpcmVmb3ggaGVscCcsXG4gICAgICAgIGVpOiAnT3NCU1RwYlpCSUd0Z1FmZ3p2M3lCZycsXG4gICAgICAgIHVzZzogJ0FGUWpDTkZJVjd3Z2Q5UG5yMG0zT2ZjN3IxelZUTks4ZHcnLFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdxdWVyeVBhcmFtU3RyaW5nRnJvbURpY3QnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBzZXJpYWxpemUgYW4gZW1wdHkgZGljdCBpbnRvIGEgPycsICgpID0+IHtcbiAgICAgIGxldCBhY3R1YWwgPSBrLnF1ZXJ5UGFyYW1TdHJpbmdGcm9tRGljdCh7fSk7XG4gICAgICBleHBlY3QoYWN0dWFsKS50by5lcXVhbCgnPycpO1xuICAgIH0pO1xuXG4gICAgaXQoJ2l0IHNob3VsZCBzZXJpYWxpemUgYW4gb2JqZWN0IHdpdGggYSBzaW5nbGUga2V5JywgKCkgPT4ge1xuICAgICAgbGV0IGFjdHVhbCA9IGsucXVlcnlQYXJhbVN0cmluZ0Zyb21EaWN0KHtmb286IDF9KTtcbiAgICAgIGV4cGVjdChhY3R1YWwpLnRvLmVxdWFsKCc/Zm9vPTEnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgc2VyaWFsaXplIGFuIG9iamVjdCB3aXRoIHR3byBrZXlzJywgKCkgPT4ge1xuICAgICAgbGV0IGFjdHVhbCA9IGsucXVlcnlQYXJhbVN0cmluZ0Zyb21EaWN0KHtmb286IDEsIGJhcjogMn0pO1xuICAgICAgZXhwZWN0KGFjdHVhbCkudG8uZXF1YWwoJz9mb289MSZiYXI9MicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBub3QgaW5jbHVkZSBudWxsIG9yIHVuZGVmaW5lZCBpbiB0aGUgb3V0cHV0JywgKCkgPT4ge1xuICAgICAgbGV0IGFjdHVhbCA9IGsucXVlcnlQYXJhbVN0cmluZ0Zyb21EaWN0KHtmb286IHVuZGVmaW5lZCwgYmFyOiAyLCBiYXo6IG51bGx9KTtcbiAgICAgIGV4cGVjdChhY3R1YWwpLnRvLmVxdWFsKCc/YmFyPTInKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgc2VyaWFsaXplIGFuIG9iamVjdCB3aXRoIHRocmVlIGtleXMnLCAoKSA9PiB7XG4gICAgICBsZXQgYWN0dWFsID0gay5xdWVyeVBhcmFtU3RyaW5nRnJvbURpY3Qoe2ZvbzogMSwgYmFyOiAyLCBiYXo6IDN9KTtcbiAgICAgIGV4cGVjdChhY3R1YWwpLnRvLmRlZXAuZXF1YWwoJz9mb289MSZiYXI9MiZiYXo9MycpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnZ2V0UmVmZXJyZXInLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZWNvZ25pemUgc2VhcmNoIHJlZmVycmVycycsICgpID0+IHtcbiAgICAgIGxldCBwYXJhbXMgPSB7YXM6ICdzJywgczogJ2Nvb2tpZXMnfTtcbiAgICAgIGxldCBhY3R1YWwgPSBrLmdldFJlZmVycmVyKHBhcmFtcyk7XG4gICAgICBleHBlY3QoYWN0dWFsKS50by5lcXVhbCgnc2VhcmNoJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlY29nbml6ZSBpbnByb2R1Y3QgcmVmZXJyZXJzJywgKCkgPT4ge1xuICAgICAgbGV0IHBhcmFtcyA9IHthczogJ3UnfTtcbiAgICAgIGxldCBhY3R1YWwgPSBrLmdldFJlZmVycmVyKHBhcmFtcyk7XG4gICAgICBleHBlY3QoYWN0dWFsKS50by5lcXVhbCgnaW5wcm9kdWN0Jyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGZhbGwgYmFjayB0byBgZG9jdW1lbnQucmVmZXJyZXJgJywgKCkgPT4ge1xuICAgICAgbGV0IHJlZmVycmVyID0gJ2h0dHA6Ly9nb29nbGUuY29tLz9xPWNvb2tpZXMnO1xuICAgICAgZXhwZWN0KGRvY3VtZW50LnJlZmVycmVyKS50by5lcXVhbChyZWZlcnJlcik7XG4gICAgICBleHBlY3Qoay5nZXRSZWZlcnJlcih7fSkpLnRvLmVxdWFsKHJlZmVycmVyKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2dldFNlYXJjaFF1ZXJ5JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIHRoZSBzIHF1ZXJ5IHN0cmluZyBmb3IgbG9jYWwgc2VhcmNoIHJlZmVycmVycycsICgpID0+IHtcbiAgICAgIGxldCBwYXJhbXMgPSB7YXM6ICdzJywgczogJ2Nvb2tpZXMnfTtcbiAgICAgIGxldCByZWZlcnJlciA9ICdzZWFyY2gnO1xuICAgICAgZXhwZWN0KGsuZ2V0U2VhcmNoUXVlcnkocGFyYW1zLCByZWZlcnJlcikpLnRvLmVxdWFsKCdjb29raWVzJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBhbiBlbXB0eSBzdHJpbmcgZnJvIGlucHJvZHVjdCByZWZlcnJlcnMnLCAoKSA9PiB7XG4gICAgICBsZXQgcGFyYW1zID0ge2FzOiAndScsIHM6ICd3cm9uZyd9O1xuICAgICAgbGV0IHJlZmVycmVyID0gJ2lucHJvZHVjdCc7XG4gICAgICBleHBlY3Qoay5nZXRTZWFyY2hRdWVyeShwYXJhbXMsIHJlZmVycmVyKSkudG8uZXF1YWwoJycpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBkZXRlY3QgZXh0ZXJuYWwgc2VhcmNoIHBhcmFtZXRlcnMgZnJvbSBnb29nbGUnLCAoKSA9PiB7XG4gICAgICBsZXQgcmVmZXJyZXIgPSAnaHR0cDovL2dvb2dsZS5jb20vP3E9Y29va2llcyc7XG4gICAgICBleHBlY3Qoay5nZXRTZWFyY2hRdWVyeSh7fSwgcmVmZXJyZXIpKS50by5lcXVhbCgnY29va2llcycpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgndW5xdW90ZScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJldHVybiB1bmRlZmluZWQgZm9yIHVuZGVmaW5lZCBpbnB1dCcsICgpID0+IHtcbiAgICAgIGV4cGVjdChrLnVucXVvdGUodW5kZWZpbmVkKSkudG8uYmVVbmRlZmluZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdW5xdW90ZSBzaW1wbHkgcXVvdGVkIHN0cmluZ3MnLCAoKSA9PiB7XG4gICAgICBleHBlY3Qoay51bnF1b3RlKCdcImRlbGV0ZSBjb29raWVzXCInKSkudG8uZXF1YWwoJ2RlbGV0ZSBjb29raWVzJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBlc2NhcGVkIHF1b3RlcycsICgpID0+IHtcbiAgICAgIGV4cGVjdChrLnVucXVvdGUoJ1wiXFxcXFwiZGVsZXRlXFxcXFwiIGNvb2tpZXNcIicpKS50by5lcXVhbCgnXCJkZWxldGVcIiBjb29raWVzJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBlc2NhcGVkIHF1b3RlcyB3aXRoIG5vIG90aGVyIHF1b3RlcycsICgpID0+IHtcbiAgICAgIGV4cGVjdChrLnVucXVvdGUoJ1xcXFxcImRlbGV0ZVxcXFxcIiBjb29raWVzJykpLnRvLmVxdWFsKCdcImRlbGV0ZVwiIGNvb2tpZXMnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcGFzcyBzdHJpbmdzIHdpdGhvdXQgcXVvdGVzIHRocm91Z2ggdW5tb2RpZmllZCcsICgpID0+IHtcbiAgICAgIGxldCBzID0gJ2Nvb2tpZXMnO1xuICAgICAgZXhwZWN0KGsudW5xdW90ZShzKSkudG8uZXF1YWwocyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdzYWZlU3RyaW5nJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZXNjYXBlIGh0bWwnLCBmdW5jdGlvbigpIHtcbiAgICAgIGxldCB1bnNhZmVTdHJpbmcgPSAnPGEgaHJlZj1cImZvbyZcXCdcIj4nO1xuICAgICAgbGV0IHNhZmVTdHJpbmcgPSAnJmx0O2EgaHJlZj0mcXVvdDtmb28mYW1wOyYjMzk7JnF1b3Q7Jmd0Oyc7XG4gICAgICBleHBlY3Qoay5zYWZlU3RyaW5nKHVuc2FmZVN0cmluZykpLnRvLmVxdWFsKHNhZmVTdHJpbmcpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnc2FmZUludGVycG9sYXRlJywgKCkgPT4ge1xuICAgIC8qIGsuc2FmZUludGVycG9sYXRlIHdvcmtzIGJ5IGRlbGVnYXRpbmcgdG8gYGludGVycG9sYXRlYCwgYSBEamFuZ29cbiAgICAgKiBnZXR0ZXh0IGZ1bmN0aW9uLiBUaGVzZSB0ZXN0cyBtb2NrIG91dCBpbnRlcnBvbGF0ZSBhbmQgbWFrZSBzdXJlXG4gICAgICogaXQgd2FzIGNhbGxlZCBhcHByb3ByaWF0ZWx5LlxuICAgICAqL1xuICAgIGxldCBpbnRlcnBvbGF0ZVNweTtcblxuICAgIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgICAgaW50ZXJwb2xhdGVTcHkgPSBnbG9iYWwuaW50ZXJwb2xhdGUgPSBzaW5vbi5zcHkoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaW50ZXJwb2xhdGUgcG9zaXRpb25hbCB1c2VyIGlucHV0JywgZnVuY3Rpb24oKSB7XG4gICAgICBsZXQgaHRtbCA9ICc8ZGl2PiVzPC9kaXY+ICVzJztcbiAgICAgIGxldCB1bnNhZmUgPSBbJzxhPicsICc8c2NyaXB0PiddO1xuICAgICAgbGV0IHNhZmUgPSBbJyZsdDthJmd0OycsICcmbHQ7c2NyaXB0Jmd0OyddO1xuXG4gICAgICBrLnNhZmVJbnRlcnBvbGF0ZShodG1sLCB1bnNhZmUsIGZhbHNlKTtcblxuICAgICAgZXhwZWN0KGludGVycG9sYXRlU3B5KS50by5oYXZlLmNhbGxDb3VudCgxKTtcbiAgICAgIGV4cGVjdChpbnRlcnBvbGF0ZVNweSkudG8uaGF2ZS5iZWVuLmNhbGxlZFdpdGhFeGFjdGx5KGh0bWwsIHNhZmUsIGZhbHNlKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaW50ZXJwb2xhdGUgbmFtZWQgdXNlciBpbnB1dCcsIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGh0bWwgPSAnPGRpdj4lKGRpc3BsYXkpcyA8c3Bhbj4oJShuYW1lKXMpPC9zcGFuPjwvZGl2Pic7XG4gICAgICBsZXQgdW5zYWZlID0ge1xuICAgICAgICBkaXNwbGF5OiBcIjxzY3JpcHQ+YWxlcnQoJ3hzcycpOzwvc2NyaXB0PlwiLFxuICAgICAgICBuYW1lOiAnSm8mbWRhc2g7aG4nLFxuICAgICAgfTtcbiAgICAgIGxldCBzYWZlID0ge1xuICAgICAgICBkaXNwbGF5OiAnJmx0O3NjcmlwdCZndDthbGVydCgmIzM5O3hzcyYjMzk7KTsmbHQ7L3NjcmlwdCZndDsnLFxuICAgICAgICBuYW1lOiAnSm8mYW1wO21kYXNoO2huJyxcbiAgICAgIH07XG4gICAgICBrLnNhZmVJbnRlcnBvbGF0ZShodG1sLCB1bnNhZmUsIHRydWUpO1xuXG4gICAgICBleHBlY3QoaW50ZXJwb2xhdGVTcHkpLnRvLmhhdmUuY2FsbENvdW50KDEpO1xuICAgICAgZXhwZWN0KGludGVycG9sYXRlU3B5KS50by5oYXZlLmJlZW4uY2FsbGVkV2l0aEV4YWN0bHkoaHRtbCwgc2FmZSwgdHJ1ZSk7XG4gICAgfSk7XG4gIH0pO1xufSk7XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/app/kitsune/sumo/static/sumo/js/tests/commonutilstests.js"
      ],
      "names": [],
      "mappings": ";;;;0BAA+C,aAAa;;;;oBACtB,MAAM;;;;wBACvB,WAAW;;;;qBACd,OAAO;;;;yBACH,YAAY;;;;gCAEf,sBAAsB;;;;qCACjB,2BAA2B;;;;yCACvB,+BAA+B;;;;AAE3D,kBAAK,GAAG,uBAAU,CAAC;AACnB,kBAAK,GAAG,wBAAW,CAAC;;AAEpB,QAAQ,CAAC,GAAG,EAAE,YAAM;AAClB,+BAAW;AACT,WAAO,EAAE,IAAI;AACb,YAAQ,EAAE;AACR,cAAQ,EAAE,8BAA8B;AACxC,aAAO,EAAE,8BAA8B;KACxC;GACF,CAAC,CAAC;AACH,2CAAa,CAAC;AACd,sCAAQ,CAAC;AACT,+CAAiB,CAAC;;;AAGlB,YAAU,CAAC,YAAM;AACf,+BAAU,+BAA+B,CAAC,CAAC;AAC3C,+BAAU,YAAY,CAAC,CAAC;GACzB,CAAC,CAAC;;AAEH,UAAQ,CAAC,sBAAsB,EAAE,YAAM;AACrC,MAAE,CAAC,6CAA6C,EAAE,YAAM;AACtD,UAAI,GAAG,GAAG,oBAAoB,CAAC;AAC/B,UAAI,MAAM,GAAG,CAAC,CAAC,oBAAoB,CAAC,GAAG,CAAC,CAAC;AACzC,wBAAO,MAAM,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;KAClC,CAAC,CAAC;;AAEH,MAAE,CAAC,gDAAgD,EAAE,YAAM;AACzD,UAAI,GAAG,GAAG,+BAA+B,CAAC;AAC1C,UAAI,MAAM,GAAG,CAAC,CAAC,oBAAoB,CAAC,GAAG,CAAC,CAAC;AACzC,wBAAO,MAAM,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,EAAC,IAAI,EAAE,MAAM,EAAC,CAAC,CAAC;KAC9C,CAAC,CAAC;;AAEH,MAAE,CAAC,iDAAiD,EAAE,YAAM;AAC1D,UAAI,GAAG,GAAG,iCAAiC,CAAC;AAC5C,UAAI,MAAM,GAAG,CAAC,CAAC,oBAAoB,CAAC,GAAG,CAAC,CAAC;AACzC,wBAAO,MAAM,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,EAAC,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,KAAK,EAAC,CAAC,CAAC;KACpD,CAAC,CAAC;;AAEH,MAAE,CAAC,8BAA8B,EAAE,YAAM;AACvC,UAAI,GAAG,GAAI,uDAAuD,GACvD,wDAAwD,GACxD,mDAAmD,GACnD,wCAAwC,AAAC,CAAC;AACrD,UAAI,MAAM,GAAG,CAAC,CAAC,oBAAoB,CAAC,GAAG,CAAC,CAAC;AACzC,wBAAO,MAAM,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC;AAC3B,UAAE,EAAE,GAAG;AACP,cAAM,EAAE,KAAK;AACb,UAAE,EAAE,GAAG;AACP,WAAG,EAAE,GAAG;AACR,WAAG,EAAE,WAAW;AAChB,WAAG,EAAE,6BAA6B;AAClC,WAAG,EAAE,GAAG;AACR,SAAC,EAAE,cAAc;AACjB,UAAE,EAAE,wBAAwB;AAC5B,WAAG,EAAE,oCAAoC;OAC1C,CAAC,CAAC;KACJ,CAAC,CAAC;GACJ,CAAC,CAAC;;AAEH,UAAQ,CAAC,0BAA0B,EAAE,YAAM;AACzC,MAAE,CAAC,yCAAyC,EAAE,YAAM;AAClD,UAAI,MAAM,GAAG,CAAC,CAAC,wBAAwB,CAAC,EAAE,CAAC,CAAC;AAC5C,wBAAO,MAAM,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;KAC9B,CAAC,CAAC;;AAEH,MAAE,CAAC,iDAAiD,EAAE,YAAM;AAC1D,UAAI,MAAM,GAAG,CAAC,CAAC,wBAAwB,CAAC,EAAC,GAAG,EAAE,CAAC,EAAC,CAAC,CAAC;AAClD,wBAAO,MAAM,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;KACnC,CAAC,CAAC;;AAEH,MAAE,CAAC,0CAA0C,EAAE,YAAM;AACnD,UAAI,MAAM,GAAG,CAAC,CAAC,wBAAwB,CAAC,EAAC,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAC,CAAC,CAAC;AAC1D,wBAAO,MAAM,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC;KACzC,CAAC,CAAC;;AAEH,MAAE,CAAC,oDAAoD,EAAE,YAAM;AAC7D,UAAI,MAAM,GAAG,CAAC,CAAC,wBAAwB,CAAC,EAAC,GAAG,EAAE,SAAS,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,IAAI,EAAC,CAAC,CAAC;AAC7E,wBAAO,MAAM,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;KACnC,CAAC,CAAC;;AAEH,MAAE,CAAC,4CAA4C,EAAE,YAAM;AACrD,UAAI,MAAM,GAAG,CAAC,CAAC,wBAAwB,CAAC,EAAC,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAC,CAAC,CAAC;AAClE,wBAAO,MAAM,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,oBAAoB,CAAC,CAAC;KACpD,CAAC,CAAC;GACJ,CAAC,CAAC;;AAEH,UAAQ,CAAC,aAAa,EAAE,YAAM;AAC5B,MAAE,CAAC,mCAAmC,EAAE,YAAM;AAC5C,UAAI,MAAM,GAAG,EAAC,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE,SAAS,EAAC,CAAC;AACrC,UAAI,MAAM,GAAG,CAAC,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;AACnC,wBAAO,MAAM,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;KACnC,CAAC,CAAC;;AAEH,MAAE,CAAC,sCAAsC,EAAE,YAAM;AAC/C,UAAI,MAAM,GAAG,EAAC,EAAE,EAAE,GAAG,EAAC,CAAC;AACvB,UAAI,MAAM,GAAG,CAAC,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;AACnC,wBAAO,MAAM,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;KACtC,CAAC,CAAC;;AAEH,MAAE,CAAC,yCAAyC,EAAE,YAAM;AAClD,UAAI,QAAQ,GAAG,8BAA8B,CAAC;AAC9C,wBAAO,QAAQ,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;AAC7C,wBAAO,CAAC,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;KAC9C,CAAC,CAAC;GACJ,CAAC,CAAC;;AAEH,UAAQ,CAAC,gBAAgB,EAAE,YAAM;AAC/B,MAAE,CAAC,6DAA6D,EAAE,YAAM;AACtE,UAAI,MAAM,GAAG,EAAC,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE,SAAS,EAAC,CAAC;AACrC,UAAI,QAAQ,GAAG,QAAQ,CAAC;AACxB,wBAAO,CAAC,CAAC,cAAc,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;KAChE,CAAC,CAAC;;AAEH,MAAE,CAAC,uDAAuD,EAAE,YAAM;AAChE,UAAI,MAAM,GAAG,EAAC,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE,OAAO,EAAC,CAAC;AACnC,UAAI,QAAQ,GAAG,WAAW,CAAC;AAC3B,wBAAO,CAAC,CAAC,cAAc,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;KACzD,CAAC,CAAC;;AAEH,MAAE,CAAC,sDAAsD,EAAE,YAAM;AAC/D,UAAI,QAAQ,GAAG,8BAA8B,CAAC;AAC9C,wBAAO,CAAC,CAAC,cAAc,CAAC,EAAE,EAAE,QAAQ,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;KAC5D,CAAC,CAAC;GACJ,CAAC,CAAC;;AAEH,UAAQ,CAAC,SAAS,EAAE,YAAM;AACxB,MAAE,CAAC,6CAA6C,EAAE,YAAM;AACtD,wBAAO,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,WAAW,EAAE,CAAC;KAC/C,CAAC,CAAC;;AAEH,MAAE,CAAC,sCAAsC,EAAE,YAAM;AAC/C,wBAAO,CAAC,CAAC,OAAO,CAAC,kBAAkB,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,gBAAgB,CAAC,CAAC;KAClE,CAAC,CAAC;;AAEH,MAAE,CAAC,8BAA8B,EAAE,YAAM;AACvC,wBAAO,CAAC,CAAC,OAAO,CAAC,wBAAwB,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,kBAAkB,CAAC,CAAC;KAC1E,CAAC,CAAC;;AAEH,MAAE,CAAC,mDAAmD,EAAE,YAAM;AAC5D,wBAAO,CAAC,CAAC,OAAO,CAAC,sBAAsB,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,kBAAkB,CAAC,CAAC;KACxE,CAAC,CAAC;;AAEH,MAAE,CAAC,uDAAuD,EAAE,YAAM;AAChE,UAAI,CAAC,GAAG,SAAS,CAAC;AAClB,wBAAO,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;KAClC,CAAC,CAAC;GACJ,CAAC,CAAC;;AAEH,UAAQ,CAAC,YAAY,EAAE,YAAM;AAC3B,MAAE,CAAC,oBAAoB,EAAE,YAAW;AAClC,UAAI,YAAY,GAAG,mBAAmB,CAAC;AACvC,UAAI,UAAU,GAAG,0CAA0C,CAAC;AAC5D,wBAAO,CAAC,CAAC,UAAU,CAAC,YAAY,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;KACzD,CAAC,CAAC;GACJ,CAAC,CAAC;;AAEH,UAAQ,CAAC,iBAAiB,EAAE,YAAM;;;;;AAKhC,QAAI,cAAc,YAAA,CAAC;;AAEnB,cAAU,CAAC,YAAM;AACf,oBAAc,GAAG,MAAM,CAAC,WAAW,GAAG,mBAAM,GAAG,EAAE,CAAC;KACnD,CAAC,CAAC;;AAEH,MAAE,CAAC,0CAA0C,EAAE,YAAW;AACxD,UAAI,IAAI,GAAG,kBAAkB,CAAC;AAC9B,UAAI,MAAM,GAAG,CAAC,KAAK,EAAE,UAAU,CAAC,CAAC;AACjC,UAAI,IAAI,GAAG,CAAC,WAAW,EAAE,gBAAgB,CAAC,CAAC;;AAE3C,OAAC,CAAC,eAAe,CAAC,IAAI,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;;AAEvC,wBAAO,cAAc,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;AAC5C,wBAAO,cAAc,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;KAC1E,CAAC,CAAC;;AAEH,MAAE,CAAC,qCAAqC,EAAE,YAAW;AACnD,UAAI,IAAI,GAAG,gDAAgD,CAAC;AAC5D,UAAI,MAAM,GAAG;AACX,eAAO,EAAE,gCAAgC;AACzC,YAAI,EAAE,aAAa;OACpB,CAAC;AACF,UAAI,IAAI,GAAG;AACT,eAAO,EAAE,oDAAoD;AAC7D,YAAI,EAAE,iBAAiB;OACxB,CAAC;AACF,OAAC,CAAC,eAAe,CAAC,IAAI,EAAE,MAAM,EAAE,IAAI,CAAC,CAAC;;AAEtC,wBAAO,cAAc,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;AAC5C,wBAAO,cAAc,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;KACzE,CAAC,CAAC;GACJ,CAAC,CAAC;CACJ,CAAC,CAAC",
      "file": "/app/kitsune/sumo/static/sumo/js/tests/commonutilstests.js",
      "sourcesContent": [
        "import {default as mochaJsdom, rerequire} from 'mocha-jsdom';\nimport {default as chai, expect} from 'chai';\nimport chaiLint from 'chai-lint';\nimport sinon from 'sinon';\nimport sinonChai from 'sinon-chai';\n\nimport mochaK from './fixtures/mochaK.js';\nimport mochaJquery from './fixtures/mochaJquery.js';\nimport mochaUnderscore from './fixtures/mochaUnderscore.js';\n\nchai.use(chaiLint);\nchai.use(sinonChai);\n\ndescribe('k', () => {\n  mochaJsdom({\n    useEach: true,\n    document: {\n      referrer: 'http://google.com/?q=cookies',\n      referer: 'http://google.com/?q=cookies',\n    },\n  });\n  mochaJquery();\n  mochaK();\n  mochaUnderscore();\n  /* globals document:false, $:false, k:false */\n\n  beforeEach(() => {\n    rerequire('../libs/jquery.placeholder.js');\n    rerequire('../main.js');\n  });\n\n  describe('getQueryParamsAsDict', () => {\n    it('should return an empty object for no params', () => {\n      let url = 'http://example.com';\n      let params = k.getQueryParamsAsDict(url);\n      expect(params).to.deep.equal({});\n    });\n\n    it('should parse a query string with one parameter', () => {\n      let url = 'http://example.com/?test=woot';\n      let params = k.getQueryParamsAsDict(url);\n      expect(params).to.deep.equal({test: 'woot'});\n    });\n\n    it('should parse a query string with two paramaters', () => {\n      let url = 'http://example.com/?x=foo&y=bar';\n      let params = k.getQueryParamsAsDict(url);\n      expect(params).to.deep.equal({x: 'foo', y: 'bar'});\n    });\n\n    it('should parse this Google url', () => {\n      var url = ('http://www.google.com/url?sa=t&source=web&cd=1&sqi=2&' +\n                 'ved=0CDEQFjAA&url=http%3A%2F%2Fsupport.mozilla.com%2F&' +\n                 'rct=j&q=firefox%20help&ei=OsBSTpbZBIGtgQfgzv3yBg&' +\n                 'usg=AFQjCNFIV7wgd9Pnr0m3Ofc7r1zVTNK8dw');\n      let params = k.getQueryParamsAsDict(url);\n      expect(params).to.deep.equal({\n        sa: 't',\n        source: 'web',\n        cd: '1',\n        sqi: '2',\n        ved: '0CDEQFjAA',\n        url: 'http://support.mozilla.com/',\n        rct: 'j',\n        q: 'firefox help',\n        ei: 'OsBSTpbZBIGtgQfgzv3yBg',\n        usg: 'AFQjCNFIV7wgd9Pnr0m3Ofc7r1zVTNK8dw',\n      });\n    });\n  });\n\n  describe('queryParamStringFromDict', () => {\n    it('should serialize an empty dict into a ?', () => {\n      let actual = k.queryParamStringFromDict({});\n      expect(actual).to.equal('?');\n    });\n\n    it('it should serialize an object with a single key', () => {\n      let actual = k.queryParamStringFromDict({foo: 1});\n      expect(actual).to.equal('?foo=1');\n    });\n\n    it('should serialize an object with two keys', () => {\n      let actual = k.queryParamStringFromDict({foo: 1, bar: 2});\n      expect(actual).to.equal('?foo=1&bar=2');\n    });\n\n    it('should not include null or undefined in the output', () => {\n      let actual = k.queryParamStringFromDict({foo: undefined, bar: 2, baz: null});\n      expect(actual).to.equal('?bar=2');\n    });\n\n    it('should serialize an object with three keys', () => {\n      let actual = k.queryParamStringFromDict({foo: 1, bar: 2, baz: 3});\n      expect(actual).to.deep.equal('?foo=1&bar=2&baz=3');\n    });\n  });\n\n  describe('getReferrer', () => {\n    it('should recognize search referrers', () => {\n      let params = {as: 's', s: 'cookies'};\n      let actual = k.getReferrer(params);\n      expect(actual).to.equal('search');\n    });\n\n    it('should recognize inproduct referrers', () => {\n      let params = {as: 'u'};\n      let actual = k.getReferrer(params);\n      expect(actual).to.equal('inproduct');\n    });\n\n    it('should fall back to `document.referrer`', () => {\n      let referrer = 'http://google.com/?q=cookies';\n      expect(document.referrer).to.equal(referrer);\n      expect(k.getReferrer({})).to.equal(referrer);\n    });\n  });\n\n  describe('getSearchQuery', () => {\n    it('should return the s query string for local search referrers', () => {\n      let params = {as: 's', s: 'cookies'};\n      let referrer = 'search';\n      expect(k.getSearchQuery(params, referrer)).to.equal('cookies');\n    });\n\n    it('should return an empty string fro inproduct referrers', () => {\n      let params = {as: 'u', s: 'wrong'};\n      let referrer = 'inproduct';\n      expect(k.getSearchQuery(params, referrer)).to.equal('');\n    });\n\n    it('should detect external search parameters from google', () => {\n      let referrer = 'http://google.com/?q=cookies';\n      expect(k.getSearchQuery({}, referrer)).to.equal('cookies');\n    });\n  });\n\n  describe('unquote', () => {\n    it('should return undefined for undefined input', () => {\n      expect(k.unquote(undefined)).to.beUndefined();\n    });\n\n    it('should unquote simply quoted strings', () => {\n      expect(k.unquote('\"delete cookies\"')).to.equal('delete cookies');\n    });\n\n    it('should handle escaped quotes', () => {\n      expect(k.unquote('\"\\\\\"delete\\\\\" cookies\"')).to.equal('\"delete\" cookies');\n    });\n\n    it('should handle escaped quotes with no other quotes', () => {\n      expect(k.unquote('\\\\\"delete\\\\\" cookies')).to.equal('\"delete\" cookies');\n    });\n\n    it('should pass strings without quotes through unmodified', () => {\n      let s = 'cookies';\n      expect(k.unquote(s)).to.equal(s);\n    });\n  });\n\n  describe('safeString', () => {\n    it('should escape html', function() {\n      let unsafeString = '<a href=\"foo&\\'\">';\n      let safeString = '&lt;a href=&quot;foo&amp;&#39;&quot;&gt;';\n      expect(k.safeString(unsafeString)).to.equal(safeString);\n    });\n  });\n\n  describe('safeInterpolate', () => {\n    /* k.safeInterpolate works by delegating to `interpolate`, a Django\n     * gettext function. These tests mock out interpolate and make sure\n     * it was called appropriately.\n     */\n    let interpolateSpy;\n\n    beforeEach(() => {\n      interpolateSpy = global.interpolate = sinon.spy();\n    });\n\n    it('should interpolate positional user input', function() {\n      let html = '<div>%s</div> %s';\n      let unsafe = ['<a>', '<script>'];\n      let safe = ['&lt;a&gt;', '&lt;script&gt;'];\n\n      k.safeInterpolate(html, unsafe, false);\n\n      expect(interpolateSpy).to.have.callCount(1);\n      expect(interpolateSpy).to.have.been.calledWithExactly(html, safe, false);\n    });\n\n    it('should interpolate named user input', function() {\n      var html = '<div>%(display)s <span>(%(name)s)</span></div>';\n      let unsafe = {\n        display: \"<script>alert('xss');</script>\",\n        name: 'Jo&mdash;hn',\n      };\n      let safe = {\n        display: '&lt;script&gt;alert(&#39;xss&#39;);&lt;/script&gt;',\n        name: 'Jo&amp;mdash;hn',\n      };\n      k.safeInterpolate(html, unsafe, true);\n\n      expect(interpolateSpy).to.have.callCount(1);\n      expect(interpolateSpy).to.have.been.calledWithExactly(html, safe, true);\n    });\n  });\n});\n"
      ]
    },
    "mtime": 1561057444000
  },
  "{\"filename\":\"/app/kitsune/sumo/static/sumo/js/tests/crashidtests.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":2,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "mocha-jsdom",
            "imported": [
              "default",
              "rerequire"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mochaJsdom"
              },
              {
                "kind": "named",
                "imported": "rerequire",
                "local": "rerequire"
              }
            ]
          },
          {
            "source": "chai",
            "imported": [
              "expect"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "expect",
                "local": "expect"
              }
            ]
          },
          {
            "source": "react",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "React"
              }
            ]
          },
          {
            "source": "./fixtures/mochaK.js",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mochaK"
              }
            ]
          },
          {
            "source": "./fixtures/mochaJquery.js",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mochaJquery"
              }
            ]
          },
          {
            "source": "./fixtures/mochaGettext.js",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mochaGettext"
              }
            ]
          },
          {
            "source": "./fixtures/mochaMarky.js",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mochaMarky"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _mochaJsdom = require('mocha-jsdom');\n\nvar _mochaJsdom2 = _interopRequireDefault(_mochaJsdom);\n\nvar _chai = require('chai');\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _fixturesMochaKJs = require('./fixtures/mochaK.js');\n\nvar _fixturesMochaKJs2 = _interopRequireDefault(_fixturesMochaKJs);\n\nvar _fixturesMochaJqueryJs = require('./fixtures/mochaJquery.js');\n\nvar _fixturesMochaJqueryJs2 = _interopRequireDefault(_fixturesMochaJqueryJs);\n\nvar _fixturesMochaGettextJs = require('./fixtures/mochaGettext.js');\n\nvar _fixturesMochaGettextJs2 = _interopRequireDefault(_fixturesMochaGettextJs);\n\nvar _fixturesMochaMarkyJs = require('./fixtures/mochaMarky.js');\n\nvar _fixturesMochaMarkyJs2 = _interopRequireDefault(_fixturesMochaMarkyJs);\n\ndescribe('k', function () {\n  (0, _mochaJsdom2['default'])({ useEach: true });\n  (0, _fixturesMochaJqueryJs2['default'])();\n  (0, _fixturesMochaKJs2['default'])();\n  (0, _fixturesMochaGettextJs2['default'])();\n  (0, _fixturesMochaMarkyJs2['default'])();\n  /* globals window, document, $, k */\n\n  describe('linkCrashIds', function () {\n\n    beforeEach(function () {\n      (0, _mochaJsdom.rerequire)('../questions.js');\n    });\n\n    afterEach(function () {\n      _react2['default'].unmountComponentAtNode(document.body);\n    });\n\n    it('should link one crash ID', function () {\n      var sandbox = _react2['default'].createElement(\n        'section',\n        null,\n        _react2['default'].createElement(\n          'h1',\n          null,\n          'Firefox keeps crashing'\n        ),\n        _react2['default'].createElement(\n          'p',\n          null,\n          'Firefox keeps crashing'\n        ),\n        _react2['default'].createElement(\n          'p',\n          null,\n          'This is my crash ID:',\n          _react2['default'].createElement('br', null),\n          'bp-6ec83338-f37e-4ee1-aef4-0e66c2120808'\n        ),\n        _react2['default'].createElement('div', { className: 'stem' })\n      );\n      _react2['default'].render(sandbox, document.body);\n\n      k.linkCrashIds($('body'));\n      (0, _chai.expect)($('.crash-report').length).to.equal(1);\n    });\n\n    it('should link multiple crash IDs', function () {\n      var sandbox = _react2['default'].createElement(\n        'section',\n        null,\n        _react2['default'].createElement(\n          'h1',\n          null,\n          'Firefox keeps crashing'\n        ),\n        _react2['default'].createElement(\n          'p',\n          null,\n          'Firefox keeps crashing'\n        ),\n        _react2['default'].createElement(\n          'p',\n          null,\n          'Here\\'s a list of my crash IDs (copied directly from about:crashes):',\n          _react2['default'].createElement('br', null),\n          'bp-6ec83338-f37e-4ee1-aef4-0e66c212080808.08.1217:52 bp-d8951614-c928-44ed-902c-6ccb6212080808.08.1217:52 bp-5eb7d4ec-5f9e-4cbf-9335-a574c212071717.07.1211:29 bp-15a73687-dabf-4014-9c03-b97b3212071717.07.1211:27 bp-f894adf7-9ff8-4f21-8564-da425212071111.07.1218:22'\n        ),\n        _react2['default'].createElement('div', { className: 'stem' })\n      );\n      _react2['default'].render(sandbox, document.body);\n\n      k.linkCrashIds($('body'));\n      (0, _chai.expect)($('.crash-report').length).to.equal(5);\n    });\n\n    it(\"shouldn't link invalid crash IDs\", function () {\n      var sandbox = _react2['default'].createElement(\n        'section',\n        null,\n        _react2['default'].createElement(\n          'p',\n          null,\n          'The following will look like an invalid crash ID that hasn\\'t been processed yet:'\n        ),\n        _react2['default'].createElement(\n          'p',\n          null,\n          '765879E6-CFE7-43A7-BE93-B2F322E67649'\n        )\n      );\n      _react2['default'].render(sandbox, document.body);\n      k.linkCrashIds($('body'));\n\n      (0, _chai.expect)($('.crash-report').length).to.equal(0);\n    });\n\n    it(\"shouldn't link crash IDs without 'bp-'\", function () {\n      var sandbox = _react2['default'].createElement(\n        'section',\n        null,\n        _react2['default'].createElement(\n          'p',\n          null,\n          'Now, crash IDs without \\'bp-\\' at the beginning shouldn\\'t get linked either'\n        ),\n        _react2['default'].createElement(\n          'p',\n          null,\n          '6ec83338-f37e-4ee1-aef4-0e66c2120808'\n        )\n      );\n      _react2['default'].render(sandbox, document.body);\n\n      k.linkCrashIds($('body'));\n      (0, _chai.expect)($('.crash-report').length).to.equal(0);\n    });\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9hcHAva2l0c3VuZS9zdW1vL3N0YXRpYy9zdW1vL2pzL3Rlc3RzL2NyYXNoaWR0ZXN0cy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OzBCQUErQyxhQUFhOzs7O29CQUN2QyxNQUFNOztxQkFDVCxPQUFPOzs7O2dDQUVOLHNCQUFzQjs7OztxQ0FDakIsMkJBQTJCOzs7O3NDQUMxQiw0QkFBNEI7Ozs7b0NBQzlCLDBCQUEwQjs7OztBQUVqRCxRQUFRLENBQUMsR0FBRyxFQUFFLFlBQU07QUFDbEIsK0JBQVcsRUFBQyxPQUFPLEVBQUUsSUFBSSxFQUFDLENBQUMsQ0FBQztBQUM1QiwyQ0FBYSxDQUFDO0FBQ2Qsc0NBQVEsQ0FBQztBQUNULDRDQUFjLENBQUM7QUFDZiwwQ0FBWSxDQUFDOzs7QUFHYixVQUFRLENBQUMsY0FBYyxFQUFFLFlBQU07O0FBRTdCLGNBQVUsQ0FBQyxZQUFNO0FBQ2YsaUNBQVUsaUJBQWlCLENBQUMsQ0FBQztLQUM5QixDQUFDLENBQUM7O0FBRUgsYUFBUyxDQUFDLFlBQU07QUFDZCx5QkFBTSxzQkFBc0IsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7S0FDN0MsQ0FBQyxDQUFDOztBQUVILE1BQUUsQ0FBQywwQkFBMEIsRUFBRSxZQUFNO0FBQ25DLFVBQUksT0FBTyxHQUNUOzs7UUFDRTs7OztTQUErQjtRQUMvQjs7OztTQUE2QjtRQUM3Qjs7OztVQUNzQiw0Q0FBSzs7U0FFdkI7UUFDSiwwQ0FBSyxTQUFTLEVBQUMsTUFBTSxHQUFPO09BQ3BCLEFBQ1gsQ0FBQztBQUNGLHlCQUFNLE1BQU0sQ0FBQyxPQUFPLEVBQUUsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDOztBQUVyQyxPQUFDLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO0FBQzFCLHdCQUFPLENBQUMsQ0FBQyxlQUFlLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO0tBQy9DLENBQUMsQ0FBQzs7QUFFSCxNQUFFLENBQUMsZ0NBQWdDLEVBQUUsWUFBVztBQUM5QyxVQUFJLE9BQU8sR0FDVDs7O1FBQ0U7Ozs7U0FBK0I7UUFDL0I7Ozs7U0FBNkI7UUFDN0I7Ozs7VUFDcUUsNENBQUs7O1NBTXRFO1FBQ0osMENBQUssU0FBUyxFQUFDLE1BQU0sR0FBTztPQUNwQixBQUNYLENBQUM7QUFDRix5QkFBTSxNQUFNLENBQUMsT0FBTyxFQUFFLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQzs7QUFFckMsT0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztBQUMxQix3QkFBTyxDQUFDLENBQUMsZUFBZSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztLQUMvQyxDQUFDLENBQUM7O0FBRUgsTUFBRSxDQUFDLGtDQUFrQyxFQUFFLFlBQVc7QUFDaEQsVUFBSSxPQUFPLEdBQ1Q7OztRQUNFOzs7O1NBQXVGO1FBQ3ZGOzs7O1NBQTJDO09BQ25DLEFBQ1gsQ0FBQztBQUNGLHlCQUFNLE1BQU0sQ0FBQyxPQUFPLEVBQUUsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ3JDLE9BQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7O0FBRTFCLHdCQUFPLENBQUMsQ0FBQyxlQUFlLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO0tBQy9DLENBQUMsQ0FBQzs7QUFFSCxNQUFFLENBQUMsd0NBQXdDLEVBQUUsWUFBVztBQUN0RCxVQUFJLE9BQU8sR0FDVDs7O1FBQ0U7Ozs7U0FBZ0Y7UUFDaEY7Ozs7U0FBMkM7T0FDbkMsQUFDWCxDQUFDO0FBQ0YseUJBQU0sTUFBTSxDQUFDLE9BQU8sRUFBRSxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7O0FBRXJDLE9BQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7QUFDMUIsd0JBQU8sQ0FBQyxDQUFDLGVBQWUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7S0FDL0MsQ0FBQyxDQUFDO0dBQ0osQ0FBQyxDQUFDO0NBQ0osQ0FBQyxDQUFDIiwiZmlsZSI6Ii9hcHAva2l0c3VuZS9zdW1vL3N0YXRpYy9zdW1vL2pzL3Rlc3RzL2NyYXNoaWR0ZXN0cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7ZGVmYXVsdCBhcyBtb2NoYUpzZG9tLCByZXJlcXVpcmV9IGZyb20gJ21vY2hhLWpzZG9tJztcbmltcG9ydCB7ZXhwZWN0fSBmcm9tICdjaGFpJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCBtb2NoYUsgZnJvbSAnLi9maXh0dXJlcy9tb2NoYUsuanMnO1xuaW1wb3J0IG1vY2hhSnF1ZXJ5IGZyb20gJy4vZml4dHVyZXMvbW9jaGFKcXVlcnkuanMnO1xuaW1wb3J0IG1vY2hhR2V0dGV4dCBmcm9tICcuL2ZpeHR1cmVzL21vY2hhR2V0dGV4dC5qcyc7XG5pbXBvcnQgbW9jaGFNYXJreSBmcm9tICcuL2ZpeHR1cmVzL21vY2hhTWFya3kuanMnO1xuXG5kZXNjcmliZSgnaycsICgpID0+IHtcbiAgbW9jaGFKc2RvbSh7dXNlRWFjaDogdHJ1ZX0pO1xuICBtb2NoYUpxdWVyeSgpO1xuICBtb2NoYUsoKTtcbiAgbW9jaGFHZXR0ZXh0KCk7XG4gIG1vY2hhTWFya3koKTtcbiAgLyogZ2xvYmFscyB3aW5kb3csIGRvY3VtZW50LCAkLCBrICovXG5cbiAgZGVzY3JpYmUoJ2xpbmtDcmFzaElkcycsICgpID0+IHtcblxuICAgIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgICAgcmVyZXF1aXJlKCcuLi9xdWVzdGlvbnMuanMnKTtcbiAgICB9KTtcblxuICAgIGFmdGVyRWFjaCgoKSA9PiB7XG4gICAgICBSZWFjdC51bm1vdW50Q29tcG9uZW50QXROb2RlKGRvY3VtZW50LmJvZHkpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBsaW5rIG9uZSBjcmFzaCBJRCcsICgpID0+IHtcbiAgICAgIGxldCBzYW5kYm94ID0gKFxuICAgICAgICA8c2VjdGlvbj5cbiAgICAgICAgICA8aDE+RmlyZWZveCBrZWVwcyBjcmFzaGluZzwvaDE+XG4gICAgICAgICAgPHA+RmlyZWZveCBrZWVwcyBjcmFzaGluZzwvcD5cbiAgICAgICAgICA8cD5cbiAgICAgICAgICAgIFRoaXMgaXMgbXkgY3Jhc2ggSUQ6PGJyLz5cbiAgICAgICAgICAgIGJwLTZlYzgzMzM4LWYzN2UtNGVlMS1hZWY0LTBlNjZjMjEyMDgwOFxuICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInN0ZW1cIj48L2Rpdj5cbiAgICAgICAgPC9zZWN0aW9uPlxuICAgICAgKTtcbiAgICAgIFJlYWN0LnJlbmRlcihzYW5kYm94LCBkb2N1bWVudC5ib2R5KTtcblxuICAgICAgay5saW5rQ3Jhc2hJZHMoJCgnYm9keScpKTtcbiAgICAgIGV4cGVjdCgkKCcuY3Jhc2gtcmVwb3J0JykubGVuZ3RoKS50by5lcXVhbCgxKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgbGluayBtdWx0aXBsZSBjcmFzaCBJRHMnLCBmdW5jdGlvbigpIHtcbiAgICAgIGxldCBzYW5kYm94ID0gKFxuICAgICAgICA8c2VjdGlvbj5cbiAgICAgICAgICA8aDE+RmlyZWZveCBrZWVwcyBjcmFzaGluZzwvaDE+XG4gICAgICAgICAgPHA+RmlyZWZveCBrZWVwcyBjcmFzaGluZzwvcD5cbiAgICAgICAgICA8cD5cbiAgICAgICAgICAgIEhlcmUncyBhIGxpc3Qgb2YgbXkgY3Jhc2ggSURzIChjb3BpZWQgZGlyZWN0bHkgZnJvbSBhYm91dDpjcmFzaGVzKTo8YnIvPlxuICAgICAgICAgICAgYnAtNmVjODMzMzgtZjM3ZS00ZWUxLWFlZjQtMGU2NmMyMTIwODA4MDguMDguMTIxNzo1MlxuICAgICAgICAgICAgYnAtZDg5NTE2MTQtYzkyOC00NGVkLTkwMmMtNmNjYjYyMTIwODA4MDguMDguMTIxNzo1MlxuICAgICAgICAgICAgYnAtNWViN2Q0ZWMtNWY5ZS00Y2JmLTkzMzUtYTU3NGMyMTIwNzE3MTcuMDcuMTIxMToyOVxuICAgICAgICAgICAgYnAtMTVhNzM2ODctZGFiZi00MDE0LTljMDMtYjk3YjMyMTIwNzE3MTcuMDcuMTIxMToyN1xuICAgICAgICAgICAgYnAtZjg5NGFkZjctOWZmOC00ZjIxLTg1NjQtZGE0MjUyMTIwNzExMTEuMDcuMTIxODoyMlxuICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInN0ZW1cIj48L2Rpdj5cbiAgICAgICAgPC9zZWN0aW9uPlxuICAgICAgKTtcbiAgICAgIFJlYWN0LnJlbmRlcihzYW5kYm94LCBkb2N1bWVudC5ib2R5KTtcblxuICAgICAgay5saW5rQ3Jhc2hJZHMoJCgnYm9keScpKTtcbiAgICAgIGV4cGVjdCgkKCcuY3Jhc2gtcmVwb3J0JykubGVuZ3RoKS50by5lcXVhbCg1KTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkbid0IGxpbmsgaW52YWxpZCBjcmFzaCBJRHNcIiwgZnVuY3Rpb24oKSB7XG4gICAgICBsZXQgc2FuZGJveCA9IChcbiAgICAgICAgPHNlY3Rpb24+XG4gICAgICAgICAgPHA+VGhlIGZvbGxvd2luZyB3aWxsIGxvb2sgbGlrZSBhbiBpbnZhbGlkIGNyYXNoIElEIHRoYXQgaGFzbid0IGJlZW4gcHJvY2Vzc2VkIHlldDo8L3A+XG4gICAgICAgICAgPHA+NzY1ODc5RTYtQ0ZFNy00M0E3LUJFOTMtQjJGMzIyRTY3NjQ5PC9wPlxuICAgICAgICA8L3NlY3Rpb24+XG4gICAgICApO1xuICAgICAgUmVhY3QucmVuZGVyKHNhbmRib3gsIGRvY3VtZW50LmJvZHkpO1xuICAgICAgay5saW5rQ3Jhc2hJZHMoJCgnYm9keScpKTtcblxuICAgICAgZXhwZWN0KCQoJy5jcmFzaC1yZXBvcnQnKS5sZW5ndGgpLnRvLmVxdWFsKDApO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGRuJ3QgbGluayBjcmFzaCBJRHMgd2l0aG91dCAnYnAtJ1wiLCBmdW5jdGlvbigpIHtcbiAgICAgIGxldCBzYW5kYm94ID0gKFxuICAgICAgICA8c2VjdGlvbj5cbiAgICAgICAgICA8cD5Ob3csIGNyYXNoIElEcyB3aXRob3V0ICdicC0nIGF0IHRoZSBiZWdpbm5pbmcgc2hvdWxkbid0IGdldCBsaW5rZWQgZWl0aGVyPC9wPlxuICAgICAgICAgIDxwPjZlYzgzMzM4LWYzN2UtNGVlMS1hZWY0LTBlNjZjMjEyMDgwODwvcD5cbiAgICAgICAgPC9zZWN0aW9uPlxuICAgICAgKTtcbiAgICAgIFJlYWN0LnJlbmRlcihzYW5kYm94LCBkb2N1bWVudC5ib2R5KTtcblxuICAgICAgay5saW5rQ3Jhc2hJZHMoJCgnYm9keScpKTtcbiAgICAgIGV4cGVjdCgkKCcuY3Jhc2gtcmVwb3J0JykubGVuZ3RoKS50by5lcXVhbCgwKTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/app/kitsune/sumo/static/sumo/js/tests/crashidtests.js"
      ],
      "names": [],
      "mappings": ";;;;0BAA+C,aAAa;;;;oBACvC,MAAM;;qBACT,OAAO;;;;gCAEN,sBAAsB;;;;qCACjB,2BAA2B;;;;sCAC1B,4BAA4B;;;;oCAC9B,0BAA0B;;;;AAEjD,QAAQ,CAAC,GAAG,EAAE,YAAM;AAClB,+BAAW,EAAC,OAAO,EAAE,IAAI,EAAC,CAAC,CAAC;AAC5B,2CAAa,CAAC;AACd,sCAAQ,CAAC;AACT,4CAAc,CAAC;AACf,0CAAY,CAAC;;;AAGb,UAAQ,CAAC,cAAc,EAAE,YAAM;;AAE7B,cAAU,CAAC,YAAM;AACf,iCAAU,iBAAiB,CAAC,CAAC;KAC9B,CAAC,CAAC;;AAEH,aAAS,CAAC,YAAM;AACd,yBAAM,sBAAsB,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;KAC7C,CAAC,CAAC;;AAEH,MAAE,CAAC,0BAA0B,EAAE,YAAM;AACnC,UAAI,OAAO,GACT;;;QACE;;;;SAA+B;QAC/B;;;;SAA6B;QAC7B;;;;UACsB,4CAAK;;SAEvB;QACJ,0CAAK,SAAS,EAAC,MAAM,GAAO;OACpB,AACX,CAAC;AACF,yBAAM,MAAM,CAAC,OAAO,EAAE,QAAQ,CAAC,IAAI,CAAC,CAAC;;AAErC,OAAC,CAAC,YAAY,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;AAC1B,wBAAO,CAAC,CAAC,eAAe,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;KAC/C,CAAC,CAAC;;AAEH,MAAE,CAAC,gCAAgC,EAAE,YAAW;AAC9C,UAAI,OAAO,GACT;;;QACE;;;;SAA+B;QAC/B;;;;SAA6B;QAC7B;;;;UACqE,4CAAK;;SAMtE;QACJ,0CAAK,SAAS,EAAC,MAAM,GAAO;OACpB,AACX,CAAC;AACF,yBAAM,MAAM,CAAC,OAAO,EAAE,QAAQ,CAAC,IAAI,CAAC,CAAC;;AAErC,OAAC,CAAC,YAAY,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;AAC1B,wBAAO,CAAC,CAAC,eAAe,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;KAC/C,CAAC,CAAC;;AAEH,MAAE,CAAC,kCAAkC,EAAE,YAAW;AAChD,UAAI,OAAO,GACT;;;QACE;;;;SAAuF;QACvF;;;;SAA2C;OACnC,AACX,CAAC;AACF,yBAAM,MAAM,CAAC,OAAO,EAAE,QAAQ,CAAC,IAAI,CAAC,CAAC;AACrC,OAAC,CAAC,YAAY,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;;AAE1B,wBAAO,CAAC,CAAC,eAAe,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;KAC/C,CAAC,CAAC;;AAEH,MAAE,CAAC,wCAAwC,EAAE,YAAW;AACtD,UAAI,OAAO,GACT;;;QACE;;;;SAAgF;QAChF;;;;SAA2C;OACnC,AACX,CAAC;AACF,yBAAM,MAAM,CAAC,OAAO,EAAE,QAAQ,CAAC,IAAI,CAAC,CAAC;;AAErC,OAAC,CAAC,YAAY,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;AAC1B,wBAAO,CAAC,CAAC,eAAe,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;KAC/C,CAAC,CAAC;GACJ,CAAC,CAAC;CACJ,CAAC,CAAC",
      "file": "/app/kitsune/sumo/static/sumo/js/tests/crashidtests.js",
      "sourcesContent": [
        "import {default as mochaJsdom, rerequire} from 'mocha-jsdom';\nimport {expect} from 'chai';\nimport React from 'react';\n\nimport mochaK from './fixtures/mochaK.js';\nimport mochaJquery from './fixtures/mochaJquery.js';\nimport mochaGettext from './fixtures/mochaGettext.js';\nimport mochaMarky from './fixtures/mochaMarky.js';\n\ndescribe('k', () => {\n  mochaJsdom({useEach: true});\n  mochaJquery();\n  mochaK();\n  mochaGettext();\n  mochaMarky();\n  /* globals window, document, $, k */\n\n  describe('linkCrashIds', () => {\n\n    beforeEach(() => {\n      rerequire('../questions.js');\n    });\n\n    afterEach(() => {\n      React.unmountComponentAtNode(document.body);\n    });\n\n    it('should link one crash ID', () => {\n      let sandbox = (\n        <section>\n          <h1>Firefox keeps crashing</h1>\n          <p>Firefox keeps crashing</p>\n          <p>\n            This is my crash ID:<br/>\n            bp-6ec83338-f37e-4ee1-aef4-0e66c2120808\n          </p>\n          <div className=\"stem\"></div>\n        </section>\n      );\n      React.render(sandbox, document.body);\n\n      k.linkCrashIds($('body'));\n      expect($('.crash-report').length).to.equal(1);\n    });\n\n    it('should link multiple crash IDs', function() {\n      let sandbox = (\n        <section>\n          <h1>Firefox keeps crashing</h1>\n          <p>Firefox keeps crashing</p>\n          <p>\n            Here's a list of my crash IDs (copied directly from about:crashes):<br/>\n            bp-6ec83338-f37e-4ee1-aef4-0e66c212080808.08.1217:52\n            bp-d8951614-c928-44ed-902c-6ccb6212080808.08.1217:52\n            bp-5eb7d4ec-5f9e-4cbf-9335-a574c212071717.07.1211:29\n            bp-15a73687-dabf-4014-9c03-b97b3212071717.07.1211:27\n            bp-f894adf7-9ff8-4f21-8564-da425212071111.07.1218:22\n          </p>\n          <div className=\"stem\"></div>\n        </section>\n      );\n      React.render(sandbox, document.body);\n\n      k.linkCrashIds($('body'));\n      expect($('.crash-report').length).to.equal(5);\n    });\n\n    it(\"shouldn't link invalid crash IDs\", function() {\n      let sandbox = (\n        <section>\n          <p>The following will look like an invalid crash ID that hasn't been processed yet:</p>\n          <p>765879E6-CFE7-43A7-BE93-B2F322E67649</p>\n        </section>\n      );\n      React.render(sandbox, document.body);\n      k.linkCrashIds($('body'));\n\n      expect($('.crash-report').length).to.equal(0);\n    });\n\n    it(\"shouldn't link crash IDs without 'bp-'\", function() {\n      let sandbox = (\n        <section>\n          <p>Now, crash IDs without 'bp-' at the beginning shouldn't get linked either</p>\n          <p>6ec83338-f37e-4ee1-aef4-0e66c2120808</p>\n        </section>\n      );\n      React.render(sandbox, document.body);\n\n      k.linkCrashIds($('body'));\n      expect($('.crash-report').length).to.equal(0);\n    });\n  });\n});\n"
      ]
    },
    "mtime": 1561057444000
  },
  "{\"filename\":\"/app/kitsune/sumo/static/sumo/js/tests/fixtures/mochaMarky.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":2,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "mocha-jsdom",
            "imported": [
              "rerequire"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "rerequire",
                "local": "rerequire"
              }
            ]
          },
          {
            "source": "./mochaFixtureHelper.js",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mochaFixtureHelper"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _mochaJsdom = require('mocha-jsdom');\n\nvar _mochaFixtureHelperJs = require('./mochaFixtureHelper.js');\n\nvar _mochaFixtureHelperJs2 = _interopRequireDefault(_mochaFixtureHelperJs);\n\nexports['default'] = (0, _mochaFixtureHelperJs2['default'])(function () {\n  (0, _mochaJsdom.rerequire)('../../markup.js');\n  return {\n    Marky: global.window.Marky\n  };\n});\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9hcHAva2l0c3VuZS9zdW1vL3N0YXRpYy9zdW1vL2pzL3Rlc3RzL2ZpeHR1cmVzL21vY2hhTWFya3kuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7MEJBQXdCLGFBQWE7O29DQUNOLHlCQUF5Qjs7OztxQkFFekMsdUNBQW1CLFlBQU07QUFDdEMsNkJBQVUsaUJBQWlCLENBQUMsQ0FBQztBQUM3QixTQUFPO0FBQ0wsU0FBSyxFQUFFLE1BQU0sQ0FBQyxNQUFNLENBQUMsS0FBSztHQUMzQixDQUFDO0NBQ0gsQ0FBQyIsImZpbGUiOiIvYXBwL2tpdHN1bmUvc3Vtby9zdGF0aWMvc3Vtby9qcy90ZXN0cy9maXh0dXJlcy9tb2NoYU1hcmt5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtyZXJlcXVpcmV9IGZyb20gJ21vY2hhLWpzZG9tJztcbmltcG9ydCBtb2NoYUZpeHR1cmVIZWxwZXIgZnJvbSAnLi9tb2NoYUZpeHR1cmVIZWxwZXIuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBtb2NoYUZpeHR1cmVIZWxwZXIoKCkgPT4ge1xuICByZXJlcXVpcmUoJy4uLy4uL21hcmt1cC5qcycpO1xuICByZXR1cm4ge1xuICAgIE1hcmt5OiBnbG9iYWwud2luZG93Lk1hcmt5LFxuICB9O1xufSk7XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/app/kitsune/sumo/static/sumo/js/tests/fixtures/mochaMarky.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;0BAAwB,aAAa;;oCACN,yBAAyB;;;;qBAEzC,uCAAmB,YAAM;AACtC,6BAAU,iBAAiB,CAAC,CAAC;AAC7B,SAAO;AACL,SAAK,EAAE,MAAM,CAAC,MAAM,CAAC,KAAK;GAC3B,CAAC;CACH,CAAC",
      "file": "/app/kitsune/sumo/static/sumo/js/tests/fixtures/mochaMarky.js",
      "sourcesContent": [
        "import {rerequire} from 'mocha-jsdom';\nimport mochaFixtureHelper from './mochaFixtureHelper.js';\n\nexport default mochaFixtureHelper(() => {\n  rerequire('../../markup.js');\n  return {\n    Marky: global.window.Marky,\n  };\n});\n"
      ]
    },
    "mtime": 1561057444000
  },
  "{\"filename\":\"/app/kitsune/sumo/static/sumo/js/tests/fixtures/mochaBrowserDetect.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":2,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "./mochaFixtureHelper.js",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mochaFixtureHelper"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _mochaFixtureHelperJs = require('./mochaFixtureHelper.js');\n\nvar _mochaFixtureHelperJs2 = _interopRequireDefault(_mochaFixtureHelperJs);\n\nexports['default'] = (0, _mochaFixtureHelperJs2['default'])(function () {\n  var _ref = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n  var _ref$browser = _ref.browser;\n  var browser = _ref$browser === undefined ? 'firefox' : _ref$browser;\n  var _ref$version = _ref.version;\n  var version = _ref$version === undefined ? 25.0 : _ref$version;\n  var _ref$OS = _ref.OS;\n  var OS = _ref$OS === undefined ? 'winxp' : _ref$OS;\n\n  var BrowserDetect = { browser: browser, version: version, OS: OS };\n  return {\n    BrowserDetect: BrowserDetect\n  };\n});\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9hcHAva2l0c3VuZS9zdW1vL3N0YXRpYy9zdW1vL2pzL3Rlc3RzL2ZpeHR1cmVzL21vY2hhQnJvd3NlckRldGVjdC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7OztvQ0FBK0IseUJBQXlCOzs7O3FCQUV6Qyx1Q0FBbUIsWUFBc0Q7bUVBQVAsRUFBRTs7MEJBQS9DLE9BQU87TUFBUCxPQUFPLGdDQUFDLFNBQVM7MEJBQUUsT0FBTztNQUFQLE9BQU8sZ0NBQUMsSUFBSTtxQkFBRSxFQUFFO01BQUYsRUFBRSwyQkFBQyxPQUFPOztBQUM3RSxNQUFJLGFBQWEsR0FBRyxFQUFDLE9BQU8sRUFBUCxPQUFPLEVBQUUsT0FBTyxFQUFQLE9BQU8sRUFBRSxFQUFFLEVBQUYsRUFBRSxFQUFDLENBQUM7QUFDM0MsU0FBTztBQUNMLGlCQUFhLEVBQUUsYUFBYTtHQUM3QixDQUFDO0NBQ0gsQ0FBQyIsImZpbGUiOiIvYXBwL2tpdHN1bmUvc3Vtby9zdGF0aWMvc3Vtby9qcy90ZXN0cy9maXh0dXJlcy9tb2NoYUJyb3dzZXJEZXRlY3QuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9jaGFGaXh0dXJlSGVscGVyIGZyb20gJy4vbW9jaGFGaXh0dXJlSGVscGVyLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgbW9jaGFGaXh0dXJlSGVscGVyKCh7YnJvd3Nlcj0nZmlyZWZveCcsIHZlcnNpb249MjUuMCwgT1M9J3dpbnhwJ309e30pID0+IHtcbiAgbGV0IEJyb3dzZXJEZXRlY3QgPSB7YnJvd3NlciwgdmVyc2lvbiwgT1N9O1xuICByZXR1cm4ge1xuICAgIEJyb3dzZXJEZXRlY3Q6IEJyb3dzZXJEZXRlY3QsXG4gIH07XG59KTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/app/kitsune/sumo/static/sumo/js/tests/fixtures/mochaBrowserDetect.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;oCAA+B,yBAAyB;;;;qBAEzC,uCAAmB,YAAsD;mEAAP,EAAE;;0BAA/C,OAAO;MAAP,OAAO,gCAAC,SAAS;0BAAE,OAAO;MAAP,OAAO,gCAAC,IAAI;qBAAE,EAAE;MAAF,EAAE,2BAAC,OAAO;;AAC7E,MAAI,aAAa,GAAG,EAAC,OAAO,EAAP,OAAO,EAAE,OAAO,EAAP,OAAO,EAAE,EAAE,EAAF,EAAE,EAAC,CAAC;AAC3C,SAAO;AACL,iBAAa,EAAE,aAAa;GAC7B,CAAC;CACH,CAAC",
      "file": "/app/kitsune/sumo/static/sumo/js/tests/fixtures/mochaBrowserDetect.js",
      "sourcesContent": [
        "import mochaFixtureHelper from './mochaFixtureHelper.js';\n\nexport default mochaFixtureHelper(({browser='firefox', version=25.0, OS='winxp'}={}) => {\n  let BrowserDetect = {browser, version, OS};\n  return {\n    BrowserDetect: BrowserDetect,\n  };\n});\n"
      ]
    },
    "mtime": 1561057444000
  },
  "{\"filename\":\"/app/kitsune/sumo/static/sumo/js/tests/fixtures/mochaGoogleAnalytics.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":2,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "./mochaFixtureHelper.js",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mochaFixtureHelper"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _mochaFixtureHelperJs = require('./mochaFixtureHelper.js');\n\nvar _mochaFixtureHelperJs2 = _interopRequireDefault(_mochaFixtureHelperJs);\n\nexports['default'] = (0, _mochaFixtureHelperJs2['default'])(function () {\n  return {\n    _gaq: [],\n    trackEvent: function trackEvent() {}\n  };\n});\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9hcHAva2l0c3VuZS9zdW1vL3N0YXRpYy9zdW1vL2pzL3Rlc3RzL2ZpeHR1cmVzL21vY2hhR29vZ2xlQW5hbHl0aWNzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O29DQUErQix5QkFBeUI7Ozs7cUJBRXpDLHVDQUFtQixZQUFNO0FBQ3RDLFNBQU87QUFDTCxRQUFJLEVBQUUsRUFBRTtBQUNSLGNBQVUsRUFBRSxzQkFBVyxFQUFFO0dBQzFCLENBQUM7Q0FDSCxDQUFDIiwiZmlsZSI6Ii9hcHAva2l0c3VuZS9zdW1vL3N0YXRpYy9zdW1vL2pzL3Rlc3RzL2ZpeHR1cmVzL21vY2hhR29vZ2xlQW5hbHl0aWNzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vY2hhRml4dHVyZUhlbHBlciBmcm9tICcuL21vY2hhRml4dHVyZUhlbHBlci5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IG1vY2hhRml4dHVyZUhlbHBlcigoKSA9PiB7XG4gIHJldHVybiB7XG4gICAgX2dhcTogW10sXG4gICAgdHJhY2tFdmVudDogZnVuY3Rpb24oKSB7fVxuICB9O1xufSk7XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/app/kitsune/sumo/static/sumo/js/tests/fixtures/mochaGoogleAnalytics.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;oCAA+B,yBAAyB;;;;qBAEzC,uCAAmB,YAAM;AACtC,SAAO;AACL,QAAI,EAAE,EAAE;AACR,cAAU,EAAE,sBAAW,EAAE;GAC1B,CAAC;CACH,CAAC",
      "file": "/app/kitsune/sumo/static/sumo/js/tests/fixtures/mochaGoogleAnalytics.js",
      "sourcesContent": [
        "import mochaFixtureHelper from './mochaFixtureHelper.js';\n\nexport default mochaFixtureHelper(() => {\n  return {\n    _gaq: [],\n    trackEvent: function() {}\n  };\n});\n"
      ]
    },
    "mtime": 1561057444000
  },
  "{\"filename\":\"/app/kitsune/sumo/static/sumo/js/tests/fixtures/mochaNunjucks.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":2,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "path",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "path"
              }
            ]
          },
          {
            "source": "mocha-jsdom",
            "imported": [
              "rerequire"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "rerequire",
                "local": "rerequire"
              }
            ]
          },
          {
            "source": "nunjucks",
            "imported": [
              "FileSystemLoader"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "FileSystemLoader",
                "local": "FileSystemLoader"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _path = require('path');\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _mochaJsdom = require('mocha-jsdom');\n\nvar _nunjucks = require('nunjucks');\n\n/**\n * Load and set up nunjucks and the Sumo nunjucks environment for Mocha tests.\n */\n\nexports['default'] = function () {\n  global.beforeEach(function () {\n    var nunjucks = (0, _mochaJsdom.rerequire)('nunjucks');\n\n    global.nunjucks = nunjucks;\n    if (global.window) {\n      global.window.nunjucks = nunjucks;\n    }\n\n    var originalConfigure = nunjucks.configure;\n    nunjucks.configure = function (opts) {\n      opts.watch = false;\n      return originalConfigure(opts);\n    };\n\n    (0, _mochaJsdom.rerequire)('../../nunjucks.js');\n    global.window.k.nunjucksEnv.loaders = [new _nunjucks.FileSystemLoader('kitsune/sumo/static/sumo/tpl', true, true)];\n    global.window.k.nunjucksEnv.initCache();\n  });\n\n  global.afterEach(function () {\n    delete global.nunjucks;\n    delete global.nunjucksEnv;\n    if (global.window) {\n      delete global.window.nunjucks;\n    }\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9hcHAva2l0c3VuZS9zdW1vL3N0YXRpYy9zdW1vL2pzL3Rlc3RzL2ZpeHR1cmVzL21vY2hhTnVuanVja3MuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7b0JBQWlCLE1BQU07Ozs7MEJBQ0MsYUFBYTs7d0JBQ04sVUFBVTs7Ozs7O3FCQUsxQixZQUFXO0FBQ3hCLFFBQU0sQ0FBQyxVQUFVLENBQUMsWUFBTTtBQUN0QixRQUFJLFFBQVEsR0FBRywyQkFBVSxVQUFVLENBQUMsQ0FBQzs7QUFFckMsVUFBTSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7QUFDM0IsUUFBSSxNQUFNLENBQUMsTUFBTSxFQUFFO0FBQ2pCLFlBQU0sQ0FBQyxNQUFNLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztLQUNuQzs7QUFFRCxRQUFNLGlCQUFpQixHQUFHLFFBQVEsQ0FBQyxTQUFTLENBQUM7QUFDN0MsWUFBUSxDQUFDLFNBQVMsR0FBRyxVQUFBLElBQUksRUFBSTtBQUMzQixVQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztBQUNuQixhQUFPLGlCQUFpQixDQUFDLElBQUksQ0FBQyxDQUFDO0tBQ2hDLENBQUM7O0FBRUYsK0JBQVUsbUJBQW1CLENBQUMsQ0FBQztBQUMvQixVQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUMsT0FBTyxHQUFHLENBQ3BDLCtCQUFxQiw4QkFBOEIsRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQ2pFLENBQUM7QUFDRixVQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUMsU0FBUyxFQUFFLENBQUM7R0FDekMsQ0FBQyxDQUFDOztBQUVILFFBQU0sQ0FBQyxTQUFTLENBQUMsWUFBTTtBQUNyQixXQUFPLE1BQU0sQ0FBQyxRQUFRLENBQUM7QUFDdkIsV0FBTyxNQUFNLENBQUMsV0FBVyxDQUFDO0FBQzFCLFFBQUksTUFBTSxDQUFDLE1BQU0sRUFBRTtBQUNqQixhQUFPLE1BQU0sQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDO0tBQy9CO0dBQ0YsQ0FBQyxDQUFDO0NBQ0oiLCJmaWxlIjoiL2FwcC9raXRzdW5lL3N1bW8vc3RhdGljL3N1bW8vanMvdGVzdHMvZml4dHVyZXMvbW9jaGFOdW5qdWNrcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0IHtyZXJlcXVpcmV9IGZyb20gJ21vY2hhLWpzZG9tJztcbmltcG9ydCB7RmlsZVN5c3RlbUxvYWRlcn0gZnJvbSAnbnVuanVja3MnO1xuXG4vKipcbiAqIExvYWQgYW5kIHNldCB1cCBudW5qdWNrcyBhbmQgdGhlIFN1bW8gbnVuanVja3MgZW52aXJvbm1lbnQgZm9yIE1vY2hhIHRlc3RzLlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgZ2xvYmFsLmJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGxldCBudW5qdWNrcyA9IHJlcmVxdWlyZSgnbnVuanVja3MnKTtcblxuICAgIGdsb2JhbC5udW5qdWNrcyA9IG51bmp1Y2tzO1xuICAgIGlmIChnbG9iYWwud2luZG93KSB7XG4gICAgICBnbG9iYWwud2luZG93Lm51bmp1Y2tzID0gbnVuanVja3M7XG4gICAgfVxuXG4gICAgY29uc3Qgb3JpZ2luYWxDb25maWd1cmUgPSBudW5qdWNrcy5jb25maWd1cmU7XG4gICAgbnVuanVja3MuY29uZmlndXJlID0gb3B0cyA9PiB7XG4gICAgICBvcHRzLndhdGNoID0gZmFsc2U7XG4gICAgICByZXR1cm4gb3JpZ2luYWxDb25maWd1cmUob3B0cyk7XG4gICAgfTtcblxuICAgIHJlcmVxdWlyZSgnLi4vLi4vbnVuanVja3MuanMnKTtcbiAgICBnbG9iYWwud2luZG93LmsubnVuanVja3NFbnYubG9hZGVycyA9IFtcbiAgICAgIG5ldyBGaWxlU3lzdGVtTG9hZGVyKCdraXRzdW5lL3N1bW8vc3RhdGljL3N1bW8vdHBsJywgdHJ1ZSwgdHJ1ZSlcbiAgICBdO1xuICAgIGdsb2JhbC53aW5kb3cuay5udW5qdWNrc0Vudi5pbml0Q2FjaGUoKTtcbiAgfSk7XG5cbiAgZ2xvYmFsLmFmdGVyRWFjaCgoKSA9PiB7XG4gICAgZGVsZXRlIGdsb2JhbC5udW5qdWNrcztcbiAgICBkZWxldGUgZ2xvYmFsLm51bmp1Y2tzRW52O1xuICAgIGlmIChnbG9iYWwud2luZG93KSB7XG4gICAgICBkZWxldGUgZ2xvYmFsLndpbmRvdy5udW5qdWNrcztcbiAgICB9XG4gIH0pO1xufVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/app/kitsune/sumo/static/sumo/js/tests/fixtures/mochaNunjucks.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;oBAAiB,MAAM;;;;0BACC,aAAa;;wBACN,UAAU;;;;;;qBAK1B,YAAW;AACxB,QAAM,CAAC,UAAU,CAAC,YAAM;AACtB,QAAI,QAAQ,GAAG,2BAAU,UAAU,CAAC,CAAC;;AAErC,UAAM,CAAC,QAAQ,GAAG,QAAQ,CAAC;AAC3B,QAAI,MAAM,CAAC,MAAM,EAAE;AACjB,YAAM,CAAC,MAAM,CAAC,QAAQ,GAAG,QAAQ,CAAC;KACnC;;AAED,QAAM,iBAAiB,GAAG,QAAQ,CAAC,SAAS,CAAC;AAC7C,YAAQ,CAAC,SAAS,GAAG,UAAA,IAAI,EAAI;AAC3B,UAAI,CAAC,KAAK,GAAG,KAAK,CAAC;AACnB,aAAO,iBAAiB,CAAC,IAAI,CAAC,CAAC;KAChC,CAAC;;AAEF,+BAAU,mBAAmB,CAAC,CAAC;AAC/B,UAAM,CAAC,MAAM,CAAC,CAAC,CAAC,WAAW,CAAC,OAAO,GAAG,CACpC,+BAAqB,8BAA8B,EAAE,IAAI,EAAE,IAAI,CAAC,CACjE,CAAC;AACF,UAAM,CAAC,MAAM,CAAC,CAAC,CAAC,WAAW,CAAC,SAAS,EAAE,CAAC;GACzC,CAAC,CAAC;;AAEH,QAAM,CAAC,SAAS,CAAC,YAAM;AACrB,WAAO,MAAM,CAAC,QAAQ,CAAC;AACvB,WAAO,MAAM,CAAC,WAAW,CAAC;AAC1B,QAAI,MAAM,CAAC,MAAM,EAAE;AACjB,aAAO,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC;KAC/B;GACF,CAAC,CAAC;CACJ",
      "file": "/app/kitsune/sumo/static/sumo/js/tests/fixtures/mochaNunjucks.js",
      "sourcesContent": [
        "import path from 'path';\nimport {rerequire} from 'mocha-jsdom';\nimport {FileSystemLoader} from 'nunjucks';\n\n/**\n * Load and set up nunjucks and the Sumo nunjucks environment for Mocha tests.\n */\nexport default function() {\n  global.beforeEach(() => {\n    let nunjucks = rerequire('nunjucks');\n\n    global.nunjucks = nunjucks;\n    if (global.window) {\n      global.window.nunjucks = nunjucks;\n    }\n\n    const originalConfigure = nunjucks.configure;\n    nunjucks.configure = opts => {\n      opts.watch = false;\n      return originalConfigure(opts);\n    };\n\n    rerequire('../../nunjucks.js');\n    global.window.k.nunjucksEnv.loaders = [\n      new FileSystemLoader('kitsune/sumo/static/sumo/tpl', true, true)\n    ];\n    global.window.k.nunjucksEnv.initCache();\n  });\n\n  global.afterEach(() => {\n    delete global.nunjucks;\n    delete global.nunjucksEnv;\n    if (global.window) {\n      delete global.window.nunjucks;\n    }\n  });\n}\n"
      ]
    },
    "mtime": 1561057444000
  },
  "{\"filename\":\"/app/kitsune/sumo/static/sumo/js/tests/instant_search_tests.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":2,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "mocha-jsdom",
            "imported": [
              "default",
              "rerequire"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mochaJsdom"
              },
              {
                "kind": "named",
                "imported": "rerequire",
                "local": "rerequire"
              }
            ]
          },
          {
            "source": "chai",
            "imported": [
              "default",
              "expect"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "chai"
              },
              {
                "kind": "named",
                "imported": "expect",
                "local": "expect"
              }
            ]
          },
          {
            "source": "react",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "React"
              }
            ]
          },
          {
            "source": "chai-lint",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "chaiLint"
              }
            ]
          },
          {
            "source": "sinon",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "sinon"
              }
            ]
          },
          {
            "source": "./fixtures/mochaK.js",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mochaK"
              }
            ]
          },
          {
            "source": "./fixtures/mochaJquery.js",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mochaJquery"
              }
            ]
          },
          {
            "source": "./fixtures/mochaGoogleAnalytics.js",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mochaGoogleAnalytics"
              }
            ]
          },
          {
            "source": "./fixtures/mochaNunjucks.js",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mochaNunjucks"
              }
            ]
          },
          {
            "source": "./fixtures/mochaGettext.js",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mochaGettext"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _mochaJsdom = require('mocha-jsdom');\n\nvar _mochaJsdom2 = _interopRequireDefault(_mochaJsdom);\n\nvar _chai = require('chai');\n\nvar _chai2 = _interopRequireDefault(_chai);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _chaiLint = require('chai-lint');\n\nvar _chaiLint2 = _interopRequireDefault(_chaiLint);\n\nvar _sinon = require('sinon');\n\nvar _sinon2 = _interopRequireDefault(_sinon);\n\nvar _fixturesMochaKJs = require('./fixtures/mochaK.js');\n\nvar _fixturesMochaKJs2 = _interopRequireDefault(_fixturesMochaKJs);\n\nvar _fixturesMochaJqueryJs = require('./fixtures/mochaJquery.js');\n\nvar _fixturesMochaJqueryJs2 = _interopRequireDefault(_fixturesMochaJqueryJs);\n\nvar _fixturesMochaGoogleAnalyticsJs = require('./fixtures/mochaGoogleAnalytics.js');\n\nvar _fixturesMochaGoogleAnalyticsJs2 = _interopRequireDefault(_fixturesMochaGoogleAnalyticsJs);\n\nvar _fixturesMochaNunjucksJs = require('./fixtures/mochaNunjucks.js');\n\nvar _fixturesMochaNunjucksJs2 = _interopRequireDefault(_fixturesMochaNunjucksJs);\n\nvar _fixturesMochaGettextJs = require('./fixtures/mochaGettext.js');\n\nvar _fixturesMochaGettextJs2 = _interopRequireDefault(_fixturesMochaGettextJs);\n\n_chai2['default'].use(_chaiLint2['default']);\n\ndescribe('instant search', function () {\n  (0, _mochaJsdom2['default'])({ useEach: true });\n  (0, _fixturesMochaJqueryJs2['default'])();\n  (0, _fixturesMochaKJs2['default'])();\n  (0, _fixturesMochaGoogleAnalyticsJs2['default'])();\n  (0, _fixturesMochaGettextJs2['default'])();\n  (0, _fixturesMochaNunjucksJs2['default'])();\n  /* globals window, document, $ */\n\n  describe('', function () {\n    var $sandbox = undefined;\n    var clock = undefined;\n    var cxhrMock = undefined;\n\n    beforeEach(function () {\n      clock = _sinon2['default'].useFakeTimers();\n      cxhrMock = _sinon2['default'].mock({ request: function request() {} });\n      window.k.CachedXHR = function () {\n        return cxhrMock.object;\n      };\n\n      (0, _mochaJsdom.rerequire)('../i18n.js');\n      global.interpolate = global.window.interpolate;\n      (0, _mochaJsdom.rerequire)('../search_utils.js');\n      (0, _mochaJsdom.rerequire)('../instant_search.js');\n\n      var content = _react2['default'].createElement(\n        'div',\n        null,\n        _react2['default'].createElement('div', { id: 'main-content' }),\n        _react2['default'].createElement('aside', { id: 'aside' }),\n        _react2['default'].createElement('div', { id: 'main-breadcrumbs' }),\n        _react2['default'].createElement(\n          'form',\n          { 'data-instant-search': 'form', action: '', method: 'get', className: 'simple-search-form' },\n          _react2['default'].createElement('input', { type: 'search', name: 'q', className: 'searchbox', id: 'search-q' }),\n          _react2['default'].createElement(\n            'button',\n            { type: 'submit', title: '{{ _(\\'Search\\') }}', className: 'submit-button' },\n            'Search'\n          )\n        )\n      );\n      _react2['default'].render(content, document.body);\n    });\n\n    afterEach(function () {\n      _react2['default'].unmountComponentAtNode(document.body);\n      clock.restore();\n    });\n\n    it('shows and hides the main content correctly', function () {\n      var $searchInput = $('#search-q');\n      (0, _chai.expect)($('#main-content').css('display')).to.not.equal('none');\n      (0, _chai.expect)($('#main-breadcrumbs').css('display')).to.not.equal('none');\n      (0, _chai.expect)($('#aside').css('display')).to.not.equal('none');\n\n      $searchInput.val('test');\n      $searchInput.keyup();\n      (0, _chai.expect)($('#main-content').css('display')).to.equal('none');\n      (0, _chai.expect)($('#main-breadcrumbs').css('display')).to.equal('none');\n      (0, _chai.expect)($('#aside').css('display')).to.equal('none');\n\n      $searchInput.val('');\n      $searchInput.keyup();\n      (0, _chai.expect)($('#main-content').css('display')).to.not.equal('none');\n      (0, _chai.expect)($('#main-breadcrumbs').css('display')).to.not.equal('none');\n      (0, _chai.expect)($('#aside').css('display')).to.not.equal('none');\n    });\n\n    it('shows the search query at the top of the page', function () {\n      var query = 'search query';\n      var requestExpectation = cxhrMock.expects('request').once().withArgs(_sinon2['default'].match.string, _sinon2['default'].match(function (opts) {\n        return opts.data.q === query;\n      }));\n\n      var $searchInput = $('#search-q');\n      $searchInput.val(query);\n      $searchInput.keyup();\n\n      clock.tick(200);\n      // call the callback to actually render things\n      requestExpectation.firstCall.args[1].success({\n        num_results: 0,\n        q: query\n      });\n\n      var $searchResultHeader = $('#search-results-list h2');\n      (0, _chai.expect)($searchResultHeader.find('strong').first().text()).to.equal(query);\n    });\n\n    it('escapes the search query at the top of the page', function () {\n      var query = '<';\n      var requestExpectation = cxhrMock.expects('request');\n\n      var $searchInput = $('#search-q');\n      $searchInput.val(query);\n      $searchInput.keyup();\n\n      clock.tick(200);\n      // call the callback to actually render things\n      requestExpectation.firstCall.args[1].success({\n        num_results: 0,\n        q: query\n      });\n\n      var queryElem = document.querySelectorAll('#search-results-list h2 strong')[0];\n      (0, _chai.expect)(queryElem.innerHTML).to.equal('&lt;');\n    });\n\n    it('escape the query in the sidebar filters', function () {\n      var query = '<';\n      var requestExpectation = cxhrMock.expects('request');\n\n      var $searchInput = $('#search-q');\n      $searchInput.val(query);\n      $searchInput.keyup();\n\n      clock.tick(200);\n      // call the callback to actually render things\n      requestExpectation.firstCall.args[1].success({\n        num_results: 0,\n        q: query\n      });\n\n      var sideBarLinks = Array.from(document.querySelectorAll('.search-filter [data-href]'));\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = sideBarLinks[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var link = _step.value;\n\n          (0, _chai.expect)(link.attributes['data-href'].value).to.contain('q=%3C');\n          (0, _chai.expect)(link.attributes['data-href'].value).to.not.contain('<');\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator['return']) {\n            _iterator['return']();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    });\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9hcHAva2l0c3VuZS9zdW1vL3N0YXRpYy9zdW1vL2pzL3Rlc3RzL2luc3RhbnRfc2VhcmNoX3Rlc3RzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7MEJBQStDLGFBQWE7Ozs7b0JBQ3RCLE1BQU07Ozs7cUJBQzFCLE9BQU87Ozs7d0JBQ0osV0FBVzs7OztxQkFDZCxPQUFPOzs7O2dDQUVOLHNCQUFzQjs7OztxQ0FDakIsMkJBQTJCOzs7OzhDQUNsQixvQ0FBb0M7Ozs7dUNBQzNDLDZCQUE2Qjs7OztzQ0FDOUIsNEJBQTRCOzs7O0FBRXJELGtCQUFLLEdBQUcsdUJBQVUsQ0FBQzs7QUFFbkIsUUFBUSxDQUFDLGdCQUFnQixFQUFFLFlBQU07QUFDL0IsK0JBQVcsRUFBQyxPQUFPLEVBQUUsSUFBSSxFQUFDLENBQUMsQ0FBQztBQUM1QiwyQ0FBYSxDQUFDO0FBQ2Qsc0NBQVEsQ0FBQztBQUNULG9EQUFzQixDQUFDO0FBQ3ZCLDRDQUFjLENBQUM7QUFDZiw2Q0FBZSxDQUFDOzs7QUFHaEIsVUFBUSxDQUFDLEVBQUUsRUFBRSxZQUFNO0FBQ2pCLFFBQUksUUFBUSxZQUFBLENBQUM7QUFDYixRQUFJLEtBQUssWUFBQSxDQUFDO0FBQ1YsUUFBSSxRQUFRLFlBQUEsQ0FBQzs7QUFFYixjQUFVLENBQUMsWUFBTTtBQUNmLFdBQUssR0FBRyxtQkFBTSxhQUFhLEVBQUUsQ0FBQztBQUM5QixjQUFRLEdBQUcsbUJBQU0sSUFBSSxDQUFDLEVBQUMsT0FBTyxFQUFFLG1CQUFNLEVBQUUsRUFBQyxDQUFDLENBQUM7QUFDM0MsWUFBTSxDQUFDLENBQUMsQ0FBQyxTQUFTLEdBQUc7ZUFBTSxRQUFRLENBQUMsTUFBTTtPQUFBLENBQUM7O0FBRTNDLGlDQUFVLFlBQVksQ0FBQyxDQUFDO0FBQ3hCLFlBQU0sQ0FBQyxXQUFXLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUM7QUFDL0MsaUNBQVUsb0JBQW9CLENBQUMsQ0FBQztBQUNoQyxpQ0FBVSxzQkFB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Q0FBQyxDQUFDLENBQUM7Ozs7OztBQUN6Riw2QkFBaUIsWUFBWSw4SEFBRTtjQUF0QixJQUFJOztBQUNYLDRCQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsV0FBVyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUMvRCw0QkFBTyxJQUFJLENBQUMsVUFBVSxDQUFDLFdBQVcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQ2hFOzs7Ozs7Ozs7Ozs7Ozs7S0FDRixDQUFDLENBQUM7R0FDSixDQUFDLENBQUM7Q0FDSixDQUFDLENBQUMiLCJmaWxlIjoiL2FwcC9raXRzdW5lL3N1bW8vc3RhdGljL3N1bW8vanMvdGVzdHMvaW5zdGFudF9zZWFyY2hfdGVzdHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge2RlZmF1bHQgYXMgbW9jaGFKc2RvbSwgcmVyZXF1aXJlfSBmcm9tICdtb2NoYS1qc2RvbSc7XG5pbXBvcnQge2RlZmF1bHQgYXMgY2hhaSwgZXhwZWN0fSBmcm9tICdjaGFpJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY2hhaUxpbnQgZnJvbSAnY2hhaS1saW50JztcbmltcG9ydCBzaW5vbiBmcm9tICdzaW5vbic7XG5cbmltcG9ydCBtb2NoYUsgZnJvbSAnLi9maXh0dXJlcy9tb2NoYUsuanMnO1xuaW1wb3J0IG1vY2hhSnF1ZXJ5IGZyb20gJy4vZml4dHVyZXMvbW9jaGFKcXVlcnkuanMnO1xuaW1wb3J0IG1vY2hhR29vZ2xlQW5hbHl0aWNzIGZyb20gJy4vZml4dHVyZXMvbW9jaGFHb29nbGVBbmFseXRpY3MuanMnO1xuaW1wb3J0IG1vY2hhTnVuanVja3MgZnJvbSAnLi9maXh0dXJlcy9tb2NoYU51bmp1Y2tzLmpzJztcbmltcG9ydCBtb2NoYUdldHRleHQgZnJvbSAnLi9maXh0dXJlcy9tb2NoYUdldHRleHQuanMnO1xuXG5jaGFpLnVzZShjaGFpTGludCk7XG5cbmRlc2NyaWJlKCdpbnN0YW50IHNlYXJjaCcsICgpID0+IHtcbiAgbW9jaGFKc2RvbSh7dXNlRWFjaDogdHJ1ZX0pO1xuICBtb2NoYUpxdWVyeSgpO1xuICBtb2NoYUsoKTtcbiAgbW9jaGFHb29nbGVBbmFseXRpY3MoKTtcbiAgbW9jaGFHZXR0ZXh0KCk7XG4gIG1vY2hhTnVuanVja3MoKTtcbiAgLyogZ2xvYmFscyB3aW5kb3csIGRvY3VtZW50LCAkICovXG5cbiAgZGVzY3JpYmUoJycsICgpID0+IHtcbiAgICBsZXQgJHNhbmRib3g7XG4gICAgbGV0IGNsb2NrO1xuICAgIGxldCBjeGhyTW9jaztcblxuICAgIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgICAgY2xvY2sgPSBzaW5vbi51c2VGYWtlVGltZXJzKCk7XG4gICAgICBjeGhyTW9jayA9IHNpbm9uLm1vY2soe3JlcXVlc3Q6ICgpID0+IHt9fSk7XG4gICAgICB3aW5kb3cuay5DYWNoZWRYSFIgPSAoKSA9PiBjeGhyTW9jay5vYmplY3Q7XG5cbiAgICAgIHJlcmVxdWlyZSgnLi4vaTE4bi5qcycpO1xuICAgICAgZ2xvYmFsLmludGVycG9sYXRlID0gZ2xvYmFsLndpbmRvdy5pbnRlcnBvbGF0ZTtcbiAgICAgIHJlcmVxdWlyZSgnLi4vc2VhcmNoX3V0aWxzLmpzJyk7XG4gICAgICByZXJlcXVpcmUoJy4uL2luc3RhbnRfc2VhcmNoLmpzJyk7XG5cbiAgICAgIGxldCBjb250ZW50ID0gKFxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxkaXYgaWQ9XCJtYWluLWNvbnRlbnRcIi8+XG4gICAgICAgICAgPGFzaWRlIGlkPVwiYXNpZGVcIi8+XG4gICAgICAgICAgPGRpdiBpZD1cIm1haW4tYnJlYWRjcnVtYnNcIi8+XG5cbiAgICAgICAgICA8Zm9ybSBkYXRhLWluc3RhbnQtc2VhcmNoPVwiZm9ybVwiIGFjdGlvbj1cIlwiIG1ldGhvZD1cImdldFwiIGNsYXNzTmFtZT1cInNpbXBsZS1zZWFyY2gtZm9ybVwiPlxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJzZWFyY2hcIiBuYW1lPVwicVwiIGNsYXNzTmFtZT1cInNlYXJjaGJveFwiIGlkPVwic2VhcmNoLXFcIi8+XG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJzdWJtaXRcIiB0aXRsZT1cInt7IF8oJ1NlYXJjaCcpIH19XCIgY2xhc3NOYW1lPVwic3VibWl0LWJ1dHRvblwiPlNlYXJjaDwvYnV0dG9uPlxuICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuICAgICAgUmVhY3QucmVuZGVyKGNvbnRlbnQsIGRvY3VtZW50LmJvZHkpO1xuICAgIH0pO1xuXG4gICAgYWZ0ZXJFYWNoKCgpID0+IHtcbiAgICAgIFJlYWN0LnVubW91bnRDb21wb25lbnRBdE5vZGUoZG9jdW1lbnQuYm9keSk7XG4gICAgICBjbG9jay5yZXN0b3JlKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvd3MgYW5kIGhpZGVzIHRoZSBtYWluIGNvbnRlbnQgY29ycmVjdGx5JywgKCkgPT4ge1xuICAgICAgY29uc3QgJHNlYXJjaElucHV0ID0gJCgnI3NlYXJjaC1xJyk7XG4gICAgICBleHBlY3QoJCgnI21haW4tY29udGVudCcpLmNzcygnZGlzcGxheScpKS50by5ub3QuZXF1YWwoJ25vbmUnKTtcbiAgICAgIGV4cGVjdCgkKCcjbWFpbi1icmVhZGNydW1icycpLmNzcygnZGlzcGxheScpKS50by5ub3QuZXF1YWwoJ25vbmUnKTtcbiAgICAgIGV4cGVjdCgkKCcjYXNpZGUnKS5jc3MoJ2Rpc3BsYXknKSkudG8ubm90LmVxdWFsKCdub25lJyk7XG5cbiAgICAgICRzZWFyY2hJbnB1dC52YWwoJ3Rlc3QnKTtcbiAgICAgICRzZWFyY2hJbnB1dC5rZXl1cCgpO1xuICAgICAgZXhwZWN0KCQoJyNtYWluLWNvbnRlbnQnKS5jc3MoJ2Rpc3BsYXknKSkudG8uZXF1YWwoJ25vbmUnKTtcbiAgICAgIGV4cGVjdCgkKCcjbWFpbi1icmVhZGNydW1icycpLmNzcygnZGlzcGxheScpKS50by5lcXVhbCgnbm9uZScpO1xuICAgICAgZXhwZWN0KCQoJyNhc2lkZScpLmNzcygnZGlzcGxheScpKS50by5lcXVhbCgnbm9uZScpO1xuXG4gICAgICAkc2VhcmNoSW5wdXQudmFsKCcnKTtcbiAgICAgICRzZWFyY2hJbnB1dC5rZXl1cCgpO1xuICAgICAgZXhwZWN0KCQoJyNtYWluLWNvbnRlbnQnKS5jc3MoJ2Rpc3BsYXknKSkudG8ubm90LmVxdWFsKCdub25lJyk7XG4gICAgICBleHBlY3QoJCgnI21haW4tYnJlYWRjcnVtYnMnKS5jc3MoJ2Rpc3BsYXknKSkudG8ubm90LmVxdWFsKCdub25lJyk7XG4gICAgICBleHBlY3QoJCgnI2FzaWRlJykuY3NzKCdkaXNwbGF5JykpLnRvLm5vdC5lcXVhbCgnbm9uZScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3dzIHRoZSBzZWFyY2ggcXVlcnkgYXQgdGhlIHRvcCBvZiB0aGUgcGFnZScsICgpID0+IHtcbiAgICAgIGNvbnN0IHF1ZXJ5ID0gJ3NlYXJjaCBxdWVyeSc7XG4gICAgICBjb25zdCByZXF1ZXN0RXhwZWN0YXRpb24gPSBjeGhyTW9jay5leHBlY3RzKCdyZXF1ZXN0JylcbiAgICAgICAgLm9uY2UoKVxuICAgICAgICAud2l0aEFyZ3Moc2lub24ubWF0Y2guc3RyaW5nLCBzaW5vbi5tYXRjaChvcHRzID0+IG9wdHMuZGF0YS5xID09PSBxdWVyeSkpO1xuXG4gICAgICBjb25zdCAkc2VhcmNoSW5wdXQgPSAkKCcjc2VhcmNoLXEnKTtcbiAgICAgICRzZWFyY2hJbnB1dC52YWwocXVlcnkpO1xuICAgICAgJHNlYXJjaElucHV0LmtleXVwKCk7XG5cbiAgICAgIGNsb2NrLnRpY2soMjAwKTtcbiAgICAgIC8vIGNhbGwgdGhlIGNhbGxiYWNrIHRvIGFjdHVhbGx5IHJlbmRlciB0aGluZ3NcbiAgICAgIHJlcXVlc3RFeHBlY3RhdGlvbi5maXJzdENhbGwuYXJnc1sxXS5zdWNjZXNzKHtcbiAgICAgICAgbnVtX3Jlc3VsdHM6IDAsXG4gICAgICAgIHE6IHF1ZXJ5LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0ICRzZWFyY2hSZXN1bHRIZWFkZXIgPSAkKCcjc2VhcmNoLXJlc3VsdHMtbGlzdCBoMicpO1xuICAgICAgZXhwZWN0KCRzZWFyY2hSZXN1bHRIZWFkZXIuZmluZCgnc3Ryb25nJykuZmlyc3QoKS50ZXh0KCkpLnRvLmVxdWFsKHF1ZXJ5KTtcbiAgICB9KTtcblxuICAgIGl0KCdlc2NhcGVzIHRoZSBzZWFyY2ggcXVlcnkgYXQgdGhlIHRvcCBvZiB0aGUgcGFnZScsICgpID0+IHtcbiAgICAgIGNvbnN0IHF1ZXJ5ID0gJzwnO1xuICAgICAgY29uc3QgcmVxdWVzdEV4cGVjdGF0aW9uID0gY3hock1vY2suZXhwZWN0cygncmVxdWVzdCcpO1xuXG4gICAgICBjb25zdCAkc2VhcmNoSW5wdXQgPSAkKCcjc2VhcmNoLXEnKTtcbiAgICAgICRzZWFyY2hJbnB1dC52YWwocXVlcnkpO1xuICAgICAgJHNlYXJjaElucHV0LmtleXVwKCk7XG5cbiAgICAgIGNsb2NrLnRpY2soMjAwKTtcbiAgICAgIC8vIGNhbGwgdGhlIGNhbGxiYWNrIHRvIGFjdHVhbGx5IHJlbmRlciB0aGluZ3NcbiAgICAgIHJlcXVlc3RFeHBlY3RhdGlvbi5maXJzdENhbGwuYXJnc1sxXS5zdWNjZXNzKHtcbiAgICAgICAgbnVtX3Jlc3VsdHM6IDAsXG4gICAgICAgIHE6IHF1ZXJ5LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHF1ZXJ5RWxlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNzZWFyY2gtcmVzdWx0cy1saXN0IGgyIHN0cm9uZycpWzBdO1xuICAgICAgZXhwZWN0KHF1ZXJ5RWxlbS5pbm5lckhUTUwpLnRvLmVxdWFsKCcmbHQ7Jyk7XG4gICAgfSk7XG5cbiAgICBpdCgnZXNjYXBlIHRoZSBxdWVyeSBpbiB0aGUgc2lkZWJhciBmaWx0ZXJzJywgKCkgPT4ge1xuICAgICAgY29uc3QgcXVlcnkgPSAnPCc7XG4gICAgICBjb25zdCByZXF1ZXN0RXhwZWN0YXRpb24gPSBjeGhyTW9jay5leHBlY3RzKCdyZXF1ZXN0Jyk7XG5cbiAgICAgIGNvbnN0ICRzZWFyY2hJbnB1dCA9ICQoJyNzZWFyY2gtcScpO1xuICAgICAgJHNlYXJjaElucHV0LnZhbChxdWVyeSk7XG4gICAgICAkc2VhcmNoSW5wdXQua2V5dXAoKTtcblxuICAgICAgY2xvY2sudGljaygyMDApO1xuICAgICAgLy8gY2FsbCB0aGUgY2FsbGJhY2sgdG8gYWN0dWFsbHkgcmVuZGVyIHRoaW5nc1xuICAgICAgcmVxdWVzdEV4cGVjdGF0aW9uLmZpcnN0Q2FsbC5hcmdzWzFdLnN1Y2Nlc3Moe1xuICAgICAgICBudW1fcmVzdWx0czogMCxcbiAgICAgICAgcTogcXVlcnksXG4gICAgICB9KTtcblxuICAgICAgY29uc3Qgc2lkZUJhckxpbmtzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VhcmNoLWZpbHRlciBbZGF0YS1ocmVmXScpKTtcbiAgICAgIGZvciAobGV0IGxpbmsgb2Ygc2lkZUJhckxpbmtzKSB7XG4gICAgICAgIGV4cGVjdChsaW5rLmF0dHJpYnV0ZXNbJ2RhdGEtaHJlZiddLnZhbHVlKS50by5jb250YWluKCdxPSUzQycpO1xuICAgICAgICBleHBlY3QobGluay5hdHRyaWJ1dGVzWydkYXRhLWhyZWYnXS52YWx1ZSkudG8ubm90LmNvbnRhaW4oJzwnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/app/kitsune/sumo/static/sumo/js/tests/instant_search_tests.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/app/kitsune/sumo/static/sumo/js/tests/instant_search_tests.js",
      "sourcesContent": [
        "import {default as mochaJsdom, rerequire} from 'mocha-jsdom';\nimport {default as chai, expect} from 'chai';\nimport React from 'react';\nimport chaiLint from 'chai-lint';\nimport sinon from 'sinon';\n\nimport mochaK from './fixtures/mochaK.js';\nimport mochaJquery from './fixtures/mochaJquery.js';\nimport mochaGoogleAnalytics from './fixtures/mochaGoogleAnalytics.js';\nimport mochaNunjucks from './fixtures/mochaNunjucks.js';\nimport mochaGettext from './fixtures/mochaGettext.js';\n\nchai.use(chaiLint);\n\ndescribe('instant search', () => {\n  mochaJsdom({useEach: true});\n  mochaJquery();\n  mochaK();\n  mochaGoogleAnalytics();\n  mochaGettext();\n  mochaNunjucks();\n  /* globals window, document, $ */\n\n  describe('', () => {\n    let $sandbox;\n    let clock;\n    let cxhrMock;\n\n    beforeEach(() => {\n      clock = sinon.useFakeTimers();\n      cxhrMock = sinon.mock({request: () => {}});\n      window.k.CachedXHR = () => cxhrMock.object;\n\n      rerequire('../i18n.js');\n      global.interpolate = global.window.interpolate;\n      rerequire('../search_utils.js');\n      rerequire('../instant_search.js');\n\n      let content = (\n        <div>\n          <div id=\"main-content\"/>\n          <aside id=\"aside\"/>\n          <div id=\"main-breadcrumbs\"/>\n\n          <form data-instant-search=\"form\" action=\"\" method=\"get\" className=\"simple-search-form\">\n            <input type=\"search\" name=\"q\" className=\"searchbox\" id=\"search-q\"/>\n            <button type=\"submit\" title=\"{{ _('Search') }}\" className=\"submit-button\">Search</button>\n          </form>\n        </div>\n      );\n      React.render(content, document.body);\n    });\n\n    afterEach(() => {\n      React.unmountComponentAtNode(document.body);\n      clock.restore();\n    });\n\n    it('shows and hides the main content correctly', () => {\n      const $searchInput = $('#search-q');\n      expect($('#main-content').css('display')).to.not.equal('none');\n      expect($('#main-breadcrumbs').css('display')).to.not.equal('none');\n      expect($('#aside').css('display')).to.not.equal('none');\n\n      $searchInput.val('test');\n      $searchInput.keyup();\n      expect($('#main-content').css('display')).to.equal('none');\n      expect($('#main-breadcrumbs').css('display')).to.equal('none');\n      expect($('#aside').css('display')).to.equal('none');\n\n      $searchInput.val('');\n      $searchInput.keyup();\n      expect($('#main-content').css('display')).to.not.equal('none');\n      expect($('#main-breadcrumbs').css('display')).to.not.equal('none');\n      expect($('#aside').css('display')).to.not.equal('none');\n    });\n\n    it('shows the search query at the top of the page', () => {\n      const query = 'search query';\n      const requestExpectation = cxhrMock.expects('request')\n        .once()\n        .withArgs(sinon.match.string, sinon.match(opts => opts.data.q === query));\n\n      const $searchInput = $('#search-q');\n      $searchInput.val(query);\n      $searchInput.keyup();\n\n      clock.tick(200);\n      // call the callback to actually render things\n      requestExpectation.firstCall.args[1].success({\n        num_results: 0,\n        q: query,\n      });\n\n      const $searchResultHeader = $('#search-results-list h2');\n      expect($searchResultHeader.find('strong').first().text()).to.equal(query);\n    });\n\n    it('escapes the search query at the top of the page', () => {\n      const query = '<';\n      const requestExpectation = cxhrMock.expects('request');\n\n      const $searchInput = $('#search-q');\n      $searchInput.val(query);\n      $searchInput.keyup();\n\n      clock.tick(200);\n      // call the callback to actually render things\n      requestExpectation.firstCall.args[1].success({\n        num_results: 0,\n        q: query,\n      });\n\n      const queryElem = document.querySelectorAll('#search-results-list h2 strong')[0];\n      expect(queryElem.innerHTML).to.equal('&lt;');\n    });\n\n    it('escape the query in the sidebar filters', () => {\n      const query = '<';\n      const requestExpectation = cxhrMock.expects('request');\n\n      const $searchInput = $('#search-q');\n      $searchInput.val(query);\n      $searchInput.keyup();\n\n      clock.tick(200);\n      // call the callback to actually render things\n      requestExpectation.firstCall.args[1].success({\n        num_results: 0,\n        q: query,\n      });\n\n      const sideBarLinks = Array.from(document.querySelectorAll('.search-filter [data-href]'));\n      for (let link of sideBarLinks) {\n        expect(link.attributes['data-href'].value).to.contain('q=%3C');\n        expect(link.attributes['data-href'].value).to.not.contain('<');\n      }\n    });\n  });\n});\n"
      ]
    },
    "mtime": 1561057444000
  },
  "{\"filename\":\"/app/kitsune/sumo/static/sumo/js/tests/kboxtests.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":2,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "mocha-jsdom",
            "imported": [
              "default",
              "rerequire"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mochaJsdom"
              },
              {
                "kind": "named",
                "imported": "rerequire",
                "local": "rerequire"
              }
            ]
          },
          {
            "source": "chai",
            "imported": [
              "default",
              "expect"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "chai"
              },
              {
                "kind": "named",
                "imported": "expect",
                "local": "expect"
              }
            ]
          },
          {
            "source": "react",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "React"
              }
            ]
          },
          {
            "source": "chai-lint",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "chaiLint"
              }
            ]
          },
          {
            "source": "./fixtures/mochaK.js",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mochaK"
              }
            ]
          },
          {
            "source": "./fixtures/mochaJquery.js",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mochaJquery"
              }
            ]
          },
          {
            "source": "./fixtures/mochaGettext.js",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mochaGettext"
              }
            ]
          },
          {
            "source": "./fixtures/mochaMarky.js",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mochaMarky"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _mochaJsdom = require('mocha-jsdom');\n\nvar _mochaJsdom2 = _interopRequireDefault(_mochaJsdom);\n\nvar _chai = require('chai');\n\nvar _chai2 = _interopRequireDefault(_chai);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _chaiLint = require('chai-lint');\n\nvar _chaiLint2 = _interopRequireDefault(_chaiLint);\n\nvar _fixturesMochaKJs = require('./fixtures/mochaK.js');\n\nvar _fixturesMochaKJs2 = _interopRequireDefault(_fixturesMochaKJs);\n\nvar _fixturesMochaJqueryJs = require('./fixtures/mochaJquery.js');\n\nvar _fixturesMochaJqueryJs2 = _interopRequireDefault(_fixturesMochaJqueryJs);\n\nvar _fixturesMochaGettextJs = require('./fixtures/mochaGettext.js');\n\nvar _fixturesMochaGettextJs2 = _interopRequireDefault(_fixturesMochaGettextJs);\n\nvar _fixturesMochaMarkyJs = require('./fixtures/mochaMarky.js');\n\nvar _fixturesMochaMarkyJs2 = _interopRequireDefault(_fixturesMochaMarkyJs);\n\n_chai2['default'].use(_chaiLint2['default']);\n\ndescribe('kbox', function () {\n  (0, _mochaJsdom2['default'])({ useEach: true });\n  (0, _fixturesMochaJqueryJs2['default'])();\n  (0, _fixturesMochaKJs2['default'])();\n  (0, _fixturesMochaGettextJs2['default'])();\n  (0, _fixturesMochaMarkyJs2['default'])();\n  /* globals window, document, $ */\n\n  describe('declarative', function () {\n    var $kbox = undefined,\n        kbox = undefined;\n\n    beforeEach(function () {\n      (0, _mochaJsdom.rerequire)('../kbox.js');\n\n      var sandbox = _react2['default'].createElement(\n        'div',\n        { id: 'sandbox' },\n        _react2['default'].createElement(\n          'div',\n          { className: 'kbox',\n            'data-title': 'ignored title',\n            title: 'test kbox',\n            'data-target': '#sandbox a.kbox-target',\n            'data-modal': 'true' },\n          _react2['default'].createElement(\n            'p',\n            null,\n            'lorem ipsum dolor sit amet.'\n          )\n        ),\n        _react2['default'].createElement(\n          'a',\n          { href: '#', className: 'kbox-target' },\n          'click me'\n        )\n      );\n      _react2['default'].render(sandbox, document.body);\n\n      $kbox = $('.kbox');\n      kbox = new window.KBox($kbox);\n    });\n\n    afterEach(function () {\n      _react2['default'].unmountComponentAtNode(document.body);\n    });\n\n    it('should open when the target is clicked', function () {\n      $('.kbox-target').click();\n      (0, _chai.expect)($kbox.is(':visible')).to.beTrue();\n    });\n\n    it('should open programmatically', function () {\n      kbox.open();\n      (0, _chai.expect)($kbox.is(':visible')).to.beTrue();\n    });\n\n    it('should close programmatically', function () {\n      kbox.close();\n      (0, _chai.expect)($kbox.is(':visible')).to.beTrue();\n    });\n\n    it('should have the right title', function () {\n      kbox.open();\n      (0, _chai.expect)($('.kbox-title').text()).to.equal('test kbox');\n    });\n\n    it('should have a modal overlay', function () {\n      (0, _chai.expect)($('#kbox-overlay').length).to.equal(0);\n      kbox.open();\n      (0, _chai.expect)($('#kbox-overlay').length).to.equal(1);\n    });\n\n    it('destroy should clean up the container', function () {\n      kbox.open();\n      (0, _chai.expect)($('.kbox-container').length).to.equal(1);\n      kbox.destroy();\n      (0, _chai.expect)($('.kbox-container').length).to.equal(0);\n    });\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9hcHAva2l0c3VuZS9zdW1vL3N0YXRpYy9zdW1vL2pzL3Rlc3RzL2tib3h0ZXN0cy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OzBCQUErQyxhQUFhOzs7O29CQUN0QixNQUFNOzs7O3FCQUMxQixPQUFPOzs7O3dCQUNKLFdBQVc7Ozs7Z0NBRWIsc0JBQXNCOzs7O3FDQUNqQiwyQkFBMkI7Ozs7c0NBQzFCLDRCQUE0Qjs7OztvQ0FDOUIsMEJBQTBCOzs7O0FBRWpELGtCQUFLLEdBQUcsdUJBQVUsQ0FBQzs7QUFFbkIsUUFBUSxDQUFDLE1BQU0sRUFBRSxZQUFNO0FBQ3JCLCtCQUFXLEVBQUMsT0FBTyxFQUFFLElBQUksRUFBQyxDQUFDLENBQUM7QUFDNUIsMkNBQWEsQ0FBQztBQUNkLHNDQUFRLENBQUM7QUFDVCw0Q0FBYyxDQUFDO0FBQ2YsMENBQVksQ0FBQzs7O0FBR2IsVUFBUSxDQUFDLGFBQWEsRUFBRSxZQUFNO0FBQzVCLFFBQUksS0FBSyxZQUFBO1FBQUUsSUFBSSxZQUFBLENBQUM7O0FBRWhCLGNBQVUsQ0FBQyxZQUFNO0FBQ2YsaUNBQVUsWUFBWSxDQUFDLENBQUM7O0FBRXhCLFVBQUksT0FBTyxHQUNUOztVQUFLLEVBQUUsRUFBQyxTQUFTO1FBQ2Y7O1lBQUssU0FBUyxFQUFDLE1BQU07QUFDaEIsMEJBQVcsZUFBZTtBQUMxQixpQkFBSyxFQUFDLFdBQVc7QUFDakIsMkJBQVksd0JBQXdCO0FBQ3BDLDBCQUFXLE1BQU07VUFDcEI7Ozs7V0FBa0M7U0FDOUI7UUFDTjs7WUFBRyxJQUFJLEVBQUMsR0FBRyxFQUFDLFNBQVMsRUFBQyxhQUFhOztTQUFhO09BQzVDLEFBQ1AsQ0FBQztBQUNGLHlCQUFNLE1BQU0sQ0FBQyxPQUFPLEVBQUUsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDOztBQUVyQyxXQUFLLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0FBQ25CLFVBQUksR0FBRyxJQUFJLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7S0FDL0IsQ0FBQyxDQUFDOztBQUVILGFBQVMsQ0FBQyxZQUFNO0FBQ2QseUJBQU0sc0JBQXNCLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQzdDLENBQUMsQ0FBQzs7QUFFSCxNQUFFLENBQUMsd0NBQXdDLEVBQUUsWUFBTTtBQUNqRCxPQUFDLENBQUMsY0FBYyxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUM7QUFDMUIsd0JBQU8sS0FBSyxDQUFDLEVBQUUsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQztLQUMxQyxDQUFDLENBQUM7O0FBRUgsTUFBRSxDQUFDLDhCQUE4QixFQUFFLFlBQU07QUFDdkMsVUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osd0JBQU8sS0FBSyxDQUFDLEVBQUUsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQztLQUMxQyxDQUFDLENBQUM7O0FBRUgsTUFBRSxDQUFDLCtCQUErQixFQUFFLFlBQU07QUFDeEMsVUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDO0FBQ2Isd0JBQU8sS0FBSyxDQUFDLEVBQUUsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQztLQUMxQyxDQUFDLENBQUM7O0FBRUgsTUFBRSxDQUFDLDZCQUE2QixFQUFFLFlBQU07QUFDdEMsVUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osd0JBQU8sQ0FBQyxDQUFDLGFBQWEsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsQ0FBQztLQUN2RCxDQUFDLENBQUM7O0FBRUgsTUFBRSxDQUFDLDZCQUE2QixFQUFFLFlBQU07QUFDdEMsd0JBQU8sQ0FBQyxDQUFDLGVBQWUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDOUMsVUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osd0JBQU8sQ0FBQyxDQUFDLGVBQWUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7S0FDL0MsQ0FBQyxDQUFDOztBQUVILE1BQUUsQ0FBQyx1Q0FBdUMsRUFBRSxZQUFNO0FBQ2hELFVBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLHdCQUFPLENBQUMsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDaEQsVUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO0FBQ2Ysd0JBQU8sQ0FBQyxDQUFDLGlCQUFpQixDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztLQUNqRCxDQUFDLENBQUM7R0FDSixDQUFDLENBQUM7Q0FDSixDQUFDLENBQUMiLCJmaWxlIjoiL2FwcC9raXRzdW5lL3N1bW8vc3RhdGljL3N1bW8vanMvdGVzdHMva2JveHRlc3RzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtkZWZhdWx0IGFzIG1vY2hhSnNkb20sIHJlcmVxdWlyZX0gZnJvbSAnbW9jaGEtanNkb20nO1xuaW1wb3J0IHtkZWZhdWx0IGFzIGNoYWksIGV4cGVjdH0gZnJvbSAnY2hhaSc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IGNoYWlMaW50IGZyb20gJ2NoYWktbGludCc7XG5cbmltcG9ydCBtb2NoYUsgZnJvbSAnLi9maXh0dXJlcy9tb2NoYUsuanMnO1xuaW1wb3J0IG1vY2hhSnF1ZXJ5IGZyb20gJy4vZml4dHVyZXMvbW9jaGFKcXVlcnkuanMnO1xuaW1wb3J0IG1vY2hhR2V0dGV4dCBmcm9tICcuL2ZpeHR1cmVzL21vY2hhR2V0dGV4dC5qcyc7XG5pbXBvcnQgbW9jaGFNYXJreSBmcm9tICcuL2ZpeHR1cmVzL21vY2hhTWFya3kuanMnO1xuXG5jaGFpLnVzZShjaGFpTGludCk7XG5cbmRlc2NyaWJlKCdrYm94JywgKCkgPT4ge1xuICBtb2NoYUpzZG9tKHt1c2VFYWNoOiB0cnVlfSk7XG4gIG1vY2hhSnF1ZXJ5KCk7XG4gIG1vY2hhSygpO1xuICBtb2NoYUdldHRleHQoKTtcbiAgbW9jaGFNYXJreSgpO1xuICAvKiBnbG9iYWxzIHdpbmRvdywgZG9jdW1lbnQsICQgKi9cblxuICBkZXNjcmliZSgnZGVjbGFyYXRpdmUnLCAoKSA9PiB7XG4gICAgbGV0ICRrYm94LCBrYm94O1xuXG4gICAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgICByZXJlcXVpcmUoJy4uL2tib3guanMnKTtcblxuICAgICAgbGV0IHNhbmRib3ggPSAoXG4gICAgICAgIDxkaXYgaWQ9XCJzYW5kYm94XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJrYm94XCJcbiAgICAgICAgICAgICAgIGRhdGEtdGl0bGU9XCJpZ25vcmVkIHRpdGxlXCJcbiAgICAgICAgICAgICAgIHRpdGxlPVwidGVzdCBrYm94XCJcbiAgICAgICAgICAgICAgIGRhdGEtdGFyZ2V0PVwiI3NhbmRib3ggYS5rYm94LXRhcmdldFwiXG4gICAgICAgICAgICAgICBkYXRhLW1vZGFsPVwidHJ1ZVwiPlxuICAgICAgICAgICAgPHA+bG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQuPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxhIGhyZWY9XCIjXCIgY2xhc3NOYW1lPVwia2JveC10YXJnZXRcIj5jbGljayBtZTwvYT5cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuICAgICAgUmVhY3QucmVuZGVyKHNhbmRib3gsIGRvY3VtZW50LmJvZHkpO1xuXG4gICAgICAka2JveCA9ICQoJy5rYm94Jyk7XG4gICAgICBrYm94ID0gbmV3IHdpbmRvdy5LQm94KCRrYm94KTtcbiAgICB9KTtcblxuICAgIGFmdGVyRWFjaCgoKSA9PiB7XG4gICAgICBSZWFjdC51bm1vdW50Q29tcG9uZW50QXROb2RlKGRvY3VtZW50LmJvZHkpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBvcGVuIHdoZW4gdGhlIHRhcmdldCBpcyBjbGlja2VkJywgKCkgPT4ge1xuICAgICAgJCgnLmtib3gtdGFyZ2V0JykuY2xpY2soKTtcbiAgICAgIGV4cGVjdCgka2JveC5pcygnOnZpc2libGUnKSkudG8uYmVUcnVlKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIG9wZW4gcHJvZ3JhbW1hdGljYWxseScsICgpID0+IHtcbiAgICAgIGtib3gub3BlbigpO1xuICAgICAgZXhwZWN0KCRrYm94LmlzKCc6dmlzaWJsZScpKS50by5iZVRydWUoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgY2xvc2UgcHJvZ3JhbW1hdGljYWxseScsICgpID0+IHtcbiAgICAgIGtib3guY2xvc2UoKTtcbiAgICAgIGV4cGVjdCgka2JveC5pcygnOnZpc2libGUnKSkudG8uYmVUcnVlKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhdmUgdGhlIHJpZ2h0IHRpdGxlJywgKCkgPT4ge1xuICAgICAga2JveC5vcGVuKCk7XG4gICAgICBleHBlY3QoJCgnLmtib3gtdGl0bGUnKS50ZXh0KCkpLnRvLmVxdWFsKCd0ZXN0IGtib3gnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGF2ZSBhIG1vZGFsIG92ZXJsYXknLCAoKSA9PiB7XG4gICAgICBleHBlY3QoJCgnI2tib3gtb3ZlcmxheScpLmxlbmd0aCkudG8uZXF1YWwoMCk7XG4gICAgICBrYm94Lm9wZW4oKTtcbiAgICAgIGV4cGVjdCgkKCcja2JveC1vdmVybGF5JykubGVuZ3RoKS50by5lcXVhbCgxKTtcbiAgICB9KTtcblxuICAgIGl0KCdkZXN0cm95IHNob3VsZCBjbGVhbiB1cCB0aGUgY29udGFpbmVyJywgKCkgPT4ge1xuICAgICAga2JveC5vcGVuKCk7XG4gICAgICBleHBlY3QoJCgnLmtib3gtY29udGFpbmVyJykubGVuZ3RoKS50by5lcXVhbCgxKTtcbiAgICAgIGtib3guZGVzdHJveSgpO1xuICAgICAgZXhwZWN0KCQoJy5rYm94LWNvbnRhaW5lcicpLmxlbmd0aCkudG8uZXF1YWwoMCk7XG4gICAgfSk7XG4gIH0pO1xufSk7XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/app/kitsune/sumo/static/sumo/js/tests/kboxtests.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/app/kitsune/sumo/static/sumo/js/tests/kboxtests.js",
      "sourcesContent": [
        "import {default as mochaJsdom, rerequire} from 'mocha-jsdom';\nimport {default as chai, expect} from 'chai';\nimport React from 'react';\nimport chaiLint from 'chai-lint';\n\nimport mochaK from './fixtures/mochaK.js';\nimport mochaJquery from './fixtures/mochaJquery.js';\nimport mochaGettext from './fixtures/mochaGettext.js';\nimport mochaMarky from './fixtures/mochaMarky.js';\n\nchai.use(chaiLint);\n\ndescribe('kbox', () => {\n  mochaJsdom({useEach: true});\n  mochaJquery();\n  mochaK();\n  mochaGettext();\n  mochaMarky();\n  /* globals window, document, $ */\n\n  describe('declarative', () => {\n    let $kbox, kbox;\n\n    beforeEach(() => {\n      rerequire('../kbox.js');\n\n      let sandbox = (\n        <div id=\"sandbox\">\n          <div className=\"kbox\"\n               data-title=\"ignored title\"\n               title=\"test kbox\"\n               data-target=\"#sandbox a.kbox-target\"\n               data-modal=\"true\">\n            <p>lorem ipsum dolor sit amet.</p>\n          </div>\n          <a href=\"#\" className=\"kbox-target\">click me</a>\n        </div>\n      );\n      React.render(sandbox, document.body);\n\n      $kbox = $('.kbox');\n      kbox = new window.KBox($kbox);\n    });\n\n    afterEach(() => {\n      React.unmountComponentAtNode(document.body);\n    });\n\n    it('should open when the target is clicked', () => {\n      $('.kbox-target').click();\n      expect($kbox.is(':visible')).to.beTrue();\n    });\n\n    it('should open programmatically', () => {\n      kbox.open();\n      expect($kbox.is(':visible')).to.beTrue();\n    });\n\n    it('should close programmatically', () => {\n      kbox.close();\n      expect($kbox.is(':visible')).to.beTrue();\n    });\n\n    it('should have the right title', () => {\n      kbox.open();\n      expect($('.kbox-title').text()).to.equal('test kbox');\n    });\n\n    it('should have a modal overlay', () => {\n      expect($('#kbox-overlay').length).to.equal(0);\n      kbox.open();\n      expect($('#kbox-overlay').length).to.equal(1);\n    });\n\n    it('destroy should clean up the container', () => {\n      kbox.open();\n      expect($('.kbox-container').length).to.equal(1);\n      kbox.destroy();\n      expect($('.kbox-container').length).to.equal(0);\n    });\n  });\n});\n"
      ]
    },
    "mtime": 1561057444000
  },
  "{\"filename\":\"/app/kitsune/sumo/static/sumo/js/tests/lazyloadtests.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":2,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "mocha-jsdom",
            "imported": [
              "default",
              "rerequire"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mochaJsdom"
              },
              {
                "kind": "named",
                "imported": "rerequire",
                "local": "rerequire"
              }
            ]
          },
          {
            "source": "chai",
            "imported": [
              "default",
              "expect"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "chai"
              },
              {
                "kind": "named",
                "imported": "expect",
                "local": "expect"
              }
            ]
          },
          {
            "source": "react",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "React"
              }
            ]
          },
          {
            "source": "chai-lint",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "chaiLint"
              }
            ]
          },
          {
            "source": "./fixtures/mochaJquery.js",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mochaJquery"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _mochaJsdom = require('mocha-jsdom');\n\nvar _mochaJsdom2 = _interopRequireDefault(_mochaJsdom);\n\nvar _chai = require('chai');\n\nvar _chai2 = _interopRequireDefault(_chai);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _chaiLint = require('chai-lint');\n\nvar _chaiLint2 = _interopRequireDefault(_chaiLint);\n\nvar _fixturesMochaJqueryJs = require('./fixtures/mochaJquery.js');\n\nvar _fixturesMochaJqueryJs2 = _interopRequireDefault(_fixturesMochaJqueryJs);\n\n_chai2['default'].use(_chaiLint2['default']);\n\ndescribe('lazyload', function () {\n  (0, _mochaJsdom2['default'])({ useEach: true });\n  (0, _fixturesMochaJqueryJs2['default'])();\n  /* globals document, $ */\n\n  beforeEach(function () {\n    (0, _mochaJsdom.rerequire)('../libs/jquery.lazyload.js');\n  });\n\n  it('should load original image', function () {\n    var img = _react2['default'].createElement('img', { className: 'lazy', 'data-original-src': 'http://example.com/test.jpg' });\n    _react2['default'].render(img, document.body);\n    var $img = $('img');\n\n    $.fn.lazyload.loadOriginalImage($img);\n    (0, _chai.expect)($img.attr('src')).to.equal('http://example.com/test.jpg');\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9hcHAva2l0c3VuZS9zdW1vL3N0YXRpYy9zdW1vL2pzL3Rlc3RzL2xhenlsb2FkdGVzdHMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OzswQkFBK0MsYUFBYTs7OztvQkFDdEIsTUFBTTs7OztxQkFDMUIsT0FBTzs7Ozt3QkFDSixXQUFXOzs7O3FDQUVSLDJCQUEyQjs7OztBQUVuRCxrQkFBSyxHQUFHLHVCQUFVLENBQUM7O0FBRW5CLFFBQVEsQ0FBQyxVQUFVLEVBQUUsWUFBTTtBQUN6QiwrQkFBVyxFQUFDLE9BQU8sRUFBRSxJQUFJLEVBQUMsQ0FBQyxDQUFDO0FBQzVCLDJDQUFhLENBQUM7OztBQUdkLFlBQVUsQ0FBQyxZQUFNO0FBQ2YsK0JBQVUsNEJBQTRCLENBQUMsQ0FBQztHQUN6QyxDQUFDLENBQUM7O0FBRUgsSUFBRSxDQUFDLDRCQUE0QixFQUFFLFlBQU07QUFDckMsUUFBSSxHQUFHLEdBQUcsMENBQUssU0FBUyxFQUFDLE1BQU0sRUFBQyxxQkFBa0IsNkJBQTZCLEdBQUUsQ0FBQztBQUNsRix1QkFBTSxNQUFNLENBQUMsR0FBRyxFQUFFLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUNqQyxRQUFJLElBQUksR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUM7O0FBRXBCLEtBQUMsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ3RDLHNCQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLDZCQUE2QixDQUFDLENBQUM7R0FDbEUsQ0FBQyxDQUFDO0NBQ0osQ0FBQyxDQUFDIiwiZmlsZSI6Ii9hcHAva2l0c3VuZS9zdW1vL3N0YXRpYy9zdW1vL2pzL3Rlc3RzL2xhenlsb2FkdGVzdHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge2RlZmF1bHQgYXMgbW9jaGFKc2RvbSwgcmVyZXF1aXJlfSBmcm9tICdtb2NoYS1qc2RvbSc7XG5pbXBvcnQge2RlZmF1bHQgYXMgY2hhaSwgZXhwZWN0fSBmcm9tICdjaGFpJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY2hhaUxpbnQgZnJvbSAnY2hhaS1saW50JztcblxuaW1wb3J0IG1vY2hhSnF1ZXJ5IGZyb20gJy4vZml4dHVyZXMvbW9jaGFKcXVlcnkuanMnO1xuXG5jaGFpLnVzZShjaGFpTGludCk7XG5cbmRlc2NyaWJlKCdsYXp5bG9hZCcsICgpID0+IHtcbiAgbW9jaGFKc2RvbSh7dXNlRWFjaDogdHJ1ZX0pO1xuICBtb2NoYUpxdWVyeSgpO1xuICAvKiBnbG9iYWxzIGRvY3VtZW50LCAkICovXG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgcmVyZXF1aXJlKCcuLi9saWJzL2pxdWVyeS5sYXp5bG9hZC5qcycpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGxvYWQgb3JpZ2luYWwgaW1hZ2UnLCAoKSA9PiB7XG4gICAgbGV0IGltZyA9IDxpbWcgY2xhc3NOYW1lPVwibGF6eVwiIGRhdGEtb3JpZ2luYWwtc3JjPVwiaHR0cDovL2V4YW1wbGUuY29tL3Rlc3QuanBnXCIvPjtcbiAgICBSZWFjdC5yZW5kZXIoaW1nLCBkb2N1bWVudC5ib2R5KTtcbiAgICBsZXQgJGltZyA9ICQoJ2ltZycpO1xuXG4gICAgJC5mbi5sYXp5bG9hZC5sb2FkT3JpZ2luYWxJbWFnZSgkaW1nKTtcbiAgICBleHBlY3QoJGltZy5hdHRyKCdzcmMnKSkudG8uZXF1YWwoJ2h0dHA6Ly9leGFtcGxlLmNvbS90ZXN0LmpwZycpO1xuICB9KTtcbn0pO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/app/kitsune/sumo/static/sumo/js/tests/lazyloadtests.js"
      ],
      "names": [],
      "mappings": ";;;;0BAA+C,aAAa;;;;oBACtB,MAAM;;;;qBAC1B,OAAO;;;;wBACJ,WAAW;;;;qCAER,2BAA2B;;;;AAEnD,kBAAK,GAAG,uBAAU,CAAC;;AAEnB,QAAQ,CAAC,UAAU,EAAE,YAAM;AACzB,+BAAW,EAAC,OAAO,EAAE,IAAI,EAAC,CAAC,CAAC;AAC5B,2CAAa,CAAC;;;AAGd,YAAU,CAAC,YAAM;AACf,+BAAU,4BAA4B,CAAC,CAAC;GACzC,CAAC,CAAC;;AAEH,IAAE,CAAC,4BAA4B,EAAE,YAAM;AACrC,QAAI,GAAG,GAAG,0CAAK,SAAS,EAAC,MAAM,EAAC,qBAAkB,6BAA6B,GAAE,CAAC;AAClF,uBAAM,MAAM,CAAC,GAAG,EAAE,QAAQ,CAAC,IAAI,CAAC,CAAC;AACjC,QAAI,IAAI,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC;;AAEpB,KAAC,CAAC,EAAE,CAAC,QAAQ,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC;AACtC,sBAAO,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,6BAA6B,CAAC,CAAC;GAClE,CAAC,CAAC;CACJ,CAAC,CAAC",
      "file": "/app/kitsune/sumo/static/sumo/js/tests/lazyloadtests.js",
      "sourcesContent": [
        "import {default as mochaJsdom, rerequire} from 'mocha-jsdom';\nimport {default as chai, expect} from 'chai';\nimport React from 'react';\nimport chaiLint from 'chai-lint';\n\nimport mochaJquery from './fixtures/mochaJquery.js';\n\nchai.use(chaiLint);\n\ndescribe('lazyload', () => {\n  mochaJsdom({useEach: true});\n  mochaJquery();\n  /* globals document, $ */\n\n  beforeEach(() => {\n    rerequire('../libs/jquery.lazyload.js');\n  });\n\n  it('should load original image', () => {\n    let img = <img className=\"lazy\" data-original-src=\"http://example.com/test.jpg\"/>;\n    React.render(img, document.body);\n    let $img = $('img');\n\n    $.fn.lazyload.loadOriginalImage($img);\n    expect($img.attr('src')).to.equal('http://example.com/test.jpg');\n  });\n});\n"
      ]
    },
    "mtime": 1561057444000
  },
  "{\"filename\":\"/app/kitsune/sumo/static/sumo/js/tests/showfortests.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":2,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "react",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "React"
              }
            ]
          },
          {
            "source": "mocha-jsdom",
            "imported": [
              "default",
              "rerequire"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mochaJsdom"
              },
              {
                "kind": "named",
                "imported": "rerequire",
                "local": "rerequire"
              }
            ]
          },
          {
            "source": "chai",
            "imported": [
              "default",
              "expect"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "chai"
              },
              {
                "kind": "named",
                "imported": "expect",
                "local": "expect"
              }
            ]
          },
          {
            "source": "chai-lint",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "chaiLint"
              }
            ]
          },
          {
            "source": "sinon",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "sinon"
              }
            ]
          },
          {
            "source": "./fixtures/mochaJquery.js",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mochaJquery"
              }
            ]
          },
          {
            "source": "./fixtures/mochaBrowserDetect.js",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mochaBrowserDetect"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _mochaJsdom = require('mocha-jsdom');\n\nvar _mochaJsdom2 = _interopRequireDefault(_mochaJsdom);\n\nvar _chai = require('chai');\n\nvar _chai2 = _interopRequireDefault(_chai);\n\nvar _chaiLint = require('chai-lint');\n\nvar _chaiLint2 = _interopRequireDefault(_chaiLint);\n\nvar _sinon = require('sinon');\n\nvar _sinon2 = _interopRequireDefault(_sinon);\n\nvar _fixturesMochaJqueryJs = require('./fixtures/mochaJquery.js');\n\nvar _fixturesMochaJqueryJs2 = _interopRequireDefault(_fixturesMochaJqueryJs);\n\nvar _fixturesMochaBrowserDetectJs = require('./fixtures/mochaBrowserDetect.js');\n\nvar _fixturesMochaBrowserDetectJs2 = _interopRequireDefault(_fixturesMochaBrowserDetectJs);\n\n_chai2['default'].use(_chaiLint2['default']);\n\n/*\n* Returns an object with the same prototype and properties as a ShowFor\n* object, but for which the ShowFor constructor is not called. It will\n* be bound to the passed $sandbox.\n*/\nfunction showForNoInit($sandbox) {\n  var sf = Object.create(window.ShowFor.prototype);\n  sf.$container = $sandbox;\n  sf.state = {};\n  return sf;\n}\n\nfunction unorderedEquals(arr1, arr2) {\n  var arr1Sorted = arr1.sort();\n  var arr2Sorted = arr2.sort();\n  (0, _chai.expect)(arr1Sorted).to.deep.equal(arr2Sorted);\n}\n\ndescribe('ShowFor', function () {\n  (0, _mochaJsdom2['default'])({ useEach: true });\n  (0, _fixturesMochaJqueryJs2['default'])();\n  /* globals window, document, $ */\n  var showFor = undefined;\n\n  beforeEach(function () {\n    (0, _mochaJsdom.rerequire)('../showfor.js');\n\n    // Wow. That's a lot of data. Can we make this smaller?\n    var sandbox = _react2['default'].createElement(\n      'div',\n      null,\n      _react2['default'].createElement('span', { className: 'for', 'data-for': 'fx24' }),\n      _react2['default'].createElement('span', { className: 'for', 'data-for': 'fx24,win' }),\n      _react2['default'].createElement('span', { className: 'for', 'data-for': '=fx25' }),\n      _react2['default'].createElement('span', { className: 'for', 'data-for': 'not m25' }),\n      _react2['default'].createElement(\n        'div',\n        { className: 'product', 'data-product': 'firefox' },\n        _react2['default'].createElement(\n          'h2',\n          null,\n          _react2['default'].createElement('input', { type: 'checkbox', defaultChecked: true, value: 'product:firefox' }),\n          'Firefox'\n        ),\n        _react2['default'].createElement(\n          'div',\n          { className: 'selectbox-wrapper' },\n          _react2['default'].createElement(\n            'select',\n            { className: 'version', value: 'version:fx24' },\n            _react2['default'].createElement(\n              'option',\n              { value: 'version:fx26', 'data-min': '26.0', 'data-max': '27.0' },\n              'Version 26'\n            ),\n            _react2['default'].createElement(\n              'option',\n              { value: 'version:fx25', 'data-min': '25.0', 'data-max': '26.0' },\n              'Version 25'\n            ),\n            _react2['default'].createElement(\n              'option',\n              { value: 'version:fx24', 'data-min': '24.0', 'data-max': '25.0' },\n              'Version 24'\n            ),\n            _react2['default'].createElement(\n              'option',\n              { value: 'version:fx23', 'data-min': '23.0', 'data-max': '24.0' },\n              'Version 23'\n            ),\n            _react2['default'].createElement(\n              'option',\n              { value: 'version:fx17', 'data-min': '17.0', 'data-max': '18.0' },\n              'Version 17 (ESR)'\n            )\n          )\n        ),\n        _react2['default'].createElement(\n          'div',\n          { className: 'selectbox-wrapper' },\n          _react2['default'].createElement(\n            'select',\n            { className: 'platform' },\n            _react2['default'].createElement(\n              'option',\n              { value: 'platform:win8' },\n              'Windows 8'\n            ),\n            _react2['default'].createElement(\n              'option',\n              { value: 'platform:win7' },\n              'Windows 7/Vista'\n            ),\n            _react2['default'].createElement(\n              'option',\n              { value: 'platform:winxp' },\n              'Windows XP'\n            ),\n            _react2['default'].createElement(\n              'option',\n              { value: 'platform:mac' },\n              'Mac'\n            ),\n            _react2['default'].createElement(\n              'option',\n              { value: 'platform:linux' },\n              'Linux'\n            )\n          )\n        )\n      ),\n      _react2['default'].createElement(\n        'div',\n        { className: 'product', 'data-product': 'mobile' },\n        _react2['default'].createElement(\n          'h2',\n          null,\n          _react2['default'].createElement('input', { type: 'checkbox', defaultChecked: true, value: 'product:mobile' }),\n          'Firefox for Android'\n        ),\n        _react2['default'].createElement(\n          'div',\n          { className: 'selectbox-wrapper' },\n          _react2['default'].createElement(\n            'select',\n            { className: 'version', value: 'version:m24' },\n            _react2['default'].createElement(\n              'option',\n              { value: 'version:m26', 'data-min': '26.0', 'data-max': '27.0' },\n              'Version 26'\n            ),\n            _react2['default'].createElement(\n              'option',\n              { value: 'version:m25', 'data-min': '25.0', 'data-max': '26.0' },\n              'Version 25'\n            ),\n            _react2['default'].createElement(\n              'option',\n              { value: 'version:m24', 'data-min': '24.0', 'data-max': '25.0' },\n              'Version 24'\n            ),\n            _react2['default'].createElement(\n              'option',\n              { value: 'version:m23', 'data-min': '23.0', 'data-max': '24.0' },\n              'Version 23'\n            )\n          )\n        )\n      ),\n      _react2['default'].createElement('script', { type: 'application/json', className: 'showfor-data', dangerouslySetInnerHTML: { __html: JSON.stringify({\n            platforms: {\n              firefox: [{ title: 'Linux', slug: 'linux', visible: true }, { title: 'Mac', slug: 'mac', visible: true }, { title: 'Windows XP', slug: 'winxp', visible: true }, { title: 'Windows 7', slug: 'win7', visible: true }, { title: 'Windows 8', slug: 'win8', visible: true }, { title: 'Windows 10', slug: 'win10', visible: true }],\n              mobile: [{ slug: 'android' }],\n              'firefox-os': [{ slug: 'web' }]\n            },\n            products: [{ slug: 'firefox', title: 'Firefox', platforms: ['linux', 'mac', 'winxp', 'win7', 'win8'] }, { slug: 'mobile', title: 'Firefox for Android', platforms: ['android'] }, { slug: 'firefox-os', title: 'Firefox OS', platforms: ['web'] }],\n            'versions': {\n              firefox: [{ product: 'firefox', name: 'Version 26', 'default': false, min_version: 26.0, max_version: 27.0, slug: 'fx26' }, { product: 'firefox', name: 'Version 25', 'default': false, min_version: 25.0, max_version: 26.0, slug: 'fx25' }, { product: 'firefox', name: 'Version 24', 'default': true, min_version: 24.0, max_version: 25.0, slug: 'fx24' }, { product: 'firefox', name: 'Version 23', 'default': false, min_version: 23.0, max_version: 24.0, slug: 'fx23' }, { product: 'firefox', name: 'Version 17 (ESR)', 'default': false, min_version: 17.0, max_version: 18.0, slug: 'fx17' }],\n              mobile: [{ product: 'mobile', name: 'Version 26', 'default': false, min_version: 26.0, max_version: 27.0, slug: 'm26' }, { product: 'mobile', name: 'Version 25', 'default': false, min_version: 25.0, max_version: 26.0, slug: 'm25' }, { product: 'mobile', name: 'Version 24', 'default': true, min_version: 24.0, max_version: 25.0, slug: 'm24' }, { product: 'mobile', name: 'Version 23', 'default': false, min_version: 23.0, max_version: 24.0, slug: 'm23' }]\n            }\n          }) } })\n    );\n\n    _react2['default'].render(sandbox, document.body);\n    showFor = showForNoInit($('body'));\n  });\n\n  describe('loadData', function () {\n    beforeEach(function () {\n      showFor.loadData();\n    });\n\n    it('should set the data attribute', function () {\n      (0, _chai.expect)(showFor.data.products).to.have.length(3);\n      (0, _chai.expect)(showFor.data.versions.firefox).to.have.length(5);\n    });\n\n    it('should pull the denormalized forms out of the data', function () {\n      unorderedEquals(showFor.productSlugs, ['firefox', 'mobile', 'firefox-os']);\n      unorderedEquals(showFor.platformSlugs, ['web', 'android', 'linux', 'mac', 'winxp', 'win7', 'win8', 'win10']);\n      (0, _chai.expect)(showFor.versionSlugs).to.have.property('m24', 'mobile');\n    });\n  });\n\n  describe('updateUI', function () {\n    describe('Firefox 26 on Windows XP', function () {\n      (0, _fixturesMochaBrowserDetectJs2['default'])({\n        browser: 'fx',\n        version: 26.0,\n        OS: 'winxp'\n      });\n\n      beforeEach(function () {\n        showFor.loadData();\n        showFor.updateUI();\n      });\n\n      it('should populate the UI with the values from BrowserDetect', function () {\n        (0, _chai.expect)($('.product[data-product=firefox] select.version').val()).to.equal('version:fx26');\n        (0, _chai.expect)($('.product[data-product=firefox] select.platform').val()).to.equal('platform:winxp');\n      });\n    });\n\n    describe('Firefox for Android 23', function () {\n      (0, _fixturesMochaBrowserDetectJs2['default'])({\n        browser: 'm',\n        version: 23.0,\n        OS: 'android'\n      });\n\n      beforeEach(function () {\n        showFor.loadData();\n        showFor.updateUI();\n      });\n\n      it('should populate the UI with the values from BrowserDetect', function () {\n        (0, _chai.expect)($('.product[data-product=mobile] select.version').val()).to.equal('version:m23');\n        (0, _chai.expect)($('.product[data-product=mobile] select.platform')).to.have.length(0);\n      });\n    });\n  });\n\n  describe('updateState', function () {\n    (0, _fixturesMochaBrowserDetectJs2['default'])();\n\n    beforeEach(function () {\n      showFor.loadData();\n      showFor.updateUI();\n      showFor.updateState();\n    });\n\n    it('should have correct initial data', function () {\n      (0, _chai.expect)(showFor.state).to.deep.equal({\n        firefox: {\n          enabled: true,\n          platform: 'winxp',\n          version: {\n            min: 25,\n            max: 26,\n            slug: 'fx25'\n          }\n        },\n        mobile: {\n          enabled: true,\n          version: {\n            min: 24,\n            max: 25,\n            slug: 'm24'\n          }\n        }\n      });\n    });\n\n    it('should update after a change', function () {\n      $('[data-product=\"mobile\"] select.version').val('version:m26');\n      $('[data-product=\"firefox\"] select.platform').val('platform:linux');\n\n      // and expect(showFor.matchesCriteria)).to.beGain(\n      showFor.updateState();\n\n      (0, _chai.expect)(showFor.state).to.deep.equal({\n        firefox: {\n          enabled: true,\n          platform: 'linux',\n          version: {\n            min: 25,\n            max: 26,\n            slug: 'fx25'\n          }\n        },\n        mobile: {\n          enabled: true,\n          version: {\n            min: 26,\n            max: 27,\n            slug: 'm26'\n          }\n        }\n      });\n    });\n  });\n\n  describe('initShowFuncs', function () {\n    (0, _fixturesMochaBrowserDetectJs2['default'])();\n\n    beforeEach(function () {\n      _sinon2['default'].stub(showFor, 'matchesCriteria');\n      showFor.loadData();\n      showFor.updateUI();\n      showFor.updateState();\n      showFor.initShowFuncs();\n    });\n\n    afterEach(function () {\n      showFor.matchesCriteria.restore();\n    });\n\n    it('should bind `show-func` functions to `.for` elements', function () {\n      // Don't use an arrow function here, because jQuery.forEach passes\n      // the element as `this`.\n      $('.for').each(function () {\n        var callFunc = $(this).data('show-func');\n        (0, _chai.expect)(callFunc).to.be['instanceof'](Function);\n        $(this).data('show-func')();\n      });\n      (0, _chai.expect)(showFor.matchesCriteria.args).to.deep.equal([[['fx24']], [['fx24', 'win']], [['=fx25']], [['not m25']]]);\n    });\n  });\n\n  describe('showAndHide', function () {\n    (0, _fixturesMochaBrowserDetectJs2['default'])();\n\n    beforeEach(function () {\n      showFor.loadData();\n      showFor.updateUI();\n      showFor.updateState();\n    });\n\n    it('should show and hide elements correctly', function () {\n      var $elems = $('.for');\n      var yes = function yes() {\n        return true;\n      };\n      var no = function no() {\n        return false;\n      };\n\n      $elems.eq(0).data('show-func', yes);\n      $elems.eq(1).data('show-func', no);\n      $elems.eq(2).data('show-func', no);\n      // Number 3 doesn't get a show-func, so it should default to visible\n\n      showFor.showAndHide();\n\n      (0, _chai.expect)($elems.eq(0).css('display')).to.equal('');\n      (0, _chai.expect)($elems.eq(1).css('display')).to.equal('none');\n      (0, _chai.expect)($elems.eq(2).css('display')).to.equal('none');\n      (0, _chai.expect)($elems.eq(3).css('display')).to.equal('');\n    });\n  });\n\n  describe('matchesCriteria', function () {\n    (0, _fixturesMochaBrowserDetectJs2['default'])();\n\n    beforeEach(function () {\n      showFor.loadData();\n    });\n\n    describe('single product', function () {\n      beforeEach(function () {\n        showFor.state = {\n          firefox: {\n            enabled: true,\n            platform: 'win8',\n            version: {\n              min: 24,\n              max: 25,\n              slug: 'fx24'\n            }\n          }\n        };\n      });\n\n      it('should handle simple selectors', function () {\n        (0, _chai.expect)(showFor.matchesCriteria(['fx23'])).to.beTrue();\n        (0, _chai.expect)(showFor.matchesCriteria(['fx24'])).to.beTrue();\n        (0, _chai.expect)(showFor.matchesCriteria(['fx25'])).to.beFalse();\n        (0, _chai.expect)(showFor.matchesCriteria(['=fx23'])).to.beFalse();\n        (0, _chai.expect)(showFor.matchesCriteria(['=fx24'])).to.beTrue();\n        (0, _chai.expect)(showFor.matchesCriteria(['=fx25'])).to.beFalse();\n      });\n\n      it('should handle selectors with version and platform', function () {\n        (0, _chai.expect)(showFor.matchesCriteria(['fx23', 'win8'])).to.beTrue();\n        (0, _chai.expect)(showFor.matchesCriteria(['fx24', 'win8'])).to.beTrue();\n        (0, _chai.expect)(showFor.matchesCriteria(['fx24', 'win'])).to.beTrue();\n        (0, _chai.expect)(showFor.matchesCriteria(['fx24', 'linux'])).to.beFalse();\n        (0, _chai.expect)(showFor.matchesCriteria(['fx25', 'win8'])).to.beFalse();\n        (0, _chai.expect)(showFor.matchesCriteria(['fx25', 'win'])).to.beFalse();\n        (0, _chai.expect)(showFor.matchesCriteria(['fx25', 'linux'])).to.beFalse();\n      });\n\n      it('should handle `not` with a single selector', function () {\n        (0, _chai.expect)(showFor.matchesCriteria(['not fx23'])).to.beFalse();\n        (0, _chai.expect)(showFor.matchesCriteria(['not fx24'])).to.beFalse();\n        (0, _chai.expect)(showFor.matchesCriteria(['not fx25'])).to.beTrue();\n        (0, _chai.expect)(showFor.matchesCriteria(['not =fx23'])).to.beTrue();\n        (0, _chai.expect)(showFor.matchesCriteria(['not =fx24'])).to.beFalse();\n        (0, _chai.expect)(showFor.matchesCriteria(['not =fx25'])).to.beTrue();\n      });\n\n      it('should handle `not` with multiple selectors', function () {\n        (0, _chai.expect)(showFor.matchesCriteria(['not fx23', 'win'])).to.beFalse();\n        (0, _chai.expect)(showFor.matchesCriteria(['not fx24', 'win'])).to.beFalse();\n        (0, _chai.expect)(showFor.matchesCriteria(['not fx25', 'win'])).to.beTrue();\n\n        (0, _chai.expect)(showFor.matchesCriteria(['not fx23', 'linux'])).to.beFalse();\n        (0, _chai.expect)(showFor.matchesCriteria(['not fx24', 'linux'])).to.beFalse();\n        (0, _chai.expect)(showFor.matchesCriteria(['not fx25', 'linux'])).to.beFalse();\n\n        (0, _chai.expect)(showFor.matchesCriteria(['not fx23', 'not win'])).to.beFalse();\n        (0, _chai.expect)(showFor.matchesCriteria(['not fx24', 'not win'])).to.beFalse();\n        (0, _chai.expect)(showFor.matchesCriteria(['not fx25', 'not win'])).to.beFalse();\n\n        (0, _chai.expect)(showFor.matchesCriteria(['not fx23', 'not linux'])).to.beFalse();\n        (0, _chai.expect)(showFor.matchesCriteria(['not fx24', 'not linux'])).to.beFalse();\n        (0, _chai.expect)(showFor.matchesCriteria(['not fx25', 'not linux'])).to.beTrue();\n      });\n    });\n\n    describe('mixed products', function () {\n      beforeEach(function () {\n        showFor.state = {\n          firefox: {\n            enabled: true,\n            platform: 'win8',\n            version: { min: 24, max: 25, slug: 'fx24' }\n          },\n          mobile: {\n            enabled: true,\n            version: { min: 24, max: 25, slug: 'm24' }\n          }\n        };\n      });\n\n      it('should handle two products as an OR', function () {\n        (0, _chai.expect)(showFor.matchesCriteria(['fx23', 'm23'])).to.beTrue();\n        (0, _chai.expect)(showFor.matchesCriteria(['fx23', 'm24'])).to.beTrue();\n        (0, _chai.expect)(showFor.matchesCriteria(['fx23', 'm25'])).to.beTrue();\n        (0, _chai.expect)(showFor.matchesCriteria(['fx24', 'm23'])).to.beTrue();\n        (0, _chai.expect)(showFor.matchesCriteria(['fx24', 'm24'])).to.beTrue();\n        (0, _chai.expect)(showFor.matchesCriteria(['fx24', 'm25'])).to.beTrue();\n        (0, _chai.expect)(showFor.matchesCriteria(['fx25', 'm23'])).to.beTrue();\n        (0, _chai.expect)(showFor.matchesCriteria(['fx25', 'm24'])).to.beTrue();\n        (0, _chai.expect)(showFor.matchesCriteria(['fx25', 'm25'])).to.beFalse();\n      });\n    });\n\n    describe('disabled products', function () {\n      beforeEach(function () {\n        showFor.state = {\n          firefox: {\n            enabled: true\n          },\n          mobile: {\n            enabled: false\n          }\n        };\n      });\n\n      it('should handle disabled product selectors', function () {\n        (0, _chai.expect)(showFor.matchesCriteria(['fx'])).to.beTrue();\n        (0, _chai.expect)(showFor.matchesCriteria(['m'])).to.beFalse();\n        (0, _chai.expect)(showFor.matchesCriteria(['fx', 'm'])).to.beTrue();\n\n        (0, _chai.expect)(showFor.matchesCriteria(['not fx'])).to.beFalse();\n        (0, _chai.expect)(showFor.matchesCriteria(['not m'])).to.beTrue();\n        (0, _chai.expect)(showFor.matchesCriteria(['not fx', 'm'])).to.beFalse();\n        (0, _chai.expect)(showFor.matchesCriteria(['fx', 'not m'])).to.beTrue();\n        (0, _chai.expect)(showFor.matchesCriteria(['not fx', 'not m'])).to.beTrue();\n      });\n    });\n\n    describe('windows special cases', function () {\n      beforeEach(function () {\n        showFor.state = {\n          firefox: {\n            enabled: true,\n            platform: 'win8'\n          }\n        };\n      });\n\n      it('should recognize `win` as all version of windows', function () {\n        var winTestCases = {\n          'winxp': true,\n          'win7': true,\n          'win8': true,\n          'win10': true,\n          'linux': false,\n          'mac': false\n        };\n\n        for (var winVersion in winTestCases) {\n          var expected = winTestCases[winVersion];\n          showFor.state.firefox.platform = winVersion;\n          (0, _chai.expect)(showFor.matchesCriteria(['win'])).to.equal(expected);\n          (0, _chai.expect)(showFor.matchesCriteria(['not win'])).to.equal(!expected);\n        }\n      });\n    });\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9hcHAva2l0c3VuZS9zdW1vL3N0YXRpYy9zdW1vL2pzL3Rlc3RzL3Nob3dmb3J0ZXN0cy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O3FCQUFrQixPQUFPOzs7OzBCQUNzQixhQUFhOzs7O29CQUN0QixNQUFNOzs7O3dCQUN2QixXQUFXOzs7O3FCQUNkLE9BQU87Ozs7cUNBRUQsMkJBQTJCOzs7OzRDQUNwQixrQ0FBa0M7Ozs7QUFFakUsa0JBQUssR0FBRyx1QkFBVSxDQUFDOzs7Ozs7O0FBT25CLFNBQVMsYUFBYSxDQUFDLFFBQVEsRUFBRTtBQUMvQixNQUFJLEVBQUUsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUM7QUFDakQsSUFBRSxDQUFDLFVBQVUsR0FBRyxRQUFRLENBQUM7QUFDekIsSUFBRSxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUM7QUFDZCxTQUFPLEVBQUUsQ0FBQztDQUNYOztBQUVELFNBQVMsZUFBZSxDQUFDLElBQUksRUFBRSxJQUFJLEVBQUU7QUFDbkMsTUFBSSxVQUFVLEdBQUcsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQzdCLE1BQUksVUFBVSxHQUFHLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUM3QixvQkFBTyxVQUFVLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsQ0FBQztDQUM5Qzs7QUFHRCxRQUFRLENBQUMsU0FBUyxFQUFFLFlBQU07QUFDeEIsK0JBQVcsRUFBQyxPQUFPLEVBQUUsSUFBSSxFQUFDLENBQUMsQ0FBQztBQUM1QiwyQ0FBYSxDQUFDOztBQUVkLE1BQUksT0FBTyxZQUFBLENBQUM7O0FBRVosWUFBVSxDQUFDLFlBQU07QUFDZiwrQkFBVSxlQUFlLENBQUMsQ0FBQzs7O0FBRzNCLFFBQUksT0FBTyxHQUNUOzs7TUFDRSwyQ0FBTSxTQUFTLEVBQUMsS0FBSyxFQUFDLFlBQVMsTUFBTSxH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LE9BQU8sQ0FBQyxlQUFlLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDO0FBQ3RELDBCQUFPLE9BQU8sQ0FBQyxlQUFlLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDO0FBQ3RELDBCQUFPLE9BQU8sQ0FBQyxlQUFlLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDO0FBQ3ZELDBCQUFPLE9BQU8sQ0FBQyxlQUFlLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDO0FBQ3hELDBCQUFPLE9BQU8sQ0FBQyxlQUFlLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDO0FBQ3ZELDBCQUFPLE9BQU8sQ0FBQyxlQUFlLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDO09BQ3pELENBQUMsQ0FBQzs7QUFFSCxRQUFFLENBQUMsbURBQW1ELEVBQUUsWUFBTTtBQUM1RCwwQkFBTyxPQUFPLENBQUMsZUFBZSxDQUFDLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUM7QUFDOUQsMEJBQU8sT0FBTyxDQUFDLGVBQWUsQ0FBQyxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDO0FBQzlELDBCQUFPLE9BQU8sQ0FBQyxlQUFlLENBQUMsQ0FBQyxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQztBQUM3RCwwQkFBTyxPQUFPLENBQUMsZUFBZSxDQUFDLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUM7QUFDaEUsMEJBQU8sT0FBTyxDQUFDLGVBQWUsQ0FBQyxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDO0FBQy9ELDBCQUFPLE9BQU8sQ0FBQyxlQUFlLENBQUMsQ0FBQyxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQztBQUM5RCwwQkFBTyxPQUFPLENBQUMsZUFBZSxDQUFDLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUM7T0FDakUsQ0FBQyxDQUFDOztBQUVILFFBQUUsQ0FBQyw0Q0FBNEMsRUFBRSxZQUFNO0FBQ3JELDBCQUFPLE9BQU8sQ0FBQyxlQUFlLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDO0FBQzNELDBCQUFPLE9BQU8sQ0FBQyxlQUFlLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDO0FBQzNELDBCQUFPLE9BQU8sQ0FBQyxlQUFlLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDO0FBQzFELDBCQUFPLE9BQU8sQ0FBQyxlQUFlLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDO0FBQzNELDBCQUFPLE9BQU8sQ0FBQyxlQUFlLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDO0FBQzVELDBCQUFPLE9BQU8sQ0FBQyxlQUFlLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDO09BQzVELENBQUMsQ0FBQzs7QUFFSCxRQUFFLENBQUMsNkNBQTZDLEVBQUUsWUFBTTtBQUN0RCwwQkFBTyxPQUFPLENBQUMsZUFBZSxDQUFDLENBQUMsVUFBVSxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUM7QUFDbEUsMEJBQU8sT0FBTyxDQUFDLGVBQWUsQ0FBQyxDQUFDLFVBQVUsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDO0FBQ2xFLDBCQUFPLE9BQU8sQ0FBQyxlQUFlLENBQUMsQ0FBQyxVQUFVLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQzs7QUFFakUsMEJBQU8sT0FBTyxDQUFDLGVBQWUsQ0FBQyxDQUFDLFVBQVUsRUFBRSxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDO0FBQ3BFLDBCQUFPLE9BQU8sQ0FBQyxlQUFlLENBQUMsQ0FBQyxVQUFVLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQztBQUNwRSwwQkFBTyxPQUFPLENBQUMsZUFBZSxDQUFDLENBQUMsVUFBVSxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUM7O0FBRXBFLDBCQUFPLE9BQU8sQ0FBQyxlQUFlLENBQUMsQ0FBQyxVQUFVLEVBQUUsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQztBQUN0RSwwQkFBTyxPQUFPLENBQUMsZUFBZSxDQUFDLENBQUMsVUFBVSxFQUFFLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUM7QUFDdEUsMEJBQU8sT0FBTyxDQUFDLGVBQWUsQ0FBQyxDQUFDLFVBQVUsRUFBRSxTQUFTLENBQUMsQ0FBQyxD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QUFVLENBQUMsWUFBTTtBQUNmLGVBQU8sQ0FBQyxLQUFLLEdBQUc7QUFDZCxpQkFBTyxFQUFFO0FBQ1AsbUJBQU8sRUFBRSxJQUFJO0FBQ2Isb0JBQVEsRUFBRSxNQUFNO1dBQ2pCO1NBQ0YsQ0FBQztPQUNILENBQUMsQ0FBQzs7QUFFSCxRQUFFLENBQUMsa0RBQWtELEVBQUUsWUFBTTtBQUMzRCxZQUFJLFlBQVksR0FBRztBQUNqQixpQkFBTyxFQUFFLElBQUk7QUFDYixnQkFBTSxFQUFFLElBQUk7QUFDWixnQkFBTSxFQUFFLElBQUk7QUFDWixpQkFBTyxFQUFFLElBQUk7QUFDYixpQkFBTyxFQUFFLEtBQUs7QUFDZCxlQUFLLEVBQUUsS0FBSztTQUNiLENBQUM7O0FBRUYsYUFBSyxJQUFJLFVBQVUsSUFBSSxZQUFZLEVBQUU7QUFDbkMsY0FBSSxRQUFRLEdBQUcsWUFBWSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0FBQ3hDLGlCQUFPLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxRQUFRLEdBQUcsVUFBVSxDQUFDO0FBQzVDLDRCQUFPLE9BQU8sQ0FBQyxlQUFlLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUM1RCw0QkFBTyxPQUFPLENBQUMsZUFBZSxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQztTQUNsRTtPQUNGLENBQUMsQ0FBQztLQUNKLENBQUMsQ0FBQztHQUNKLENBQUMsQ0FBQztDQUNKLENBQUMsQ0FBQyIsImZpbGUiOiIvYXBwL2tpdHN1bmUvc3Vtby9zdGF0aWMvc3Vtby9qcy90ZXN0cy9zaG93Zm9ydGVzdHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHtkZWZhdWx0IGFzIG1vY2hhSnNkb20sIHJlcmVxdWlyZX0gZnJvbSAnbW9jaGEtanNkb20nO1xuaW1wb3J0IHtkZWZhdWx0IGFzIGNoYWksIGV4cGVjdH0gZnJvbSAnY2hhaSc7XG5pbXBvcnQgY2hhaUxpbnQgZnJvbSAnY2hhaS1saW50JztcbmltcG9ydCBzaW5vbiBmcm9tICdzaW5vbic7XG5cbmltcG9ydCBtb2NoYUpxdWVyeSBmcm9tICcuL2ZpeHR1cmVzL21vY2hhSnF1ZXJ5LmpzJztcbmltcG9ydCBtb2NoYUJyb3dzZXJEZXRlY3QgZnJvbSAnLi9maXh0dXJlcy9tb2NoYUJyb3dzZXJEZXRlY3QuanMnO1xuXG5jaGFpLnVzZShjaGFpTGludCk7XG5cbi8qXG4qIFJldHVybnMgYW4gb2JqZWN0IHdpdGggdGhlIHNhbWUgcHJvdG90eXBlIGFuZCBwcm9wZXJ0aWVzIGFzIGEgU2hvd0ZvclxuKiBvYmplY3QsIGJ1dCBmb3Igd2hpY2ggdGhlIFNob3dGb3IgY29uc3RydWN0b3IgaXMgbm90IGNhbGxlZC4gSXQgd2lsbFxuKiBiZSBib3VuZCB0byB0aGUgcGFzc2VkICRzYW5kYm94LlxuKi9cbmZ1bmN0aW9uIHNob3dGb3JOb0luaXQoJHNhbmRib3gpIHtcbiAgbGV0IHNmID0gT2JqZWN0LmNyZWF0ZSh3aW5kb3cuU2hvd0Zvci5wcm90b3R5cGUpO1xuICBzZi4kY29udGFpbmVyID0gJHNhbmRib3g7XG4gIHNmLnN0YXRlID0ge307XG4gIHJldHVybiBzZjtcbn1cblxuZnVuY3Rpb24gdW5vcmRlcmVkRXF1YWxzKGFycjEsIGFycjIpIHtcbiAgbGV0IGFycjFTb3J0ZWQgPSBhcnIxLnNvcnQoKTtcbiAgbGV0IGFycjJTb3J0ZWQgPSBhcnIyLnNvcnQoKTtcbiAgZXhwZWN0KGFycjFTb3J0ZWQpLnRvLmRlZXAuZXF1YWwoYXJyMlNvcnRlZCk7XG59XG5cblxuZGVzY3JpYmUoJ1Nob3dGb3InLCAoKSA9PiB7XG4gIG1vY2hhSnNkb20oe3VzZUVhY2g6IHRydWV9KTtcbiAgbW9jaGFKcXVlcnkoKTtcbiAgLyogZ2xvYmFscyB3aW5kb3csIGRvY3VtZW50LCAkICovXG4gIGxldCBzaG93Rm9yO1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIHJlcmVxdWlyZSgnLi4vc2hvd2Zvci5qcycpO1xuXG4gICAgLy8gV293LiBUaGF0J3MgYSBsb3Qgb2YgZGF0YS4gQ2FuIHdlIG1ha2UgdGhpcyBzbWFsbGVyP1xuICAgIGxldCBzYW5kYm94ID0gKFxuICAgICAgPGRpdj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9yXCIgZGF0YS1mb3I9XCJmeDI0XCI+PC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb3JcIiBkYXRhLWZvcj1cImZ4MjQsd2luXCI+PC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb3JcIiBkYXRhLWZvcj1cIj1meDI1XCI+PC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb3JcIiBkYXRhLWZvcj1cIm5vdCBtMjVcIj48L3NwYW4+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcm9kdWN0XCIgZGF0YS1wcm9kdWN0PVwiZmlyZWZveFwiPlxuICAgICAgICAgIDxoMj5cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBkZWZhdWx0Q2hlY2tlZCB2YWx1ZT1cInByb2R1Y3Q6ZmlyZWZveFwiLz5cbiAgICAgICAgICAgIEZpcmVmb3hcbiAgICAgICAgICA8L2gyPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VsZWN0Ym94LXdyYXBwZXJcIj5cbiAgICAgICAgICAgIDxzZWxlY3QgY2xhc3NOYW1lPVwidmVyc2lvblwiIHZhbHVlPVwidmVyc2lvbjpmeDI0XCI+XG4gICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJ2ZXJzaW9uOmZ4MjZcIiBkYXRhLW1pbj1cIjI2LjBcIiBkYXRhLW1heD1cIjI3LjBcIj5WZXJzaW9uIDI2PC9vcHRpb24+XG4gICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJ2ZXJzaW9uOmZ4MjVcIiBkYXRhLW1pbj1cIjI1LjBcIiBkYXRhLW1heD1cIjI2LjBcIj5WZXJzaW9uIDI1PC9vcHRpb24+XG4gICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJ2ZXJzaW9uOmZ4MjRcIiBkYXRhLW1pbj1cIjI0LjBcIiBkYXRhLW1heD1cIjI1LjBcIj5WZXJzaW9uIDI0PC9vcHRpb24+XG4gICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJ2ZXJzaW9uOmZ4MjNcIiBkYXRhLW1pbj1cIjIzLjBcIiBkYXRhLW1heD1cIjI0LjBcIj5WZXJzaW9uIDIzPC9vcHRpb24+XG4gICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJ2ZXJzaW9uOmZ4MTdcIiBkYXRhLW1pbj1cIjE3LjBcIiBkYXRhLW1heD1cIjE4LjBcIj5WZXJzaW9uIDE3IChFU1IpPC9vcHRpb24+XG4gICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlbGVjdGJveC13cmFwcGVyXCI+XG4gICAgICAgICAgICA8c2VsZWN0IGNsYXNzTmFtZT1cInBsYXRmb3JtXCI+XG4gICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJwbGF0Zm9ybTp3aW44XCI+V2luZG93cyA4PC9vcHRpb24+XG4gICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJwbGF0Zm9ybTp3aW43XCI+V2luZG93cyA3L1Zpc3RhPC9vcHRpb24+XG4gICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJwbGF0Zm9ybTp3aW54cFwiPldpbmRvd3MgWFA8L29wdGlvbj5cbiAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInBsYXRmb3JtOm1hY1wiPk1hYzwvb3B0aW9uPlxuICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwicGxhdGZvcm06bGludXhcIj5MaW51eDwvb3B0aW9uPlxuICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHJvZHVjdFwiIGRhdGEtcHJvZHVjdD1cIm1vYmlsZVwiPlxuICAgICAgICAgIDxoMj5cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBkZWZhdWx0Q2hlY2tlZCB2YWx1ZT1cInByb2R1Y3Q6bW9iaWxlXCIvPlxuICAgICAgICAgICAgRmlyZWZveCBmb3IgQW5kcm9pZFxuICAgICAgICAgIDwvaDI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZWxlY3Rib3gtd3JhcHBlclwiPlxuICAgICAgICAgICAgPHNlbGVjdCBjbGFzc05hbWU9XCJ2ZXJzaW9uXCIgdmFsdWU9XCJ2ZXJzaW9uOm0yNFwiPlxuICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwidmVyc2lvbjptMjZcIiBkYXRhLW1pbj1cIjI2LjBcIiBkYXRhLW1heD1cIjI3LjBcIj5WZXJzaW9uIDI2PC9vcHRpb24+XG4gICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJ2ZXJzaW9uOm0yNVwiIGRhdGEtbWluPVwiMjUuMFwiIGRhdGEtbWF4PVwiMjYuMFwiPlZlcnNpb24gMjU8L29wdGlvbj5cbiAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInZlcnNpb246bTI0XCIgZGF0YS1taW49XCIyNC4wXCIgZGF0YS1tYXg9XCIyNS4wXCI+VmVyc2lvbiAyNDwvb3B0aW9uPlxuICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwidmVyc2lvbjptMjNcIiBkYXRhLW1pbj1cIjIzLjBcIiBkYXRhLW1heD1cIjI0LjBcIj5WZXJzaW9uIDIzPC9vcHRpb24+XG4gICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPHNjcmlwdCB0eXBlPVwiYXBwbGljYXRpb24vanNvblwiIGNsYXNzTmFtZT1cInNob3dmb3ItZGF0YVwiIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7X19odG1sOiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgcGxhdGZvcm1zOiB7XG4gICAgICAgICAgICBmaXJlZm94OiBbXG4gICAgICAgICAgICAgIHt0aXRsZTogJ0xpbnV4Jywgc2x1ZzogJ2xpbnV4JywgdmlzaWJsZTogdHJ1ZX0sXG4gICAgICAgICAgICAgIHt0aXRsZTogJ01hYycsIHNsdWc6ICdtYWMnLCB2aXNpYmxlOiB0cnVlfSxcbiAgICAgICAgICAgICAge3RpdGxlOiAnV2luZG93cyBYUCcsIHNsdWc6ICd3aW54cCcsIHZpc2libGU6IHRydWV9LFxuICAgICAgICAgICAgICB7dGl0bGU6ICdXaW5kb3dzIDcnLCBzbHVnOiAnd2luNycsIHZpc2libGU6IHRydWV9LFxuICAgICAgICAgICAgICB7dGl0bGU6ICdXaW5kb3dzIDgnLCBzbHVnOiAnd2luOCcsIHZpc2libGU6IHRydWV9LFxuICAgICAgICAgICAgICB7dGl0bGU6ICdXaW5kb3dzIDEwJywgc2x1ZzogJ3dpbjEwJywgdmlzaWJsZTogdHJ1ZX0sXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgbW9iaWxlOiBbe3NsdWc6ICdhbmRyb2lkJ31dLFxuICAgICAgICAgICAgJ2ZpcmVmb3gtb3MnOiBbe3NsdWc6ICd3ZWInfV0sXG4gICAgICAgICAgfSxcbiAgICAgICAgICBwcm9kdWN0czogW1xuICAgICAgICAgICAge3NsdWc6ICdmaXJlZm94JywgdGl0bGU6ICdGaXJlZm94JywgcGxhdGZvcm1zOiBbJ2xpbnV4JywgJ21hYycsICd3aW54cCcsICd3aW43JywgJ3dpbjgnXX0sXG4gICAgICAgICAgICB7c2x1ZzogJ21vYmlsZScsIHRpdGxlOiAnRmlyZWZveCBmb3IgQW5kcm9pZCcsIHBsYXRmb3JtczogWydhbmRyb2lkJ119LFxuICAgICAgICAgICAge3NsdWc6ICdmaXJlZm94LW9zJywgdGl0bGU6ICdGaXJlZm94IE9TJywgcGxhdGZvcm1zOiBbJ3dlYiddfSxcbiAgICAgICAgICBdLFxuICAgICAgICAgICd2ZXJzaW9ucyc6IHtcbiAgICAgICAgICAgIGZpcmVmb3g6IFtcbiAgICAgICAgICAgICAge3Byb2R1Y3Q6ICdmaXJlZm94JywgbmFtZTogJ1ZlcnNpb24gMjYnLCBkZWZhdWx0OiBmYWxzZSwgbWluX3ZlcnNpb246IDI2LjAsIG1heF92ZXJzaW9uOiAyNy4wLCBzbHVnOiAnZngyNid9LFxuICAgICAgICAgICAgICB7cHJvZHVjdDogJ2ZpcmVmb3gnLCBuYW1lOiAnVmVyc2lvbiAyNScsIGRlZmF1bHQ6IGZhbHNlLCBtaW5fdmVyc2lvbjogMjUuMCwgbWF4X3ZlcnNpb246IDI2LjAsIHNsdWc6ICdmeDI1J30sXG4gICAgICAgICAgICAgIHtwcm9kdWN0OiAnZmlyZWZveCcsIG5hbWU6ICdWZXJzaW9uIDI0JywgZGVmYXVsdDogdHJ1ZSwgbWluX3ZlcnNpb246IDI0LjAsIG1heF92ZXJzaW9uOiAyNS4wLCBzbHVnOiAnZngyNCd9LFxuICAgICAgICAgICAgICB7cHJvZHVjdDogJ2ZpcmVmb3gnLCBuYW1lOiAnVmVyc2lvbiAyMycsIGRlZmF1bHQ6IGZhbHNlLCBtaW5fdmVyc2lvbjogMjMuMCwgbWF4X3ZlcnNpb246IDI0LjAsIHNsdWc6ICdmeDIzJ30sXG4gICAgICAgICAgICAgIHtwcm9kdWN0OiAnZmlyZWZveCcsIG5hbWU6ICdWZXJzaW9uIDE3IChFU1IpJywgZGVmYXVsdDogZmFsc2UsIG1pbl92ZXJzaW9uOiAxNy4wLCBtYXhfdmVyc2lvbjogMTguMCwgc2x1ZzogJ2Z4MTcnfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBtb2JpbGU6IFtcbiAgICAgICAgICAgICAge3Byb2R1Y3Q6ICdtb2JpbGUnLCBuYW1lOiAnVmVyc2lvbiAyNicsIGRlZmF1bHQ6IGZhbHNlLCBtaW5fdmVyc2lvbjogMjYuMCwgbWF4X3ZlcnNpb246IDI3LjAsIHNsdWc6ICdtMjYnfSxcbiAgICAgICAgICAgICAge3Byb2R1Y3Q6ICdtb2JpbGUnLCBuYW1lOiAnVmVyc2lvbiAyNScsIGRlZmF1bHQ6IGZhbHNlLCBtaW5fdmVyc2lvbjogMjUuMCwgbWF4X3ZlcnNpb246IDI2LjAsIHNsdWc6ICdtMjUnfSxcbiAgICAgICAgICAgICAge3Byb2R1Y3Q6ICdtb2JpbGUnLCBuYW1lOiAnVmVyc2lvbiAyNCcsIGRlZmF1bHQ6IHRydWUsIG1pbl92ZXJzaW9uOiAyNC4wLCBtYXhfdmVyc2lvbjogMjUuMCwgc2x1ZzogJ20yNCd9LFxuICAgICAgICAgICAgICB7cHJvZHVjdDogJ21vYmlsZScsIG5hbWU6ICdWZXJzaW9uIDIzJywgZGVmYXVsdDogZmFsc2UsIG1pbl92ZXJzaW9uOiAyMy4wLCBtYXhfdmVyc2lvbjogMjQuMCwgc2x1ZzogJ20yMyd9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICB9XG4gICAgICAgIH0pfX0vPlxuICAgICAgPC9kaXY+XG4gICAgKTtcblxuICAgIFJlYWN0LnJlbmRlcihzYW5kYm94LCBkb2N1bWVudC5ib2R5KTtcbiAgICBzaG93Rm9yID0gc2hvd0Zvck5vSW5pdCgkKCdib2R5JykpO1xuICB9KTtcblxuICBkZXNjcmliZSgnbG9hZERhdGEnLCAoKSA9PiB7XG4gICAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgICBzaG93Rm9yLmxvYWREYXRhKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHNldCB0aGUgZGF0YSBhdHRyaWJ1dGUnLCAoKSA9PiB7XG4gICAgICBleHBlY3Qoc2hvd0Zvci5kYXRhLnByb2R1Y3RzKS50by5oYXZlLmxlbmd0aCgzKTtcbiAgICAgIGV4cGVjdChzaG93Rm9yLmRhdGEudmVyc2lvbnMuZmlyZWZveCkudG8uaGF2ZS5sZW5ndGgoNSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHB1bGwgdGhlIGRlbm9ybWFsaXplZCBmb3JtcyBvdXQgb2YgdGhlIGRhdGEnLCAoKSA9PiB7XG4gICAgICB1bm9yZGVyZWRFcXVhbHMoc2hvd0Zvci5wcm9kdWN0U2x1Z3MsIFsnZmlyZWZveCcsICdtb2JpbGUnLCAnZmlyZWZveC1vcyddKTtcbiAgICAgIHVub3JkZXJlZEVxdWFscyhzaG93Rm9yLnBsYXRmb3JtU2x1Z3MsIFsnd2ViJywgJ2FuZHJvaWQnLCAnbGludXgnLCAnbWFjJywgJ3dpbnhwJywgJ3dpbjcnLCAnd2luOCcsICd3aW4xMCddKTtcbiAgICAgIGV4cGVjdChzaG93Rm9yLnZlcnNpb25TbHVncykudG8uaGF2ZS5wcm9wZXJ0eSgnbTI0JywgJ21vYmlsZScpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgndXBkYXRlVUknLCAoKSA9PiB7XG4gICAgZGVzY3JpYmUoJ0ZpcmVmb3ggMjYgb24gV2luZG93cyBYUCcsICgpID0+IHtcbiAgICAgIG1vY2hhQnJvd3NlckRldGVjdCh7XG4gICAgICAgIGJyb3dzZXI6ICdmeCcsXG4gICAgICAgIHZlcnNpb246IDI2LjAsXG4gICAgICAgIE9TOiAnd2lueHAnLFxuICAgICAgfSk7XG5cbiAgICAgIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgICAgICBzaG93Rm9yLmxvYWREYXRhKCk7XG4gICAgICAgIHNob3dGb3IudXBkYXRlVUkoKTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgnc2hvdWxkIHBvcHVsYXRlIHRoZSBVSSB3aXRoIHRoZSB2YWx1ZXMgZnJvbSBCcm93c2VyRGV0ZWN0JywgKCkgPT4ge1xuICAgICAgICBleHBlY3QoJCgnLnByb2R1Y3RbZGF0YS1wcm9kdWN0PWZpcmVmb3hdIHNlbGVjdC52ZXJzaW9uJykudmFsKCkpLnRvLmVxdWFsKCd2ZXJzaW9uOmZ4MjYnKTtcbiAgICAgICAgZXhwZWN0KCQoJy5wcm9kdWN0W2RhdGEtcHJvZHVjdD1maXJlZm94XSBzZWxlY3QucGxhdGZvcm0nKS52YWwoKSkudG8uZXF1YWwoJ3BsYXRmb3JtOndpbnhwJyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKCdGaXJlZm94IGZvciBBbmRyb2lkIDIzJywgKCkgPT4ge1xuICAgICAgbW9jaGFCcm93c2VyRGV0ZWN0KHtcbiAgICAgICAgYnJvd3NlcjogJ20nLFxuICAgICAgICB2ZXJzaW9uOiAyMy4wLFxuICAgICAgICBPUzogJ2FuZHJvaWQnLFxuICAgICAgfSk7XG5cbiAgICAgIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgICAgICBzaG93Rm9yLmxvYWREYXRhKCk7XG4gICAgICAgIHNob3dGb3IudXBkYXRlVUkoKTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgnc2hvdWxkIHBvcHVsYXRlIHRoZSBVSSB3aXRoIHRoZSB2YWx1ZXMgZnJvbSBCcm93c2VyRGV0ZWN0JywgKCkgPT4ge1xuICAgICAgICBleHBlY3QoJCgnLnByb2R1Y3RbZGF0YS1wcm9kdWN0PW1vYmlsZV0gc2VsZWN0LnZlcnNpb24nKS52YWwoKSkudG8uZXF1YWwoJ3ZlcnNpb246bTIzJyk7XG4gICAgICAgIGV4cGVjdCgkKCcucHJvZHVjdFtkYXRhLXByb2R1Y3Q9bW9iaWxlXSBzZWxlY3QucGxhdGZvcm0nKSkudG8uaGF2ZS5sZW5ndGgoMCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ3VwZGF0ZVN0YXRlJywgKCkgPT4ge1xuICAgIG1vY2hhQnJvd3NlckRldGVjdCgpO1xuXG4gICAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgICBzaG93Rm9yLmxvYWREYXRhKCk7XG4gICAgICBzaG93Rm9yLnVwZGF0ZVVJKCk7XG4gICAgICBzaG93Rm9yLnVwZGF0ZVN0YXRlKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhdmUgY29ycmVjdCBpbml0aWFsIGRhdGEnLCAoKSA9PiB7XG4gICAgICBleHBlY3Qoc2hvd0Zvci5zdGF0ZSkudG8uZGVlcC5lcXVhbCh7XG4gICAgICAgIGZpcmVmb3g6IHtcbiAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgIHBsYXRmb3JtOiAnd2lueHAnLFxuICAgICAgICAgIHZlcnNpb246IHtcbiAgICAgICAgICAgIG1pbjogMjUsXG4gICAgICAgICAgICBtYXg6IDI2LFxuICAgICAgICAgICAgc2x1ZzogJ2Z4MjUnLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIG1vYmlsZToge1xuICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgICAgdmVyc2lvbjoge1xuICAgICAgICAgICAgbWluOiAyNCxcbiAgICAgICAgICAgIG1heDogMjUsXG4gICAgICAgICAgICBzbHVnOiAnbTI0JyxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHVwZGF0ZSBhZnRlciBhIGNoYW5nZScsICgpID0+IHtcbiAgICAgICQoJ1tkYXRhLXByb2R1Y3Q9XCJtb2JpbGVcIl0gc2VsZWN0LnZlcnNpb24nKS52YWwoJ3ZlcnNpb246bTI2Jyk7XG4gICAgICAkKCdbZGF0YS1wcm9kdWN0PVwiZmlyZWZveFwiXSBzZWxlY3QucGxhdGZvcm0nKS52YWwoJ3BsYXRmb3JtOmxpbnV4Jyk7XG5cbiAgICAgIC8vIGFuZCBleHBlY3Qoc2hvd0Zvci5tYXRjaGVzQ3JpdGVyaWEpKS50by5iZUdhaW4oXG4gICAgICBzaG93Rm9yLnVwZGF0ZVN0YXRlKCk7XG5cbiAgICAgIGV4cGVjdChzaG93Rm9yLnN0YXRlKS50by5kZWVwLmVxdWFsKHtcbiAgICAgICAgZmlyZWZveDoge1xuICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgICAgcGxhdGZvcm06ICdsaW51eCcsXG4gICAgICAgICAgdmVyc2lvbjoge1xuICAgICAgICAgICAgbWluOiAyNSxcbiAgICAgICAgICAgIG1heDogMjYsXG4gICAgICAgICAgICBzbHVnOiAnZngyNScsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgbW9iaWxlOiB7XG4gICAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgICB2ZXJzaW9uOiB7XG4gICAgICAgICAgICBtaW46IDI2LFxuICAgICAgICAgICAgbWF4OiAyNyxcbiAgICAgICAgICAgIHNsdWc6ICdtMjYnLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2luaXRTaG93RnVuY3MnLCAoKSA9PiB7XG4gICAgbW9jaGFCcm93c2VyRGV0ZWN0KCk7XG5cbiAgICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAgIHNpbm9uLnN0dWIoc2hvd0ZvciwgJ21hdGNoZXNDcml0ZXJpYScpO1xuICAgICAgc2hvd0Zvci5sb2FkRGF0YSgpO1xuICAgICAgc2hvd0Zvci51cGRhdGVVSSgpO1xuICAgICAgc2hvd0Zvci51cGRhdGVTdGF0ZSgpO1xuICAgICAgc2hvd0Zvci5pbml0U2hvd0Z1bmNzKCk7XG4gICAgfSk7XG5cbiAgICBhZnRlckVhY2goKCkgPT4ge1xuICAgICAgc2hvd0Zvci5tYXRjaGVzQ3JpdGVyaWEucmVzdG9yZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBiaW5kIGBzaG93LWZ1bmNgIGZ1bmN0aW9ucyB0byBgLmZvcmAgZWxlbWVudHMnLCAoKSA9PiB7XG4gICAgICAvLyBEb24ndCB1c2UgYW4gYXJyb3cgZnVuY3Rpb24gaGVyZSwgYmVjYXVzZSBqUXVlcnkuZm9yRWFjaCBwYXNzZXNcbiAgICAgIC8vIHRoZSBlbGVtZW50IGFzIGB0aGlzYC5cbiAgICAgICQoJy5mb3InKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICBsZXQgY2FsbEZ1bmMgPSAkKHRoaXMpLmRhdGEoJ3Nob3ctZnVuYycpO1xuICAgICAgICBleHBlY3QoY2FsbEZ1bmMpLnRvLmJlLmluc3RhbmNlb2YoRnVuY3Rpb24pO1xuICAgICAgICAkKHRoaXMpLmRhdGEoJ3Nob3ctZnVuYycpKCk7XG4gICAgICB9KTtcbiAgICAgIGV4cGVjdChzaG93Rm9yLm1hdGNoZXNDcml0ZXJpYS5hcmdzKS50by5kZWVwLmVxdWFsKFtcbiAgICAgICAgW1snZngyNCddXSxcbiAgICAgICAgW1snZngyNCcsICd3aW4nXV0sXG4gICAgICAgIFtbJz1meDI1J11dLFxuICAgICAgICBbWydub3QgbTI1J11dLFxuICAgICAgXSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdzaG93QW5kSGlkZScsICgpID0+IHtcbiAgICBtb2NoYUJyb3dzZXJEZXRlY3QoKTtcblxuICAgIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgICAgc2hvd0Zvci5sb2FkRGF0YSgpO1xuICAgICAgc2hvd0Zvci51cGRhdGVVSSgpO1xuICAgICAgc2hvd0Zvci51cGRhdGVTdGF0ZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBzaG93IGFuZCBoaWRlIGVsZW1lbnRzIGNvcnJlY3RseScsICgpID0+IHtcbiAgICAgIGxldCAkZWxlbXMgPSAkKCcuZm9yJyk7XG4gICAgICBsZXQgeWVzID0gKCkgPT4gdHJ1ZTtcbiAgICAgIGxldCBubyA9ICgpID0+IGZhbHNlO1xuXG4gICAgICAkZWxlbXMuZXEoMCkuZGF0YSgnc2hvdy1mdW5jJywgeWVzKTtcbiAgICAgICRlbGVtcy5lcSgxKS5kYXRhKCdzaG93LWZ1bmMnLCBubyk7XG4gICAgICAkZWxlbXMuZXEoMikuZGF0YSgnc2hvdy1mdW5jJywgbm8pO1xuICAgICAgLy8gTnVtYmVyIDMgZG9lc24ndCBnZXQgYSBzaG93LWZ1bmMsIHNvIGl0IHNob3VsZCBkZWZhdWx0IHRvIHZpc2libGVcblxuICAgICAgc2hvd0Zvci5zaG93QW5kSGlkZSgpO1xuXG4gICAgICBleHBlY3QoJGVsZW1zLmVxKDApLmNzcygnZGlzcGxheScpKS50by5lcXVhbCgnJyk7XG4gICAgICBleHBlY3QoJGVsZW1zLmVxKDEpLmNzcygnZGlzcGxheScpKS50by5lcXVhbCgnbm9uZScpO1xuICAgICAgZXhwZWN0KCRlbGVtcy5lcSgyKS5jc3MoJ2Rpc3BsYXknKSkudG8uZXF1YWwoJ25vbmUnKTtcbiAgICAgIGV4cGVjdCgkZWxlbXMuZXEoMykuY3NzKCdkaXNwbGF5JykpLnRvLmVxdWFsKCcnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ21hdGNoZXNDcml0ZXJpYScsICgpID0+IHtcbiAgICBtb2NoYUJyb3dzZXJEZXRlY3QoKTtcblxuICAgIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgICAgc2hvd0Zvci5sb2FkRGF0YSgpO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ3NpbmdsZSBwcm9kdWN0JywgKCkgPT4ge1xuICAgICAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgICAgIHNob3dGb3Iuc3RhdGUgPSB7XG4gICAgICAgICAgZmlyZWZveDoge1xuICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgICAgIHBsYXRmb3JtOiAnd2luOCcsXG4gICAgICAgICAgICB2ZXJzaW9uOiB7XG4gICAgICAgICAgICAgIG1pbjogMjQsXG4gICAgICAgICAgICAgIG1heDogMjUsXG4gICAgICAgICAgICAgIHNsdWc6ICdmeDI0JyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgnc2hvdWxkIGhhbmRsZSBzaW1wbGUgc2VsZWN0b3JzJywgKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2hvd0Zvci5tYXRjaGVzQ3JpdGVyaWEoWydmeDIzJ10pKS50by5iZVRydWUoKTtcbiAgICAgICAgZXhwZWN0KHNob3dGb3IubWF0Y2hlc0NyaXRlcmlhKFsnZngyNCddKSkudG8uYmVUcnVlKCk7XG4gICAgICAgIGV4cGVjdChzaG93Rm9yLm1hdGNoZXNDcml0ZXJpYShbJ2Z4MjUnXSkpLnRvLmJlRmFsc2UoKTtcbiAgICAgICAgZXhwZWN0KHNob3dGb3IubWF0Y2hlc0NyaXRlcmlhKFsnPWZ4MjMnXSkpLnRvLmJlRmFsc2UoKTtcbiAgICAgICAgZXhwZWN0KHNob3dGb3IubWF0Y2hlc0NyaXRlcmlhKFsnPWZ4MjQnXSkpLnRvLmJlVHJ1ZSgpO1xuICAgICAgICBleHBlY3Qoc2hvd0Zvci5tYXRjaGVzQ3JpdGVyaWEoWyc9ZngyNSddKSkudG8uYmVGYWxzZSgpO1xuICAgICAgfSk7XG5cbiAgICAgIGl0KCdzaG91bGQgaGFuZGxlIHNlbGVjdG9ycyB3aXRoIHZlcnNpb24gYW5kIHBsYXRmb3JtJywgKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2hvd0Zvci5tYXRjaGVzQ3JpdGVyaWEoWydmeDIzJywgJ3dpbjgnXSkpLnRvLmJlVHJ1ZSgpO1xuICAgICAgICBleHBlY3Qoc2hvd0Zvci5tYXRjaGVzQ3JpdGVyaWEoWydmeDI0JywgJ3dpbjgnXSkpLnRvLmJlVHJ1ZSgpO1xuICAgICAgICBleHBlY3Qoc2hvd0Zvci5tYXRjaGVzQ3JpdGVyaWEoWydmeDI0JywgJ3dpbiddKSkudG8uYmVUcnVlKCk7XG4gICAgICAgIGV4cGVjdChzaG93Rm9yLm1hdGNoZXNDcml0ZXJpYShbJ2Z4MjQnLCAnbGludXgnXSkpLnRvLmJlRmFsc2UoKTtcbiAgICAgICAgZXhwZWN0KHNob3dGb3IubWF0Y2hlc0NyaXRlcmlhKFsnZngyNScsICd3aW44J10pKS50by5iZUZhbHNlKCk7XG4gICAgICAgIGV4cGVjdChzaG93Rm9yLm1hdGNoZXNDcml0ZXJpYShbJ2Z4MjUnLCAnd2luJ10pKS50by5iZUZhbHNlKCk7XG4gICAgICAgIGV4cGVjdChzaG93Rm9yLm1hdGNoZXNDcml0ZXJpYShbJ2Z4MjUnLCAnbGludXgnXSkpLnRvLmJlRmFsc2UoKTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgnc2hvdWxkIGhhbmRsZSBgbm90YCB3aXRoIGEgc2luZ2xlIHNlbGVjdG9yJywgKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2hvd0Zvci5tYXRjaGVzQ3JpdGVyaWEoWydub3QgZngyMyddKSkudG8uYmVGYWxzZSgpO1xuICAgICAgICBleHBlY3Qoc2hvd0Zvci5tYXRjaGVzQ3JpdGVyaWEoWydub3QgZngyNCddKSkudG8uYmVGYWxzZSgpO1xuICAgICAgICBleHBlY3Qoc2hvd0Zvci5tYXRjaGVzQ3JpdGVyaWEoWydub3QgZngyNSddKSkudG8uYmVUcnVlKCk7XG4gICAgICAgIGV4cGVjdChzaG93Rm9yLm1hdGNoZXNDcml0ZXJpYShbJ25vdCA9ZngyMyddKSkudG8uYmVUcnVlKCk7XG4gICAgICAgIGV4cGVjdChzaG93Rm9yLm1hdGNoZXNDcml0ZXJpYShbJ25vdCA9ZngyNCddKSkudG8uYmVGYWxzZSgpO1xuICAgICAgICBleHBlY3Qoc2hvd0Zvci5tYXRjaGVzQ3JpdGVyaWEoWydub3QgPWZ4MjUnXSkpLnRvLmJlVHJ1ZSgpO1xuICAgICAgfSk7XG5cbiAgICAgIGl0KCdzaG91bGQgaGFuZGxlIGBub3RgIHdpdGggbXVsdGlwbGUgc2VsZWN0b3JzJywgKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2hvd0Zvci5tYXRjaGVzQ3JpdGVyaWEoWydub3QgZngyMycsICd3aW4nXSkpLnRvLmJlRmFsc2UoKTtcbiAgICAgICAgZXhwZWN0KHNob3dGb3IubWF0Y2hlc0NyaXRlcmlhKFsnbm90IGZ4MjQnLCAnd2luJ10pKS50by5iZUZhbHNlKCk7XG4gICAgICAgIGV4cGVjdChzaG93Rm9yLm1hdGNoZXNDcml0ZXJpYShbJ25vdCBmeDI1JywgJ3dpbiddKSkudG8uYmVUcnVlKCk7XG5cbiAgICAgICAgZXhwZWN0KHNob3dGb3IubWF0Y2hlc0NyaXRlcmlhKFsnbm90IGZ4MjMnLCAnbGludXgnXSkpLnRvLmJlRmFsc2UoKTtcbiAgICAgICAgZXhwZWN0KHNob3dGb3IubWF0Y2hlc0NyaXRlcmlhKFsnbm90IGZ4MjQnLCAnbGludXgnXSkpLnRvLmJlRmFsc2UoKTtcbiAgICAgICAgZXhwZWN0KHNob3dGb3IubWF0Y2hlc0NyaXRlcmlhKFsnbm90IGZ4MjUnLCAnbGludXgnXSkpLnRvLmJlRmFsc2UoKTtcblxuICAgICAgICBleHBlY3Qoc2hvd0Zvci5tYXRjaGVzQ3JpdGVyaWEoWydub3QgZngyMycsICdub3Qgd2luJ10pKS50by5iZUZhbHNlKCk7XG4gICAgICAgIGV4cGVjdChzaG93Rm9yLm1hdGNoZXNDcml0ZXJpYShbJ25vdCBmeDI0JywgJ25vdCB3aW4nXSkpLnRvLmJlRmFsc2UoKTtcbiAgICAgICAgZXhwZWN0KHNob3dGb3IubWF0Y2hlc0NyaXRlcmlhKFsnbm90IGZ4MjUnLCAnbm90IHdpbiddKSkudG8uYmVGYWxzZSgpO1xuXG4gICAgICAgIGV4cGVjdChzaG93Rm9yLm1hdGNoZXNDcml0ZXJpYShbJ25vdCBmeDIzJywgJ25vdCBsaW51eCddKSkudG8uYmVGYWxzZSgpO1xuICAgICAgICBleHBlY3Qoc2hvd0Zvci5tYXRjaGVzQ3JpdGVyaWEoWydub3QgZngyNCcsICdub3QgbGludXgnXSkpLnRvLmJlRmFsc2UoKTtcbiAgICAgICAgZXhwZWN0KHNob3dGb3IubWF0Y2hlc0NyaXRlcmlhKFsnbm90IGZ4MjUnLCAnbm90IGxpbnV4J10pKS50by5iZVRydWUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ21peGVkIHByb2R1Y3RzJywgKCkgPT4ge1xuICAgICAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgICAgIHNob3dGb3Iuc3RhdGUgPSB7XG4gICAgICAgICAgZmlyZWZveDoge1xuICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgICAgIHBsYXRmb3JtOiAnd2luOCcsXG4gICAgICAgICAgICB2ZXJzaW9uOiB7bWluOiAyNCwgbWF4OiAyNSwgc2x1ZzogJ2Z4MjQnfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgbW9iaWxlOiB7XG4gICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgdmVyc2lvbjoge21pbjogMjQsIG1heDogMjUsIHNsdWc6ICdtMjQnfVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgnc2hvdWxkIGhhbmRsZSB0d28gcHJvZHVjdHMgYXMgYW4gT1InLCAoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzaG93Rm9yLm1hdGNoZXNDcml0ZXJpYShbJ2Z4MjMnLCAnbTIzJ10pKS50by5iZVRydWUoKTtcbiAgICAgICAgZXhwZWN0KHNob3dGb3IubWF0Y2hlc0NyaXRlcmlhKFsnZngyMycsICdtMjQnXSkpLnRvLmJlVHJ1ZSgpO1xuICAgICAgICBleHBlY3Qoc2hvd0Zvci5tYXRjaGVzQ3JpdGVyaWEoWydmeDIzJywgJ20yNSddKSkudG8uYmVUcnVlKCk7XG4gICAgICAgIGV4cGVjdChzaG93Rm9yLm1hdGNoZXNDcml0ZXJpYShbJ2Z4MjQnLCAnbTIzJ10pKS50by5iZVRydWUoKTtcbiAgICAgICAgZXhwZWN0KHNob3dGb3IubWF0Y2hlc0NyaXRlcmlhKFsnZngyNCcsICdtMjQnXSkpLnRvLmJlVHJ1ZSgpO1xuICAgICAgICBleHBlY3Qoc2hvd0Zvci5tYXRjaGVzQ3JpdGVyaWEoWydmeDI0JywgJ20yNSddKSkudG8uYmVUcnVlKCk7XG4gICAgICAgIGV4cGVjdChzaG93Rm9yLm1hdGNoZXNDcml0ZXJpYShbJ2Z4MjUnLCAnbTIzJ10pKS50by5iZVRydWUoKTtcbiAgICAgICAgZXhwZWN0KHNob3dGb3IubWF0Y2hlc0NyaXRlcmlhKFsnZngyNScsICdtMjQnXSkpLnRvLmJlVHJ1ZSgpO1xuICAgICAgICBleHBlY3Qoc2hvd0Zvci5tYXRjaGVzQ3JpdGVyaWEoWydmeDI1JywgJ20yNSddKSkudG8uYmVGYWxzZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZSgnZGlzYWJsZWQgcHJvZHVjdHMnLCAoKSA9PiB7XG4gICAgICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAgICAgc2hvd0Zvci5zdGF0ZSA9IHtcbiAgICAgICAgICBmaXJlZm94OiB7XG4gICAgICAgICAgICBlbmFibGVkOiB0cnVlXG4gICAgICAgICAgfSxcbiAgICAgICAgICBtb2JpbGU6IHtcbiAgICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlXG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSk7XG5cbiAgICAgIGl0KCdzaG91bGQgaGFuZGxlIGRpc2FibGVkIHByb2R1Y3Qgc2VsZWN0b3JzJywgKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2hvd0Zvci5tYXRjaGVzQ3JpdGVyaWEoWydmeCddKSkudG8uYmVUcnVlKCk7XG4gICAgICAgIGV4cGVjdChzaG93Rm9yLm1hdGNoZXNDcml0ZXJpYShbJ20nXSkpLnRvLmJlRmFsc2UoKTtcbiAgICAgICAgZXhwZWN0KHNob3dGb3IubWF0Y2hlc0NyaXRlcmlhKFsnZngnLCAnbSddKSkudG8uYmVUcnVlKCk7XG5cbiAgICAgICAgZXhwZWN0KHNob3dGb3IubWF0Y2hlc0NyaXRlcmlhKFsnbm90IGZ4J10pKS50by5iZUZhbHNlKCk7XG4gICAgICAgIGV4cGVjdChzaG93Rm9yLm1hdGNoZXNDcml0ZXJpYShbJ25vdCBtJ10pKS50by5iZVRydWUoKTtcbiAgICAgICAgZXhwZWN0KHNob3dGb3IubWF0Y2hlc0NyaXRlcmlhKFsnbm90IGZ4JywgJ20nXSkpLnRvLmJlRmFsc2UoKTtcbiAgICAgICAgZXhwZWN0KHNob3dGb3IubWF0Y2hlc0NyaXRlcmlhKFsnZngnLCAnbm90IG0nXSkpLnRvLmJlVHJ1ZSgpO1xuICAgICAgICBleHBlY3Qoc2hvd0Zvci5tYXRjaGVzQ3JpdGVyaWEoWydub3QgZngnLCAnbm90IG0nXSkpLnRvLmJlVHJ1ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZSgnd2luZG93cyBzcGVjaWFsIGNhc2VzJywgKCkgPT4ge1xuICAgICAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgICAgIHNob3dGb3Iuc3RhdGUgPSB7XG4gICAgICAgICAgZmlyZWZveDoge1xuICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgICAgIHBsYXRmb3JtOiAnd2luOCdcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3Nob3VsZCByZWNvZ25pemUgYHdpbmAgYXMgYWxsIHZlcnNpb24gb2Ygd2luZG93cycsICgpID0+IHtcbiAgICAgICAgbGV0IHdpblRlc3RDYXNlcyA9IHtcbiAgICAgICAgICAnd2lueHAnOiB0cnVlLFxuICAgICAgICAgICd3aW43JzogdHJ1ZSxcbiAgICAgICAgICAnd2luOCc6IHRydWUsXG4gICAgICAgICAgJ3dpbjEwJzogdHJ1ZSxcbiAgICAgICAgICAnbGludXgnOiBmYWxzZSxcbiAgICAgICAgICAnbWFjJzogZmFsc2UsXG4gICAgICAgIH07XG5cbiAgICAgICAgZm9yICh2YXIgd2luVmVyc2lvbiBpbiB3aW5UZXN0Q2FzZXMpIHtcbiAgICAgICAgICB2YXIgZXhwZWN0ZWQgPSB3aW5UZXN0Q2FzZXNbd2luVmVyc2lvbl07XG4gICAgICAgICAgc2hvd0Zvci5zdGF0ZS5maXJlZm94LnBsYXRmb3JtID0gd2luVmVyc2lvbjtcbiAgICAgICAgICBleHBlY3Qoc2hvd0Zvci5tYXRjaGVzQ3JpdGVyaWEoWyd3aW4nXSkpLnRvLmVxdWFsKGV4cGVjdGVkKTtcbiAgICAgICAgICBleHBlY3Qoc2hvd0Zvci5tYXRjaGVzQ3JpdGVyaWEoWydub3Qgd2luJ10pKS50by5lcXVhbCghZXhwZWN0ZWQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/app/kitsune/sumo/static/sumo/js/tests/showfortests.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/app/kitsune/sumo/static/sumo/js/tests/showfortests.js",
      "sourcesContent": [
        "import React from 'react';\nimport {default as mochaJsdom, rerequire} from 'mocha-jsdom';\nimport {default as chai, expect} from 'chai';\nimport chaiLint from 'chai-lint';\nimport sinon from 'sinon';\n\nimport mochaJquery from './fixtures/mochaJquery.js';\nimport mochaBrowserDetect from './fixtures/mochaBrowserDetect.js';\n\nchai.use(chaiLint);\n\n/*\n* Returns an object with the same prototype and properties as a ShowFor\n* object, but for which the ShowFor constructor is not called. It will\n* be bound to the passed $sandbox.\n*/\nfunction showForNoInit($sandbox) {\n  let sf = Object.create(window.ShowFor.prototype);\n  sf.$container = $sandbox;\n  sf.state = {};\n  return sf;\n}\n\nfunction unorderedEquals(arr1, arr2) {\n  let arr1Sorted = arr1.sort();\n  let arr2Sorted = arr2.sort();\n  expect(arr1Sorted).to.deep.equal(arr2Sorted);\n}\n\n\ndescribe('ShowFor', () => {\n  mochaJsdom({useEach: true});\n  mochaJquery();\n  /* globals window, document, $ */\n  let showFor;\n\n  beforeEach(() => {\n    rerequire('../showfor.js');\n\n    // Wow. That's a lot of data. Can we make this smaller?\n    let sandbox = (\n      <div>\n        <span className=\"for\" data-for=\"fx24\"></span>\n        <span className=\"for\" data-for=\"fx24,win\"></span>\n        <span className=\"for\" data-for=\"=fx25\"></span>\n        <span className=\"for\" data-for=\"not m25\"></span>\n\n        <div className=\"product\" data-product=\"firefox\">\n          <h2>\n            <input type=\"checkbox\" defaultChecked value=\"product:firefox\"/>\n            Firefox\n          </h2>\n          <div className=\"selectbox-wrapper\">\n            <select className=\"version\" value=\"version:fx24\">\n              <option value=\"version:fx26\" data-min=\"26.0\" data-max=\"27.0\">Version 26</option>\n              <option value=\"version:fx25\" data-min=\"25.0\" data-max=\"26.0\">Version 25</option>\n              <option value=\"version:fx24\" data-min=\"24.0\" data-max=\"25.0\">Version 24</option>\n              <option value=\"version:fx23\" data-min=\"23.0\" data-max=\"24.0\">Version 23</option>\n              <option value=\"version:fx17\" data-min=\"17.0\" data-max=\"18.0\">Version 17 (ESR)</option>\n            </select>\n          </div>\n          <div className=\"selectbox-wrapper\">\n            <select className=\"platform\">\n              <option value=\"platform:win8\">Windows 8</option>\n              <option value=\"platform:win7\">Windows 7/Vista</option>\n              <option value=\"platform:winxp\">Windows XP</option>\n              <option value=\"platform:mac\">Mac</option>\n              <option value=\"platform:linux\">Linux</option>\n            </select>\n          </div>\n        </div>\n\n        <div className=\"product\" data-product=\"mobile\">\n          <h2>\n            <input type=\"checkbox\" defaultChecked value=\"product:mobile\"/>\n            Firefox for Android\n          </h2>\n          <div className=\"selectbox-wrapper\">\n            <select className=\"version\" value=\"version:m24\">\n              <option value=\"version:m26\" data-min=\"26.0\" data-max=\"27.0\">Version 26</option>\n              <option value=\"version:m25\" data-min=\"25.0\" data-max=\"26.0\">Version 25</option>\n              <option value=\"version:m24\" data-min=\"24.0\" data-max=\"25.0\">Version 24</option>\n              <option value=\"version:m23\" data-min=\"23.0\" data-max=\"24.0\">Version 23</option>\n            </select>\n          </div>\n        </div>\n\n        <script type=\"application/json\" className=\"showfor-data\" dangerouslySetInnerHTML={{__html: JSON.stringify({\n          platforms: {\n            firefox: [\n              {title: 'Linux', slug: 'linux', visible: true},\n              {title: 'Mac', slug: 'mac', visible: true},\n              {title: 'Windows XP', slug: 'winxp', visible: true},\n              {title: 'Windows 7', slug: 'win7', visible: true},\n              {title: 'Windows 8', slug: 'win8', visible: true},\n              {title: 'Windows 10', slug: 'win10', visible: true},\n            ],\n            mobile: [{slug: 'android'}],\n            'firefox-os': [{slug: 'web'}],\n          },\n          products: [\n            {slug: 'firefox', title: 'Firefox', platforms: ['linux', 'mac', 'winxp', 'win7', 'win8']},\n            {slug: 'mobile', title: 'Firefox for Android', platforms: ['android']},\n            {slug: 'firefox-os', title: 'Firefox OS', platforms: ['web']},\n          ],\n          'versions': {\n            firefox: [\n              {product: 'firefox', name: 'Version 26', default: false, min_version: 26.0, max_version: 27.0, slug: 'fx26'},\n              {product: 'firefox', name: 'Version 25', default: false, min_version: 25.0, max_version: 26.0, slug: 'fx25'},\n              {product: 'firefox', name: 'Version 24', default: true, min_version: 24.0, max_version: 25.0, slug: 'fx24'},\n              {product: 'firefox', name: 'Version 23', default: false, min_version: 23.0, max_version: 24.0, slug: 'fx23'},\n              {product: 'firefox', name: 'Version 17 (ESR)', default: false, min_version: 17.0, max_version: 18.0, slug: 'fx17'},\n            ],\n            mobile: [\n              {product: 'mobile', name: 'Version 26', default: false, min_version: 26.0, max_version: 27.0, slug: 'm26'},\n              {product: 'mobile', name: 'Version 25', default: false, min_version: 25.0, max_version: 26.0, slug: 'm25'},\n              {product: 'mobile', name: 'Version 24', default: true, min_version: 24.0, max_version: 25.0, slug: 'm24'},\n              {product: 'mobile', name: 'Version 23', default: false, min_version: 23.0, max_version: 24.0, slug: 'm23'},\n            ],\n          }\n        })}}/>\n      </div>\n    );\n\n    React.render(sandbox, document.body);\n    showFor = showForNoInit($('body'));\n  });\n\n  describe('loadData', () => {\n    beforeEach(() => {\n      showFor.loadData();\n    });\n\n    it('should set the data attribute', () => {\n      expect(showFor.data.products).to.have.length(3);\n      expect(showFor.data.versions.firefox).to.have.length(5);\n    });\n\n    it('should pull the denormalized forms out of the data', () => {\n      unorderedEquals(showFor.productSlugs, ['firefox', 'mobile', 'firefox-os']);\n      unorderedEquals(showFor.platformSlugs, ['web', 'android', 'linux', 'mac', 'winxp', 'win7', 'win8', 'win10']);\n      expect(showFor.versionSlugs).to.have.property('m24', 'mobile');\n    });\n  });\n\n  describe('updateUI', () => {\n    describe('Firefox 26 on Windows XP', () => {\n      mochaBrowserDetect({\n        browser: 'fx',\n        version: 26.0,\n        OS: 'winxp',\n      });\n\n      beforeEach(() => {\n        showFor.loadData();\n        showFor.updateUI();\n      });\n\n      it('should populate the UI with the values from BrowserDetect', () => {\n        expect($('.product[data-product=firefox] select.version').val()).to.equal('version:fx26');\n        expect($('.product[data-product=firefox] select.platform').val()).to.equal('platform:winxp');\n      });\n    });\n\n    describe('Firefox for Android 23', () => {\n      mochaBrowserDetect({\n        browser: 'm',\n        version: 23.0,\n        OS: 'android',\n      });\n\n      beforeEach(() => {\n        showFor.loadData();\n        showFor.updateUI();\n      });\n\n      it('should populate the UI with the values from BrowserDetect', () => {\n        expect($('.product[data-product=mobile] select.version').val()).to.equal('version:m23');\n        expect($('.product[data-product=mobile] select.platform')).to.have.length(0);\n      });\n    });\n  });\n\n  describe('updateState', () => {\n    mochaBrowserDetect();\n\n    beforeEach(() => {\n      showFor.loadData();\n      showFor.updateUI();\n      showFor.updateState();\n    });\n\n    it('should have correct initial data', () => {\n      expect(showFor.state).to.deep.equal({\n        firefox: {\n          enabled: true,\n          platform: 'winxp',\n          version: {\n            min: 25,\n            max: 26,\n            slug: 'fx25',\n          },\n        },\n        mobile: {\n          enabled: true,\n          version: {\n            min: 24,\n            max: 25,\n            slug: 'm24',\n          },\n        },\n      });\n    });\n\n    it('should update after a change', () => {\n      $('[data-product=\"mobile\"] select.version').val('version:m26');\n      $('[data-product=\"firefox\"] select.platform').val('platform:linux');\n\n      // and expect(showFor.matchesCriteria)).to.beGain(\n      showFor.updateState();\n\n      expect(showFor.state).to.deep.equal({\n        firefox: {\n          enabled: true,\n          platform: 'linux',\n          version: {\n            min: 25,\n            max: 26,\n            slug: 'fx25',\n          },\n        },\n        mobile: {\n          enabled: true,\n          version: {\n            min: 26,\n            max: 27,\n            slug: 'm26',\n          },\n        },\n      });\n    });\n  });\n\n  describe('initShowFuncs', () => {\n    mochaBrowserDetect();\n\n    beforeEach(() => {\n      sinon.stub(showFor, 'matchesCriteria');\n      showFor.loadData();\n      showFor.updateUI();\n      showFor.updateState();\n      showFor.initShowFuncs();\n    });\n\n    afterEach(() => {\n      showFor.matchesCriteria.restore();\n    });\n\n    it('should bind `show-func` functions to `.for` elements', () => {\n      // Don't use an arrow function here, because jQuery.forEach passes\n      // the element as `this`.\n      $('.for').each(function() {\n        let callFunc = $(this).data('show-func');\n        expect(callFunc).to.be.instanceof(Function);\n        $(this).data('show-func')();\n      });\n      expect(showFor.matchesCriteria.args).to.deep.equal([\n        [['fx24']],\n        [['fx24', 'win']],\n        [['=fx25']],\n        [['not m25']],\n      ]);\n    });\n  });\n\n  describe('showAndHide', () => {\n    mochaBrowserDetect();\n\n    beforeEach(() => {\n      showFor.loadData();\n      showFor.updateUI();\n      showFor.updateState();\n    });\n\n    it('should show and hide elements correctly', () => {\n      let $elems = $('.for');\n      let yes = () => true;\n      let no = () => false;\n\n      $elems.eq(0).data('show-func', yes);\n      $elems.eq(1).data('show-func', no);\n      $elems.eq(2).data('show-func', no);\n      // Number 3 doesn't get a show-func, so it should default to visible\n\n      showFor.showAndHide();\n\n      expect($elems.eq(0).css('display')).to.equal('');\n      expect($elems.eq(1).css('display')).to.equal('none');\n      expect($elems.eq(2).css('display')).to.equal('none');\n      expect($elems.eq(3).css('display')).to.equal('');\n    });\n  });\n\n  describe('matchesCriteria', () => {\n    mochaBrowserDetect();\n\n    beforeEach(() => {\n      showFor.loadData();\n    });\n\n    describe('single product', () => {\n      beforeEach(() => {\n        showFor.state = {\n          firefox: {\n            enabled: true,\n            platform: 'win8',\n            version: {\n              min: 24,\n              max: 25,\n              slug: 'fx24',\n            },\n          },\n        };\n      });\n\n      it('should handle simple selectors', () => {\n        expect(showFor.matchesCriteria(['fx23'])).to.beTrue();\n        expect(showFor.matchesCriteria(['fx24'])).to.beTrue();\n        expect(showFor.matchesCriteria(['fx25'])).to.beFalse();\n        expect(showFor.matchesCriteria(['=fx23'])).to.beFalse();\n        expect(showFor.matchesCriteria(['=fx24'])).to.beTrue();\n        expect(showFor.matchesCriteria(['=fx25'])).to.beFalse();\n      });\n\n      it('should handle selectors with version and platform', () => {\n        expect(showFor.matchesCriteria(['fx23', 'win8'])).to.beTrue();\n        expect(showFor.matchesCriteria(['fx24', 'win8'])).to.beTrue();\n        expect(showFor.matchesCriteria(['fx24', 'win'])).to.beTrue();\n        expect(showFor.matchesCriteria(['fx24', 'linux'])).to.beFalse();\n        expect(showFor.matchesCriteria(['fx25', 'win8'])).to.beFalse();\n        expect(showFor.matchesCriteria(['fx25', 'win'])).to.beFalse();\n        expect(showFor.matchesCriteria(['fx25', 'linux'])).to.beFalse();\n      });\n\n      it('should handle `not` with a single selector', () => {\n        expect(showFor.matchesCriteria(['not fx23'])).to.beFalse();\n        expect(showFor.matchesCriteria(['not fx24'])).to.beFalse();\n        expect(showFor.matchesCriteria(['not fx25'])).to.beTrue();\n        expect(showFor.matchesCriteria(['not =fx23'])).to.beTrue();\n        expect(showFor.matchesCriteria(['not =fx24'])).to.beFalse();\n        expect(showFor.matchesCriteria(['not =fx25'])).to.beTrue();\n      });\n\n      it('should handle `not` with multiple selectors', () => {\n        expect(showFor.matchesCriteria(['not fx23', 'win'])).to.beFalse();\n        expect(showFor.matchesCriteria(['not fx24', 'win'])).to.beFalse();\n        expect(showFor.matchesCriteria(['not fx25', 'win'])).to.beTrue();\n\n        expect(showFor.matchesCriteria(['not fx23', 'linux'])).to.beFalse();\n        expect(showFor.matchesCriteria(['not fx24', 'linux'])).to.beFalse();\n        expect(showFor.matchesCriteria(['not fx25', 'linux'])).to.beFalse();\n\n        expect(showFor.matchesCriteria(['not fx23', 'not win'])).to.beFalse();\n        expect(showFor.matchesCriteria(['not fx24', 'not win'])).to.beFalse();\n        expect(showFor.matchesCriteria(['not fx25', 'not win'])).to.beFalse();\n\n        expect(showFor.matchesCriteria(['not fx23', 'not linux'])).to.beFalse();\n        expect(showFor.matchesCriteria(['not fx24', 'not linux'])).to.beFalse();\n        expect(showFor.matchesCriteria(['not fx25', 'not linux'])).to.beTrue();\n      });\n    });\n\n    describe('mixed products', () => {\n      beforeEach(() => {\n        showFor.state = {\n          firefox: {\n            enabled: true,\n            platform: 'win8',\n            version: {min: 24, max: 25, slug: 'fx24'}\n          },\n          mobile: {\n            enabled: true,\n            version: {min: 24, max: 25, slug: 'm24'}\n          }\n        };\n      });\n\n      it('should handle two products as an OR', () => {\n        expect(showFor.matchesCriteria(['fx23', 'm23'])).to.beTrue();\n        expect(showFor.matchesCriteria(['fx23', 'm24'])).to.beTrue();\n        expect(showFor.matchesCriteria(['fx23', 'm25'])).to.beTrue();\n        expect(showFor.matchesCriteria(['fx24', 'm23'])).to.beTrue();\n        expect(showFor.matchesCriteria(['fx24', 'm24'])).to.beTrue();\n        expect(showFor.matchesCriteria(['fx24', 'm25'])).to.beTrue();\n        expect(showFor.matchesCriteria(['fx25', 'm23'])).to.beTrue();\n        expect(showFor.matchesCriteria(['fx25', 'm24'])).to.beTrue();\n        expect(showFor.matchesCriteria(['fx25', 'm25'])).to.beFalse();\n      });\n    });\n\n    describe('disabled products', () => {\n      beforeEach(() => {\n        showFor.state = {\n          firefox: {\n            enabled: true\n          },\n          mobile: {\n            enabled: false\n          }\n        };\n      });\n\n      it('should handle disabled product selectors', () => {\n        expect(showFor.matchesCriteria(['fx'])).to.beTrue();\n        expect(showFor.matchesCriteria(['m'])).to.beFalse();\n        expect(showFor.matchesCriteria(['fx', 'm'])).to.beTrue();\n\n        expect(showFor.matchesCriteria(['not fx'])).to.beFalse();\n        expect(showFor.matchesCriteria(['not m'])).to.beTrue();\n        expect(showFor.matchesCriteria(['not fx', 'm'])).to.beFalse();\n        expect(showFor.matchesCriteria(['fx', 'not m'])).to.beTrue();\n        expect(showFor.matchesCriteria(['not fx', 'not m'])).to.beTrue();\n      });\n    });\n\n    describe('windows special cases', () => {\n      beforeEach(() => {\n        showFor.state = {\n          firefox: {\n            enabled: true,\n            platform: 'win8'\n          }\n        };\n      });\n\n      it('should recognize `win` as all version of windows', () => {\n        let winTestCases = {\n          'winxp': true,\n          'win7': true,\n          'win8': true,\n          'win10': true,\n          'linux': false,\n          'mac': false,\n        };\n\n        for (var winVersion in winTestCases) {\n          var expected = winTestCases[winVersion];\n          showFor.state.firefox.platform = winVersion;\n          expect(showFor.matchesCriteria(['win'])).to.equal(expected);\n          expect(showFor.matchesCriteria(['not win'])).to.equal(!expected);\n        }\n      });\n    });\n  });\n});\n"
      ]
    },
    "mtime": 1561057444000
  },
  "{\"filename\":\"/app/kitsune/sumo/static/sumo/js/tests/tagsfiltertests.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":2,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "react",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "React"
              }
            ]
          },
          {
            "source": "mocha-jsdom",
            "imported": [
              "default",
              "rerequire"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mochaJsdom"
              },
              {
                "kind": "named",
                "imported": "rerequire",
                "local": "rerequire"
              }
            ]
          },
          {
            "source": "chai",
            "imported": [
              "expect"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "expect",
                "local": "expect"
              }
            ]
          },
          {
            "source": "sinon",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "sinon"
              }
            ]
          },
          {
            "source": "./fixtures/mochaGettext.js",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mochaGettext"
              }
            ]
          },
          {
            "source": "./fixtures/mochaK.js",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mochaK"
              }
            ]
          },
          {
            "source": "./fixtures/mochaJquery.js",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mochaJquery"
              }
            ]
          },
          {
            "source": "./fixtures/mochaUnderscore.js",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mochaUnderscore"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _mochaJsdom = require('mocha-jsdom');\n\nvar _mochaJsdom2 = _interopRequireDefault(_mochaJsdom);\n\nvar _chai = require('chai');\n\nvar _sinon = require('sinon');\n\nvar _sinon2 = _interopRequireDefault(_sinon);\n\nvar _fixturesMochaGettextJs = require('./fixtures/mochaGettext.js');\n\nvar _fixturesMochaGettextJs2 = _interopRequireDefault(_fixturesMochaGettextJs);\n\nvar _fixturesMochaKJs = require('./fixtures/mochaK.js');\n\nvar _fixturesMochaKJs2 = _interopRequireDefault(_fixturesMochaKJs);\n\nvar _fixturesMochaJqueryJs = require('./fixtures/mochaJquery.js');\n\nvar _fixturesMochaJqueryJs2 = _interopRequireDefault(_fixturesMochaJqueryJs);\n\nvar _fixturesMochaUnderscoreJs = require('./fixtures/mochaUnderscore.js');\n\nvar _fixturesMochaUnderscoreJs2 = _interopRequireDefault(_fixturesMochaUnderscoreJs);\n\ndescribe('k', function () {\n  var form = undefined;\n\n  (0, _mochaJsdom2['default'])({ useEach: true });\n  (0, _fixturesMochaJqueryJs2['default'])();\n  (0, _fixturesMochaKJs2['default'])();\n  (0, _fixturesMochaUnderscoreJs2['default'])();\n  /* globals window, $, k */\n\n  describe('TagsFilter', function () {\n    beforeEach(function () {\n      (0, _mochaJsdom.rerequire)('../tags.filter.js');\n\n      var sandbox = _react2['default'].createElement(\n        'div',\n        null,\n        _react2['default'].createElement(\n          'section',\n          { className: 'tag-filter' },\n          _react2['default'].createElement(\n            'form',\n            { method: 'get', action: '' },\n            _react2['default'].createElement('input', { type: 'text',\n              name: 'tagged',\n              className: 'text tags-autocomplete',\n              defaultValue: 'Go',\n              'data-vocabulary': JSON.stringify({\n                'Name 1': 'slug-1',\n                'Name 2': 'slug-2',\n                'Name 3': 'slug-3'\n              }) }),\n            _react2['default'].createElement('input', { type: 'submit', defaultValue: 'Go' })\n          )\n        )\n      );\n      _react2['default'].render(sandbox, window.document.body);\n\n      k.TagsFilter.init($('body'));\n      // Don't let forms submit\n      $('form').submit(function (e) {\n        return e.preventDefault();\n      });\n    });\n\n    function check(input, output) {\n      $('form').find('input[type=\"text\"]').val(input);\n      $('form').submit();\n      (0, _chai.expect)($('form').find('input[name=\"tagged\"]').val()).to.equal(output);\n    }\n\n    it('should work with one tag', function () {\n      check('Name 1', 'slug-1');\n    });\n\n    it('should work with two tags', function () {\n      check('Name 1, Name 2', 'slug-1,slug-2');\n    });\n\n    it('should work with three tags', function () {\n      check('Name 1, Name 2, Name 3', 'slug-1,slug-2,slug-3');\n    });\n\n    it('should be case insensitive', function () {\n      check('nAmE 1', 'slug-1');\n    });\n\n    it(\"shouldn't overwrite pre-existing values\", function () {\n      var $h = $('<input type=\"hidden\" class=\"current-tagged\" value=\"slug-7\">');\n      $('form').append($h);\n      check('Name 1', 'slug-7,slug-1');\n    });\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9hcHAva2l0c3VuZS9zdW1vL3N0YXRpYy9zdW1vL2pzL3Rlc3RzL3RhZ3NmaWx0ZXJ0ZXN0cy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O3FCQUFrQixPQUFPOzs7OzBCQUNzQixhQUFhOzs7O29CQUN2QyxNQUFNOztxQkFDVCxPQUFPOzs7O3NDQUVBLDRCQUE0Qjs7OztnQ0FDbEMsc0JBQXNCOzs7O3FDQUNqQiwyQkFBMkI7Ozs7eUNBQ3ZCLCtCQUErQjs7OztBQUUzRCxRQUFRLENBQUMsR0FBRyxFQUFFLFlBQU07QUFDbEIsTUFBSSxJQUFJLFlBQUEsQ0FBQzs7QUFFVCwrQkFBVyxFQUFDLE9BQU8sRUFBRSxJQUFJLEVBQUMsQ0FBQyxDQUFDO0FBQzVCLDJDQUFhLENBQUM7QUFDZCxzQ0FBUSxDQUFDO0FBQ1QsK0NBQWlCLENBQUM7OztBQUdsQixVQUFRLENBQUMsWUFBWSxFQUFFLFlBQU07QUFDM0IsY0FBVSxDQUFDLFlBQU07QUFDZixpQ0FBVSxtQkFBbUIsQ0FBQyxDQUFDOztBQUUvQixVQUFJLE9BQU8sR0FDVDs7O1FBQ0U7O1lBQVMsU0FBUyxFQUFDLFlBQVk7VUFDN0I7O2NBQU0sTUFBTSxFQUFDLEtBQUssRUFBQyxNQUFNLEVBQUMsRUFBRTtZQUMxQiw0Q0FBTyxJQUFJLEVBQUMsTUFBTTtBQUNYLGtCQUFJLEVBQUMsUUFBUTtBQUNiLHVCQUFTLEVBQUMsd0JBQXdCO0FBQ2xDLDBCQUFZLEVBQUMsSUFBSTtBQUNqQixpQ0FBaUIsSUFBSSxDQUFDLFNBQVMsQ0FBQztBQUM5Qix3QkFBUSxFQUFFLFFBQVE7QUFDbEIsd0JBQVEsRUFBRSxRQUFRO0FBQ2xCLHdCQUFRLEVBQUUsUUFBUTtlQUNuQixDQUFDLEFBQUMsR0FBRTtZQUNaLDRDQUFPLElBQUksRUFBQyxRQUFRLEVBQUMsWUFBWSxFQUFDLElBQUksR0FBRztXQUNwQztTQUNDO09BQ04sQUFDUCxDQUFDO0FBQ0YseUJBQU0sTUFBTSxDQUFDLE9BQU8sRUFBRSxNQUFNLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDOztBQUU1QyxPQUFDLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQzs7QUFFN0IsT0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLE1BQU0sQ0FBQyxVQUFDLENBQUM7ZUFBSyxDQUFDLENBQUMsY0FBYyxFQUFFO09BQUEsQ0FBQyxDQUFDO0tBQzdDLENBQUMsQ0FBQzs7QUFFSCxhQUFTLEtBQUssQ0FBQyxLQUFLLEVBQUUsTUFBTSxFQUFFO0FBQzVCLE9BQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDaEQsT0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDO0FBQ25CLHdCQUFPLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsc0JBQXNCLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7S0FDdkU7O0FBRUQsTUFBRSxDQUFDLDBCQUEwQixFQUFFLFlBQU07QUFDbkMsV0FBSyxDQUFDLFFBQVEsRUFBRSxRQUFRLENBQUMsQ0FBQztLQUMzQixDQUFDLENBQUM7O0FBRUgsTUFBRSxDQUFDLDJCQUEyQixFQUFFLFlBQU07QUFDcEMsV0FBSyxDQUFDLGdCQUFnQixFQUFFLGVBQWUsQ0FBQyxDQUFDO0tBQzFDLENBQUMsQ0FBQzs7QUFFSCxNQUFFLENBQUMsNkJBQTZCLEVBQUUsWUFBTTtBQUN0QyxXQUFLLENBQUMsd0JBQXdCLEVBQUUsc0JBQXNCLENBQUMsQ0FBQztLQUN6RCxDQUFDLENBQUM7O0FBRUgsTUFBRSxDQUFDLDRCQUE0QixFQUFFLFlBQU07QUFDckMsV0FBSyxDQUFDLFFBQVEsRUFBRSxRQUFRLENBQUMsQ0FBQztLQUMzQixDQUFDLENBQUM7O0FBRUgsTUFBRSxDQUFDLHlDQUF5QyxFQUFFLFlBQU07QUFDbEQsVUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDLDZEQUE2RCxDQUFDLENBQUM7QUFDMUUsT0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUNyQixXQUFLLENBQUMsUUFBUSxFQUFFLGVBQWUsQ0FBQyxDQUFDO0tBQ2xDLENBQUMsQ0FBQztHQUNKLENBQUMsQ0FBQztDQUNKLENBQUMsQ0FBQyIsImZpbGUiOiIvYXBwL2tpdHN1bmUvc3Vtby9zdGF0aWMvc3Vtby9qcy90ZXN0cy90YWdzZmlsdGVydGVzdHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHtkZWZhdWx0IGFzIG1vY2hhSnNkb20sIHJlcmVxdWlyZX0gZnJvbSAnbW9jaGEtanNkb20nO1xuaW1wb3J0IHtleHBlY3R9IGZyb20gJ2NoYWknO1xuaW1wb3J0IHNpbm9uIGZyb20gJ3Npbm9uJztcblxuaW1wb3J0IG1vY2hhR2V0dGV4dCBmcm9tICcuL2ZpeHR1cmVzL21vY2hhR2V0dGV4dC5qcyc7XG5pbXBvcnQgbW9jaGFLIGZyb20gJy4vZml4dHVyZXMvbW9jaGFLLmpzJztcbmltcG9ydCBtb2NoYUpxdWVyeSBmcm9tICcuL2ZpeHR1cmVzL21vY2hhSnF1ZXJ5LmpzJztcbmltcG9ydCBtb2NoYVVuZGVyc2NvcmUgZnJvbSAnLi9maXh0dXJlcy9tb2NoYVVuZGVyc2NvcmUuanMnO1xuXG5kZXNjcmliZSgnaycsICgpID0+IHtcbiAgbGV0IGZvcm07XG5cbiAgbW9jaGFKc2RvbSh7dXNlRWFjaDogdHJ1ZX0pO1xuICBtb2NoYUpxdWVyeSgpO1xuICBtb2NoYUsoKTtcbiAgbW9jaGFVbmRlcnNjb3JlKCk7XG4gIC8qIGdsb2JhbHMgd2luZG93LCAkLCBrICovXG5cbiAgZGVzY3JpYmUoJ1RhZ3NGaWx0ZXInLCAoKSA9PiB7XG4gICAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgICByZXJlcXVpcmUoJy4uL3RhZ3MuZmlsdGVyLmpzJyk7XG5cbiAgICAgIGxldCBzYW5kYm94ID0gKFxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxzZWN0aW9uIGNsYXNzTmFtZT1cInRhZy1maWx0ZXJcIj5cbiAgICAgICAgICAgIDxmb3JtIG1ldGhvZD1cImdldFwiIGFjdGlvbj1cIlwiPlxuICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgbmFtZT1cInRhZ2dlZFwiXG4gICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0IHRhZ3MtYXV0b2NvbXBsZXRlXCJcbiAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT1cIkdvXCJcbiAgICAgICAgICAgICAgICAgICAgIGRhdGEtdm9jYWJ1bGFyeT17SlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICAgICAnTmFtZSAxJzogJ3NsdWctMScsXG4gICAgICAgICAgICAgICAgICAgICAgICdOYW1lIDInOiAnc2x1Zy0yJyxcbiAgICAgICAgICAgICAgICAgICAgICAgJ05hbWUgMyc6ICdzbHVnLTMnLFxuICAgICAgICAgICAgICAgICAgICAgfSl9Lz5cbiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJzdWJtaXRcIiBkZWZhdWx0VmFsdWU9XCJHb1wiIC8+XG4gICAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgICAgPC9zZWN0aW9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICk7XG4gICAgICBSZWFjdC5yZW5kZXIoc2FuZGJveCwgd2luZG93LmRvY3VtZW50LmJvZHkpO1xuXG4gICAgICBrLlRhZ3NGaWx0ZXIuaW5pdCgkKCdib2R5JykpO1xuICAgICAgLy8gRG9uJ3QgbGV0IGZvcm1zIHN1Ym1pdFxuICAgICAgJCgnZm9ybScpLnN1Ym1pdCgoZSkgPT4gZS5wcmV2ZW50RGVmYXVsdCgpKTtcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIGNoZWNrKGlucHV0LCBvdXRwdXQpIHtcbiAgICAgICQoJ2Zvcm0nKS5maW5kKCdpbnB1dFt0eXBlPVwidGV4dFwiXScpLnZhbChpbnB1dCk7XG4gICAgICAkKCdmb3JtJykuc3VibWl0KCk7XG4gICAgICBleHBlY3QoJCgnZm9ybScpLmZpbmQoJ2lucHV0W25hbWU9XCJ0YWdnZWRcIl0nKS52YWwoKSkudG8uZXF1YWwob3V0cHV0KTtcbiAgICB9XG5cbiAgICBpdCgnc2hvdWxkIHdvcmsgd2l0aCBvbmUgdGFnJywgKCkgPT4ge1xuICAgICAgY2hlY2soJ05hbWUgMScsICdzbHVnLTEnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgd29yayB3aXRoIHR3byB0YWdzJywgKCkgPT4ge1xuICAgICAgY2hlY2soJ05hbWUgMSwgTmFtZSAyJywgJ3NsdWctMSxzbHVnLTInKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgd29yayB3aXRoIHRocmVlIHRhZ3MnLCAoKSA9PiB7XG4gICAgICBjaGVjaygnTmFtZSAxLCBOYW1lIDIsIE5hbWUgMycsICdzbHVnLTEsc2x1Zy0yLHNsdWctMycpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBiZSBjYXNlIGluc2Vuc2l0aXZlJywgKCkgPT4ge1xuICAgICAgY2hlY2soJ25BbUUgMScsICdzbHVnLTEnKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkbid0IG92ZXJ3cml0ZSBwcmUtZXhpc3RpbmcgdmFsdWVzXCIsICgpID0+IHtcbiAgICAgIGxldCAkaCA9ICQoJzxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgY2xhc3M9XCJjdXJyZW50LXRhZ2dlZFwiIHZhbHVlPVwic2x1Zy03XCI+Jyk7XG4gICAgICAkKCdmb3JtJykuYXBwZW5kKCRoKTtcbiAgICAgIGNoZWNrKCdOYW1lIDEnLCAnc2x1Zy03LHNsdWctMScpO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/app/kitsune/sumo/static/sumo/js/tests/tagsfiltertests.js"
      ],
      "names": [],
      "mappings": ";;;;qBAAkB,OAAO;;;;0BACsB,aAAa;;;;oBACvC,MAAM;;qBACT,OAAO;;;;sCAEA,4BAA4B;;;;gCAClC,sBAAsB;;;;qCACjB,2BAA2B;;;;yCACvB,+BAA+B;;;;AAE3D,QAAQ,CAAC,GAAG,EAAE,YAAM;AAClB,MAAI,IAAI,YAAA,CAAC;;AAET,+BAAW,EAAC,OAAO,EAAE,IAAI,EAAC,CAAC,CAAC;AAC5B,2CAAa,CAAC;AACd,sCAAQ,CAAC;AACT,+CAAiB,CAAC;;;AAGlB,UAAQ,CAAC,YAAY,EAAE,YAAM;AAC3B,cAAU,CAAC,YAAM;AACf,iCAAU,mBAAmB,CAAC,CAAC;;AAE/B,UAAI,OAAO,GACT;;;QACE;;YAAS,SAAS,EAAC,YAAY;UAC7B;;cAAM,MAAM,EAAC,KAAK,EAAC,MAAM,EAAC,EAAE;YAC1B,4CAAO,IAAI,EAAC,MAAM;AACX,kBAAI,EAAC,QAAQ;AACb,uBAAS,EAAC,wBAAwB;AAClC,0BAAY,EAAC,IAAI;AACjB,iCAAiB,IAAI,CAAC,SAAS,CAAC;AAC9B,wBAAQ,EAAE,QAAQ;AAClB,wBAAQ,EAAE,QAAQ;AAClB,wBAAQ,EAAE,QAAQ;eACnB,CAAC,AAAC,GAAE;YACZ,4CAAO,IAAI,EAAC,QAAQ,EAAC,YAAY,EAAC,IAAI,GAAG;WACpC;SACC;OACN,AACP,CAAC;AACF,yBAAM,MAAM,CAAC,OAAO,EAAE,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;;AAE5C,OAAC,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;;AAE7B,OAAC,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,UAAC,CAAC;eAAK,CAAC,CAAC,cAAc,EAAE;OAAA,CAAC,CAAC;KAC7C,CAAC,CAAC;;AAEH,aAAS,KAAK,CAAC,KAAK,EAAE,MAAM,EAAE;AAC5B,OAAC,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;AAChD,OAAC,CAAC,MAAM,CAAC,CAAC,MAAM,EAAE,CAAC;AACnB,wBAAO,CAAC,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;KACvE;;AAED,MAAE,CAAC,0BAA0B,EAAE,YAAM;AACnC,WAAK,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;KAC3B,CAAC,CAAC;;AAEH,MAAE,CAAC,2BAA2B,EAAE,YAAM;AACpC,WAAK,CAAC,gBAAgB,EAAE,eAAe,CAAC,CAAC;KAC1C,CAAC,CAAC;;AAEH,MAAE,CAAC,6BAA6B,EAAE,YAAM;AACtC,WAAK,CAAC,wBAAwB,EAAE,sBAAsB,CAAC,CAAC;KACzD,CAAC,CAAC;;AAEH,MAAE,CAAC,4BAA4B,EAAE,YAAM;AACrC,WAAK,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;KAC3B,CAAC,CAAC;;AAEH,MAAE,CAAC,yCAAyC,EAAE,YAAM;AAClD,UAAI,EAAE,GAAG,CAAC,CAAC,6DAA6D,CAAC,CAAC;AAC1E,OAAC,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;AACrB,WAAK,CAAC,QAAQ,EAAE,eAAe,CAAC,CAAC;KAClC,CAAC,CAAC;GACJ,CAAC,CAAC;CACJ,CAAC,CAAC",
      "file": "/app/kitsune/sumo/static/sumo/js/tests/tagsfiltertests.js",
      "sourcesContent": [
        "import React from 'react';\nimport {default as mochaJsdom, rerequire} from 'mocha-jsdom';\nimport {expect} from 'chai';\nimport sinon from 'sinon';\n\nimport mochaGettext from './fixtures/mochaGettext.js';\nimport mochaK from './fixtures/mochaK.js';\nimport mochaJquery from './fixtures/mochaJquery.js';\nimport mochaUnderscore from './fixtures/mochaUnderscore.js';\n\ndescribe('k', () => {\n  let form;\n\n  mochaJsdom({useEach: true});\n  mochaJquery();\n  mochaK();\n  mochaUnderscore();\n  /* globals window, $, k */\n\n  describe('TagsFilter', () => {\n    beforeEach(() => {\n      rerequire('../tags.filter.js');\n\n      let sandbox = (\n        <div>\n          <section className=\"tag-filter\">\n            <form method=\"get\" action=\"\">\n              <input type=\"text\"\n                     name=\"tagged\"\n                     className=\"text tags-autocomplete\"\n                     defaultValue=\"Go\"\n                     data-vocabulary={JSON.stringify({\n                       'Name 1': 'slug-1',\n                       'Name 2': 'slug-2',\n                       'Name 3': 'slug-3',\n                     })}/>\n              <input type=\"submit\" defaultValue=\"Go\" />\n            </form>\n          </section>\n        </div>\n      );\n      React.render(sandbox, window.document.body);\n\n      k.TagsFilter.init($('body'));\n      // Don't let forms submit\n      $('form').submit((e) => e.preventDefault());\n    });\n\n    function check(input, output) {\n      $('form').find('input[type=\"text\"]').val(input);\n      $('form').submit();\n      expect($('form').find('input[name=\"tagged\"]').val()).to.equal(output);\n    }\n\n    it('should work with one tag', () => {\n      check('Name 1', 'slug-1');\n    });\n\n    it('should work with two tags', () => {\n      check('Name 1, Name 2', 'slug-1,slug-2');\n    });\n\n    it('should work with three tags', () => {\n      check('Name 1, Name 2, Name 3', 'slug-1,slug-2,slug-3');\n    });\n\n    it('should be case insensitive', () => {\n      check('nAmE 1', 'slug-1');\n    });\n\n    it(\"shouldn't overwrite pre-existing values\", () => {\n      let $h = $('<input type=\"hidden\" class=\"current-tagged\" value=\"slug-7\">');\n      $('form').append($h);\n      check('Name 1', 'slug-7,slug-1');\n    });\n  });\n});\n"
      ]
    },
    "mtime": 1561057444000
  },
  "{\"filename\":\"/app/kitsune/sumo/static/sumo/js/ajaxvote.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":2,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "/* global gettext:false, k:false, jQuery:false */\n'use strict';\n\n(function ($) {\n\n  'use strict';\n\n  function AjaxVote(form, options) {\n    /* Args:\n    * form - the voting form to ajaxify. Can be a selector, DOM element,\n    *        or jQuery node\n    * options - dict of options\n    *      positionMessage - absolutely position the response message?\n    *      removeForm - remove the form after vote?\n    */\n    AjaxVote.prototype.init.call(this, form, options);\n  }\n\n  AjaxVote.prototype = {\n    init: function init(form, options) {\n      var self = this,\n          $ajaxForm = $(form),\n          $btns = $ajaxForm.find('input[type=\"submit\"], [data-type=\"submit\"]');\n\n      options = $.extend({\n        positionMessage: false,\n        removeForm: false,\n        replaceFormWithMessage: false\n      }, options);\n      self.options = options;\n      self.voted = false;\n      self.$form = $ajaxForm;\n\n      $btns.click(function (e) {\n        if (!self.voted) {\n          var $btn = $(this),\n              $form = $btn.closest('form'),\n              url = $form.attr('action'),\n              formDataArray = $form.serializeArray(),\n              data = {},\n              i,\n              l;\n          $btns.attr('disabled', 'disabled');\n          $form.addClass('busy');\n          for (i = 0, l = formDataArray.length; i < l; i++) {\n            data[formDataArray[i].name] = formDataArray[i].value;\n          }\n          data[$btn.attr('name')] = $btn.val();\n          $.ajax({\n            url: url,\n            type: 'POST',\n            data: data,\n            dataType: 'json',\n            success: function success(response) {\n              if (response.survey) {\n                self.showSurvey(response.survey, $form.parent());\n              }\n              if (response.message) {\n                self.showMessage(response.message, $btn, $form);\n              }\n              $btn.addClass('active');\n              $btns.removeAttr('disabled');\n              $form.removeClass('busy');\n              self.voted = true;\n\n              if (!data.ignored) {\n                // Trigger a document event for others to listen for.\n                $(document).trigger('vote', $.extend(data, { url: url }));\n              }\n\n              // Hide other forms\n              self.$form.filter(function () {\n                return !$form.is(this);\n              }).remove();\n            },\n            error: function error() {\n              var msg = gettext('There was an error submitting your vote.');\n              self.showMessage(msg, $btn);\n              $btns.removeAttr('disabled');\n              $form.removeClass('busy');\n            }\n          });\n        }\n\n        $(this).blur();\n        e.preventDefault();\n        return false;\n      });\n    },\n    showMessage: function showMessage(message, $showAbove, $form) {\n      // TODO: Tweak KBox to handle this case.\n      var self = this,\n          $html = $('<div class=\"ajax-vote-box\"><p class=\"msg\"></p></div>'),\n          offset = $showAbove.offset();\n      $html.find('p').html(message);\n\n      if (self.options.positionMessage) {\n        // on desktop browsers we use absolute positioning\n        $('body').append($html);\n        $html.css({\n          top: offset.top - $html.height() - 30,\n          left: offset.left + $showAbove.width() / 2 - $html.width() / 2\n        });\n        var timer = setTimeout(fadeOut, 10000);\n        $('body').one('click', fadeOut);\n      } else if (self.options.replaceFormWithMessage) {\n        $form.replaceWith($html.removeClass('ajax-vote-box'));\n      } else {\n        // on mobile browsers we just append to the grandfather\n        // TODO: make this more configurable with an extra option\n        $showAbove.parent().parent().addClass($showAbove.val()).append($html);\n      }\n\n      function fadeOut() {\n        $html.fadeOut(function () {\n          $html.remove();\n        });\n        if (self.options.removeForm) {\n          self.$form.fadeOut(function () {\n            self.$form.remove();\n          });\n        }\n        $('body').unbind('click', fadeOut);\n        clearTimeout(timer);\n      }\n    },\n    showSurvey: function showSurvey(survey, $container) {\n      var $survey = $(survey);\n      var $commentCount = $survey.find('#remaining-characters');\n      var $commentBox = $survey.find('textarea');\n      var maxCount = parseInt($commentCount.text(), 10);\n      var $radios = $survey.find('input[type=radio][name=unhelpful-reason]');\n      var $submit = $survey.find('input[type=submit], [data-type=submit]');\n      var $reason = $survey.find('.disabled-reason');\n      var $textbox = $survey.find('textarea');\n\n      $container.after($survey);\n\n      // If we are in the sidebar, remove the vote form container.\n      if ($container.closest('aside').length) {\n        $container.remove();\n      }\n\n      $submit.prop('disabled', true);\n\n      function validate() {\n        var checked = $radios.filter(':checked').val();\n        var feedback = $textbox.val();\n        if (checked === undefined || (checked === 'other' || checked === 'firefox-feedback') && !feedback) {\n          $submit.prop('disabled', true);\n          $reason.fadeIn(600);\n        } else {\n          $submit.prop('disabled', false);\n          $reason.fadeOut(600);\n        }\n      }\n\n      $commentBox.bind('input', function () {\n        var currentCount = $commentBox.val().length;\n        var checked;\n\n        if (maxCount - currentCount >= 0) {\n          $commentCount.text(maxCount - currentCount);\n        } else {\n          $commentCount.text(0);\n          $commentBox.val($commentBox.val().substr(0, maxCount));\n        }\n        validate();\n      });\n\n      $radios.bind('change', validate);\n\n      new k.AjaxVote($survey.find('form'), { // eslint-disable-line\n        replaceFormWithMessage: true\n      });\n    }\n  };\n\n  window.k = window.k || {};\n  window.k.AjaxVote = AjaxVote;\n})(jQuery);\n/*\n* Voting form ajaxified.\n*/\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9hcHAva2l0c3VuZS9zdW1vL3N0YXRpYy9zdW1vL2pzL2FqYXh2b3RlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUtBLENBQUMsVUFBUyxDQUFDLEVBQUU7O0FBRVgsY0FBWSxDQUFDOztBQUViLFdBQVMsUUFBUSxDQUFDLElBQUksRUFBRSxPQUFPLEVBQUU7Ozs7Ozs7O0FBUS9CLFlBQVEsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0dBQ25EOztBQUVELFVBQVEsQ0FBQyxTQUFTLEdBQUc7QUFDbkIsUUFBSSxFQUFFLGNBQVMsSUFBSSxFQUFFLE9BQU8sRUFBRTtBQUM1QixVQUFJLElBQUksR0FBRyxJQUFJO1VBQ2IsU0FBUyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUM7VUFDbkIsS0FBSyxHQUFHLFNBQVMsQ0FBQyxJQUFJLENBQUMsNENBQTRDLENBQUMsQ0FBQzs7QUFFdkUsYUFBTyxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUM7QUFDakIsdUJBQWUsRUFBRSxLQUFLO0FBQ3RCLGtCQUFVLEVBQUUsS0FBSztBQUNqQiw4QkFBc0IsRUFBRSxLQUFLO09BQzlCLEVBQUUsT0FBTyxDQUFDLENBQUM7QUFDWixVQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztBQUN2QixVQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztBQUNuQixVQUFJLENBQUMsS0FBSyxHQUFHLFNBQVMsQ0FBQzs7QUFFdkIsV0FBSyxDQUFDLEtBQUssQ0FBQyxVQUFTLENBQUMsRUFBRTtBQUN0QixZQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRTtBQUNmLGNBQUksSUFBSSxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUM7Y0FDaEIsS0FBSyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDO2NBQzVCLEdBQUcsR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FB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Q0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUU7QUFDbkMsOEJBQXNCLEVBQUUsSUFBSTtPQUM3QixDQUFDLENBQUM7S0FDSjtHQUNGLENBQUM7O0FBRUYsUUFBTSxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUMxQixRQUFNLENBQUMsQ0FBQyxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7Q0FFOUIsQ0FBQSxDQUFFLE1BQU0sQ0FBQyxDQUFDIiwiZmlsZSI6Ii9hcHAva2l0c3VuZS9zdW1vL3N0YXRpYy9zdW1vL2pzL2FqYXh2b3RlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogZ2xvYmFsIGdldHRleHQ6ZmFsc2UsIGs6ZmFsc2UsIGpRdWVyeTpmYWxzZSAqL1xuLypcbiogVm90aW5nIGZvcm0gYWpheGlmaWVkLlxuKi9cblxuKGZ1bmN0aW9uKCQpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgZnVuY3Rpb24gQWpheFZvdGUoZm9ybSwgb3B0aW9ucykge1xuICAgIC8qIEFyZ3M6XG4gICAgKiBmb3JtIC0gdGhlIHZvdGluZyBmb3JtIHRvIGFqYXhpZnkuIENhbiBiZSBhIHNlbGVjdG9yLCBET00gZWxlbWVudCxcbiAgICAqICAgICAgICBvciBqUXVlcnkgbm9kZVxuICAgICogb3B0aW9ucyAtIGRpY3Qgb2Ygb3B0aW9uc1xuICAgICogICAgICBwb3NpdGlvbk1lc3NhZ2UgLSBhYnNvbHV0ZWx5IHBvc2l0aW9uIHRoZSByZXNwb25zZSBtZXNzYWdlP1xuICAgICogICAgICByZW1vdmVGb3JtIC0gcmVtb3ZlIHRoZSBmb3JtIGFmdGVyIHZvdGU/XG4gICAgKi9cbiAgICBBamF4Vm90ZS5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMsIGZvcm0sIG9wdGlvbnMpO1xuICB9XG5cbiAgQWpheFZvdGUucHJvdG90eXBlID0ge1xuICAgIGluaXQ6IGZ1bmN0aW9uKGZvcm0sIG9wdGlvbnMpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgJGFqYXhGb3JtID0gJChmb3JtKSxcbiAgICAgICAgJGJ0bnMgPSAkYWpheEZvcm0uZmluZCgnaW5wdXRbdHlwZT1cInN1Ym1pdFwiXSwgW2RhdGEtdHlwZT1cInN1Ym1pdFwiXScpO1xuXG4gICAgICBvcHRpb25zID0gJC5leHRlbmQoe1xuICAgICAgICBwb3NpdGlvbk1lc3NhZ2U6IGZhbHNlLFxuICAgICAgICByZW1vdmVGb3JtOiBmYWxzZSxcbiAgICAgICAgcmVwbGFjZUZvcm1XaXRoTWVzc2FnZTogZmFsc2VcbiAgICAgIH0sIG9wdGlvbnMpO1xuICAgICAgc2VsZi5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgIHNlbGYudm90ZWQgPSBmYWxzZTtcbiAgICAgIHNlbGYuJGZvcm0gPSAkYWpheEZvcm07XG5cbiAgICAgICRidG5zLmNsaWNrKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKCFzZWxmLnZvdGVkKSB7XG4gICAgICAgICAgdmFyICRidG4gPSAkKHRoaXMpLFxuICAgICAgICAgICAgJGZvcm0gPSAkYnRuLmNsb3Nlc3QoJ2Zvcm0nKSxcbiAgICAgICAgICAgIHVybCA9ICRmb3JtLmF0dHIoJ2FjdGlvbicpLFxuICAgICAgICAgICAgZm9ybURhdGFBcnJheSA9ICRmb3JtLnNlcmlhbGl6ZUFycmF5KCksXG4gICAgICAgICAgICBkYXRhID0ge30sXG4gICAgICAgICAgICBpLCBsO1xuICAgICAgICAgICRidG5zLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgJGZvcm0uYWRkQ2xhc3MoJ2J1c3knKTtcbiAgICAgICAgICBmb3IgKGkgPSAwLCBsID0gZm9ybURhdGFBcnJheS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIGRhdGFbZm9ybURhdGFBcnJheVtpXS5uYW1lXSA9IGZvcm1EYXRhQXJyYXlbaV0udmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRhdGFbJGJ0bi5hdHRyKCduYW1lJyldID0gJGJ0bi52YWwoKTtcbiAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdXJ2ZXkpIHtcbiAgICAgICAgICAgICAgICBzZWxmLnNob3dTdXJ2ZXkocmVzcG9uc2Uuc3VydmV5LCAkZm9ybS5wYXJlbnQoKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICBzZWxmLnNob3dNZXNzYWdlKHJlc3BvbnNlLm1lc3NhZ2UsICRidG4sICRmb3JtKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAkYnRuLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgJGJ0bnMucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICAgJGZvcm0ucmVtb3ZlQ2xhc3MoJ2J1c3knKTtcbiAgICAgICAgICAgICAgc2VsZi52b3RlZCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgaWYgKCFkYXRhLmlnbm9yZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBUcmlnZ2VyIGEgZG9jdW1lbnQgZXZlbnQgZm9yIG90aGVycyB0byBsaXN0ZW4gZm9yLlxuICAgICAgICAgICAgICAgICQoZG9jdW1lbnQpLnRyaWdnZXIoJ3ZvdGUnLCAkLmV4dGVuZChkYXRhLCB7dXJsOiB1cmx9KSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAvLyBIaWRlIG90aGVyIGZvcm1zXG4gICAgICAgICAgICAgIHNlbGYuJGZvcm0uZmlsdGVyKGZ1bmN0aW9uKCkgeyByZXR1cm4gISRmb3JtLmlzKHRoaXMpOyB9KS5yZW1vdmUoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHZhciBtc2cgPSBnZXR0ZXh0KCdUaGVyZSB3YXMgYW4gZXJyb3Igc3VibWl0dGluZyB5b3VyIHZvdGUuJyk7XG4gICAgICAgICAgICAgIHNlbGYuc2hvd01lc3NhZ2UobXNnLCAkYnRuKTtcbiAgICAgICAgICAgICAgJGJ0bnMucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICAgJGZvcm0ucmVtb3ZlQ2xhc3MoJ2J1c3knKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgICQodGhpcykuYmx1cigpO1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgc2hvd01lc3NhZ2U6IGZ1bmN0aW9uKG1lc3NhZ2UsICRzaG93QWJvdmUsICRmb3JtKSB7XG4gICAgICAvLyBUT0RPOiBUd2VhayBLQm94IHRvIGhhbmRsZSB0aGlzIGNhc2UuXG4gICAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgICRodG1sID0gJCgnPGRpdiBjbGFzcz1cImFqYXgtdm90ZS1ib3hcIj48cCBjbGFzcz1cIm1zZ1wiPjwvcD48L2Rpdj4nKSxcbiAgICAgICAgb2Zmc2V0ID0gJHNob3dBYm92ZS5vZmZzZXQoKTtcbiAgICAgICRodG1sLmZpbmQoJ3AnKS5odG1sKG1lc3NhZ2UpO1xuXG4gICAgICBpZiAoc2VsZi5vcHRpb25zLnBvc2l0aW9uTWVzc2FnZSkge1xuICAgICAgICAvLyBvbiBkZXNrdG9wIGJyb3dzZXJzIHdlIHVzZSBhYnNvbHV0ZSBwb3NpdGlvbmluZ1xuICAgICAgICAkKCdib2R5JykuYXBwZW5kKCRodG1sKTtcbiAgICAgICAgJGh0bWwuY3NzKHtcbiAgICAgICAgICB0b3A6IG9mZnNldC50b3AgLSAkaHRtbC5oZWlnaHQoKSAtIDMwLFxuICAgICAgICAgIGxlZnQ6IG9mZnNldC5sZWZ0ICsgJHNob3dBYm92ZS53aWR0aCgpIC8gMiAtICRodG1sLndpZHRoKCkgLyAyXG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgdGltZXIgPSBzZXRUaW1lb3V0KGZhZGVPdXQsIDEwMDAwKTtcbiAgICAgICAgJCgnYm9keScpLm9uZSgnY2xpY2snLCBmYWRlT3V0KTtcbiAgICAgIH0gZWxzZSBpZiAoc2VsZi5vcHRpb25zLnJlcGxhY2VGb3JtV2l0aE1lc3NhZ2UpIHtcbiAgICAgICAgJGZvcm0ucmVwbGFjZVdpdGgoJGh0bWwucmVtb3ZlQ2xhc3MoJ2FqYXgtdm90ZS1ib3gnKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBvbiBtb2JpbGUgYnJvd3NlcnMgd2UganVzdCBhcHBlbmQgdG8gdGhlIGdyYW5kZmF0aGVyXG4gICAgICAgIC8vIFRPRE86IG1ha2UgdGhpcyBtb3JlIGNvbmZpZ3VyYWJsZSB3aXRoIGFuIGV4dHJhIG9wdGlvblxuICAgICAgICAkc2hvd0Fib3ZlLnBhcmVudCgpLnBhcmVudCgpXG4gICAgICAgIC5hZGRDbGFzcygkc2hvd0Fib3ZlLnZhbCgpKS5hcHBlbmQoJGh0bWwpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBmYWRlT3V0KCkge1xuICAgICAgICAkaHRtbC5mYWRlT3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICRodG1sLnJlbW92ZSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHNlbGYub3B0aW9ucy5yZW1vdmVGb3JtKSB7XG4gICAgICAgICAgc2VsZi4kZm9ybS5mYWRlT3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi4kZm9ybS5yZW1vdmUoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAkKCdib2R5JykudW5iaW5kKCdjbGljaycsIGZhZGVPdXQpO1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgfVxuICAgIH0sXG4gICAgc2hvd1N1cnZleTogZnVuY3Rpb24oc3VydmV5LCAkY29udGFpbmVyKSB7XG4gICAgICB2YXIgJHN1cnZleSA9ICQoc3VydmV5KTtcbiAgICAgIHZhciAkY29tbWVudENvdW50ID0gJHN1cnZleS5maW5kKCcjcmVtYWluaW5nLWNoYXJhY3RlcnMnKTtcbiAgICAgIHZhciAkY29tbWVudEJveCA9ICRzdXJ2ZXkuZmluZCgndGV4dGFyZWEnKTtcbiAgICAgIHZhciBtYXhDb3VudCA9IHBhcnNlSW50KCRjb21tZW50Q291bnQudGV4dCgpLCAxMCk7XG4gICAgICB2YXIgJHJhZGlvcyA9ICRzdXJ2ZXkuZmluZCgnaW5wdXRbdHlwZT1yYWRpb11bbmFtZT11bmhlbHBmdWwtcmVhc29uXScpO1xuICAgICAgdmFyICRzdWJtaXQgPSAkc3VydmV5LmZpbmQoJ2lucHV0W3R5cGU9c3VibWl0XSwgW2RhdGEtdHlwZT1zdWJtaXRdJyk7XG4gICAgICB2YXIgJHJlYXNvbiA9ICRzdXJ2ZXkuZmluZCgnLmRpc2FibGVkLXJlYXNvbicpO1xuICAgICAgdmFyICR0ZXh0Ym94ID0gJHN1cnZleS5maW5kKCd0ZXh0YXJlYScpO1xuXG4gICAgICAkY29udGFpbmVyLmFmdGVyKCRzdXJ2ZXkpO1xuXG4gICAgICAvLyBJZiB3ZSBhcmUgaW4gdGhlIHNpZGViYXIsIHJlbW92ZSB0aGUgdm90ZSBmb3JtIGNvbnRhaW5lci5cbiAgICAgIGlmICgkY29udGFpbmVyLmNsb3Nlc3QoJ2FzaWRlJykubGVuZ3RoKSB7XG4gICAgICAgICRjb250YWluZXIucmVtb3ZlKCk7XG4gICAgICB9XG5cbiAgICAgICRzdWJtaXQucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcblxuICAgICAgZnVuY3Rpb24gdmFsaWRhdGUoKSB7XG4gICAgICAgIHZhciBjaGVja2VkID0gJHJhZGlvcy5maWx0ZXIoJzpjaGVja2VkJykudmFsKCk7XG4gICAgICAgIHZhciBmZWVkYmFjayA9ICR0ZXh0Ym94LnZhbCgpO1xuICAgICAgICBpZiAoY2hlY2tlZCA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICAoKGNoZWNrZWQgPT09ICdvdGhlcicgfHwgY2hlY2tlZCA9PT0gJ2ZpcmVmb3gtZmVlZGJhY2snKSAmJiAhZmVlZGJhY2spKSB7XG4gICAgICAgICAgJHN1Ym1pdC5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xuICAgICAgICAgICRyZWFzb24uZmFkZUluKDYwMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJHN1Ym1pdC5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcbiAgICAgICAgICAkcmVhc29uLmZhZGVPdXQoNjAwKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAkY29tbWVudEJveC5iaW5kKCdpbnB1dCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgY3VycmVudENvdW50ID0gJGNvbW1lbnRCb3gudmFsKCkubGVuZ3RoO1xuICAgICAgICB2YXIgY2hlY2tlZDtcblxuICAgICAgICBpZiAobWF4Q291bnQgLSBjdXJyZW50Q291bnQgPj0gMCkge1xuICAgICAgICAgICRjb21tZW50Q291bnQudGV4dChtYXhDb3VudCAtIGN1cnJlbnRDb3VudCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJGNvbW1lbnRDb3VudC50ZXh0KDApO1xuICAgICAgICAgICRjb21tZW50Qm94LnZhbCgkY29tbWVudEJveC52YWwoKS5zdWJzdHIoMCwgbWF4Q291bnQpKTtcbiAgICAgICAgfVxuICAgICAgICB2YWxpZGF0ZSgpO1xuICAgICAgfSk7XG5cbiAgICAgICRyYWRpb3MuYmluZCgnY2hhbmdlJywgdmFsaWRhdGUpO1xuXG4gICAgICBuZXcgay5BamF4Vm90ZSgkc3VydmV5LmZpbmQoJ2Zvcm0nKSwgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgIHJlcGxhY2VGb3JtV2l0aE1lc3NhZ2U6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICB3aW5kb3cuayA9IHdpbmRvdy5rIHx8IHt9O1xuICB3aW5kb3cuay5BamF4Vm90ZSA9IEFqYXhWb3RlO1xuXG59KShqUXVlcnkpO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/app/kitsune/sumo/static/sumo/js/ajaxvote.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/app/kitsune/sumo/static/sumo/js/ajaxvote.js",
      "sourcesContent": [
        "/* global gettext:false, k:false, jQuery:false */\n/*\n* Voting form ajaxified.\n*/\n\n(function($) {\n\n  'use strict';\n\n  function AjaxVote(form, options) {\n    /* Args:\n    * form - the voting form to ajaxify. Can be a selector, DOM element,\n    *        or jQuery node\n    * options - dict of options\n    *      positionMessage - absolutely position the response message?\n    *      removeForm - remove the form after vote?\n    */\n    AjaxVote.prototype.init.call(this, form, options);\n  }\n\n  AjaxVote.prototype = {\n    init: function(form, options) {\n      var self = this,\n        $ajaxForm = $(form),\n        $btns = $ajaxForm.find('input[type=\"submit\"], [data-type=\"submit\"]');\n\n      options = $.extend({\n        positionMessage: false,\n        removeForm: false,\n        replaceFormWithMessage: false\n      }, options);\n      self.options = options;\n      self.voted = false;\n      self.$form = $ajaxForm;\n\n      $btns.click(function(e) {\n        if (!self.voted) {\n          var $btn = $(this),\n            $form = $btn.closest('form'),\n            url = $form.attr('action'),\n            formDataArray = $form.serializeArray(),\n            data = {},\n            i, l;\n          $btns.attr('disabled', 'disabled');\n          $form.addClass('busy');\n          for (i = 0, l = formDataArray.length; i < l; i++) {\n            data[formDataArray[i].name] = formDataArray[i].value;\n          }\n          data[$btn.attr('name')] = $btn.val();\n          $.ajax({\n            url: url,\n            type: 'POST',\n            data: data,\n            dataType: 'json',\n            success: function(response) {\n              if (response.survey) {\n                self.showSurvey(response.survey, $form.parent());\n              }\n              if (response.message) {\n                self.showMessage(response.message, $btn, $form);\n              }\n              $btn.addClass('active');\n              $btns.removeAttr('disabled');\n              $form.removeClass('busy');\n              self.voted = true;\n\n              if (!data.ignored) {\n                // Trigger a document event for others to listen for.\n                $(document).trigger('vote', $.extend(data, {url: url}));\n              }\n\n              // Hide other forms\n              self.$form.filter(function() { return !$form.is(this); }).remove();\n            },\n            error: function() {\n              var msg = gettext('There was an error submitting your vote.');\n              self.showMessage(msg, $btn);\n              $btns.removeAttr('disabled');\n              $form.removeClass('busy');\n            }\n          });\n        }\n\n        $(this).blur();\n        e.preventDefault();\n        return false;\n      });\n    },\n    showMessage: function(message, $showAbove, $form) {\n      // TODO: Tweak KBox to handle this case.\n      var self = this,\n        $html = $('<div class=\"ajax-vote-box\"><p class=\"msg\"></p></div>'),\n        offset = $showAbove.offset();\n      $html.find('p').html(message);\n\n      if (self.options.positionMessage) {\n        // on desktop browsers we use absolute positioning\n        $('body').append($html);\n        $html.css({\n          top: offset.top - $html.height() - 30,\n          left: offset.left + $showAbove.width() / 2 - $html.width() / 2\n        });\n        var timer = setTimeout(fadeOut, 10000);\n        $('body').one('click', fadeOut);\n      } else if (self.options.replaceFormWithMessage) {\n        $form.replaceWith($html.removeClass('ajax-vote-box'));\n      } else {\n        // on mobile browsers we just append to the grandfather\n        // TODO: make this more configurable with an extra option\n        $showAbove.parent().parent()\n        .addClass($showAbove.val()).append($html);\n      }\n\n      function fadeOut() {\n        $html.fadeOut(function() {\n          $html.remove();\n        });\n        if (self.options.removeForm) {\n          self.$form.fadeOut(function() {\n            self.$form.remove();\n          });\n        }\n        $('body').unbind('click', fadeOut);\n        clearTimeout(timer);\n      }\n    },\n    showSurvey: function(survey, $container) {\n      var $survey = $(survey);\n      var $commentCount = $survey.find('#remaining-characters');\n      var $commentBox = $survey.find('textarea');\n      var maxCount = parseInt($commentCount.text(), 10);\n      var $radios = $survey.find('input[type=radio][name=unhelpful-reason]');\n      var $submit = $survey.find('input[type=submit], [data-type=submit]');\n      var $reason = $survey.find('.disabled-reason');\n      var $textbox = $survey.find('textarea');\n\n      $container.after($survey);\n\n      // If we are in the sidebar, remove the vote form container.\n      if ($container.closest('aside').length) {\n        $container.remove();\n      }\n\n      $submit.prop('disabled', true);\n\n      function validate() {\n        var checked = $radios.filter(':checked').val();\n        var feedback = $textbox.val();\n        if (checked === undefined ||\n            ((checked === 'other' || checked === 'firefox-feedback') && !feedback)) {\n          $submit.prop('disabled', true);\n          $reason.fadeIn(600);\n        } else {\n          $submit.prop('disabled', false);\n          $reason.fadeOut(600);\n        }\n      }\n\n      $commentBox.bind('input', function() {\n        var currentCount = $commentBox.val().length;\n        var checked;\n\n        if (maxCount - currentCount >= 0) {\n          $commentCount.text(maxCount - currentCount);\n        } else {\n          $commentCount.text(0);\n          $commentBox.val($commentBox.val().substr(0, maxCount));\n        }\n        validate();\n      });\n\n      $radios.bind('change', validate);\n\n      new k.AjaxVote($survey.find('form'), { // eslint-disable-line\n        replaceFormWithMessage: true\n      });\n    }\n  };\n\n  window.k = window.k || {};\n  window.k.AjaxVote = AjaxVote;\n\n})(jQuery);\n"
      ]
    },
    "mtime": 1561987558000
  },
  "{\"filename\":\"/app/kitsune/sumo/static/sumo/js/browserdetect.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":2,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "/* globals _:false */\n/* Detect the set of OSes and browsers we care about in the wiki and AAQ.\n * Adapted from http://www.quirksmode.org/js/detect.html with these changes:\n *\n * - Changed the dataOS identity properties to lowercase to match the {for}\n *   abbreviations in models.OPERATING_SYSTEMS.\n * - Added Maemo and Android OS detection. Removed iPhone.\n * - Added Fennec browser detection.\n * - Changed Firefox's browser identity to \"fx\" and Fennec's to \"m\" to match\n *   {for} syntax and avoid yet another representation.\n * - Removed fallbacks to the string \"an unknown ____\" in favor of just\n *   returning undefined.\n * - Deleted the browsers we don't care about.\n */\n'use strict';\n\nvar BrowserDetect = window.BrowserDetect = {\n  init: function init() {\n    var detected = this.detect();\n    this.browser = detected[0];\n    this.version = detected[1];\n    this.OS = detected[2];\n  },\n\n  detect: function detect(inputString) {\n    var browser = this.searchString(this.dataBrowser, inputString);\n    var version;\n    if (inputString) {\n      version = this.searchVersion(inputString);\n    } else {\n      version = this.searchVersion(navigator.userAgent, inputString) || this.searchVersion(navigator.appVersion, inputString);\n    }\n    var os = this.searchString(this.dataOS, inputString);\n\n    var res = this.fxosSpecialCase(inputString, browser, version, os);\n\n    return res;\n  },\n\n  searchString: function searchString(data, inputString) {\n    for (var i = 0, l = data.length; i < l; i++) {\n      // If an inputString is specified (for testing), use that.\n      var matchedAll,\n          dataString = inputString || data[i].string;\n\n      this.versionSearchString = data[i].versionSearch || data[i].identity;\n\n      // Check if all subStrings are in the dataString.\n      matchedAll = _.reduce(data[i].subStrings, function (memo, sub) {\n        if (sub instanceof RegExp) {\n          return memo && sub.exec(dataString);\n        } else {\n          return memo && dataString.indexOf(sub) !== -1;\n        }\n      }, true);\n\n      if (matchedAll) {\n        return data[i].identity;\n      }\n    }\n  },\n\n  searchVersion: function searchVersion(dataString) {\n    var index = dataString.indexOf(this.versionSearchString);\n    if (index === -1) {\n      return null;\n    }\n    return parseFloat(dataString.substring(index + this.versionSearchString.length + 1)); // Turns '1.1.1' into 1.1 rather than 1.11. :-(\n  },\n\n  fxosSpecialCase: function fxosSpecialCase(ua, browser, version, os) {\n    ua = ua || navigator.userAgent;\n    var match = /Gecko\\/([\\d.]+)/.exec(ua);\n    if (os === 'fxos' && !!match) {\n      var geckoVersion = parseFloat(match[1]);\n      version = this.dataGeckoToFxOS[geckoVersion];\n      browser = 'fxos';\n    }\n    return [browser, version, os];\n  },\n\n  dataBrowser: [{\n    string: navigator.userAgent,\n    subStrings: ['Fennec'],\n    versionSearch: 'Fennec',\n    identity: 'm'\n  }, { // Fennec's UA changed in v14 to:\n    // Mozilla/5.0 (Android; Mobile; rv:14.0) Gecko/14.0 Firefox/14.0\n    // Now we need to look for the presence of both 'Mobile'\n    // and 'Firefox'.\n    string: navigator.userAgent,\n    subStrings: ['Android', 'Firefox'],\n    versionSearch: 'Firefox',\n    identity: 'm'\n  }, {\n    string: navigator.userAgent,\n    subStrings: ['Firefox'],\n    versionSearch: 'Firefox',\n    identity: 'fx'\n  }, {\n    string: navigator.userAgent,\n    subStrings: ['FxiOS'],\n    identity: 'fxios',\n    versionSearch: 'FxiOS'\n  }],\n  dataOS: [{\n    // 6.2 is Windows 8. 6.3 is Windows 8.1.\n    string: navigator.userAgent,\n    subStrings: [/Windows NT 6.[23]/],\n    identity: 'win8'\n  }, { // 6.0 is Vista, 6.1 is Windows 7. We lump them together here.\n    string: navigator.userAgent,\n    subStrings: [/Windows NT 6\\.[01]/],\n    identity: 'win7'\n  }, { // This lumps together Windows 2000 and Windows XP\n    string: navigator.userAgent,\n    subStrings: [/Windows NT 5\\./],\n    identity: 'winxp'\n  }, { // Windows 10\n    string: navigator.userAgent,\n    subStrings: [/Windows NT 10\\./],\n    identity: 'win10'\n  }, { // If we can't figure out what version, fallback.\n    // This probably means they are running something like Windows ME.\n    string: navigator.platform,\n    subStrings: ['Win'],\n    identity: 'win'\n  }, {\n    string: navigator.userAgent,\n    subStrings: [/iPad|iPhone|iPod Touch/],\n    identity: 'ios'\n  }, {\n    string: navigator.platform,\n    subStrings: ['Mac'],\n    identity: 'mac'\n  }, {\n    string: navigator.userAgent,\n    subStrings: ['Android'],\n    identity: 'android'\n  }, {\n    string: navigator.userAgent,\n    subStrings: ['Maemo'],\n    identity: 'maemo'\n  }, {\n    string: navigator.platform,\n    subStrings: [/Linux|FreeBSD/],\n    identity: 'linux'\n  }, {\n    string: navigator.userAgent,\n    subStrings: ['Firefox'],\n    identity: 'fxos'\n  }],\n  dataGeckoToFxOS: {\n    18.0: 1.0,\n    18.1: 1.1,\n    26.0: 1.2,\n    28.0: 1.3,\n    30.0: 1.4,\n    32.0: 2.0,\n    34.0: 2.1,\n    37.0: 2.2,\n    44.0: 2.5\n  }\n};\nBrowserDetect.init(); // TODO: Do this lazily.\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9hcHAva2l0c3VuZS9zdW1vL3N0YXRpYy9zdW1vL2pzL2Jyb3dzZXJkZXRlY3QuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQWNBLElBQUksYUFBYSxHQUFHLE1BQU0sQ0FBQyxhQUFhLEdBQUc7QUFDekMsTUFBSSxFQUFFLGdCQUFZO0FBQ2hCLFFBQUksUUFBUSxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztBQUM3QixRQUFJLENBQUMsT0FBTyxHQUFHLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUMzQixRQUFJLENBQUMsT0FBTyxHQUFHLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUMzQixRQUFJLENBQUMsRUFBRSxHQUFHLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztHQUN2Qjs7QUFFRCxRQUFNLEVBQUUsZ0JBQVMsV0FBVyxFQUFFO0FBQzVCLFFBQUksT0FBTyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxXQUFXLENBQUMsQ0FBQztBQUMvRCxRQUFJLE9BQU8sQ0FBQztBQUNaLFFBQUksV0FBVyxFQUFFO0FBQ2YsYUFBTyxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsV0FBVyxDQUFDLENBQUM7S0FDM0MsTUFBTTtBQUNMLGFBQU8sR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLFNBQVMsQ0FBQyxTQUFTLEVBQUUsV0FBVyxDQUFDLElBQzVELElBQUksQ0FBQyxhQUFhLENBQUMsU0FBUyxDQUFDLFVBQVUsRUFBRSxXQUFXLENBQUMsQ0FBQztLQUN6RDtBQUNELFFBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxXQUFXLENBQUMsQ0FBQzs7QUFFckQsUUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxXQUFXLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxFQUFFLENBQUMsQ0FBQzs7QUFFbEUsV0FBTyxH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U0FBUztBQUMzQixjQUFVLEVBQUUsQ0FBQyxPQUFPLENBQUM7QUFDckIsWUFBUSxFQUFFLE9BQU87R0FDbEIsRUFDRDtBQUNFLFVBQU0sRUFBRSxTQUFTLENBQUMsUUFBUTtBQUMxQixjQUFVLEVBQUUsQ0FBQyxlQUFlLENBQUM7QUFDN0IsWUFBUSxFQUFFLE9BQU87R0FDbEIsRUFDRDtBQUNFLFVBQU0sRUFBRSxTQUFTLENBQUMsU0FBUztBQUMzQixjQUFVLEVBQUUsQ0FBQyxTQUFTLENBQUM7QUFDdkIsWUFBUSxFQUFFLE1BQU07R0FDakIsQ0FDRjtBQUNELGlCQUFlLEVBQUU7QUFDZixRQUFJLEVBQUUsR0FBRztBQUNULFFBQUksRUFBRSxHQUFHO0FBQ1QsUUFBSSxFQUFFLEdBQUc7QUFDVCxRQUFJLEVBQUUsR0FBRztBQUNULFFBQUksRUFBRSxHQUFHO0FBQ1QsUUFBSSxFQUFFLEdBQUc7QUFDVCxRQUFJLEVBQUUsR0FBRztBQUNULFFBQUksRUFBRSxHQUFHO0FBQ1QsUUFBSSxFQUFFLEdBQUc7R0FDVjtDQUNGLENBQUM7QUFDRixhQUFhLENBQUMsSUFBSSxFQUFFLENBQUMiLCJmaWxlIjoiL2FwcC9raXRzdW5lL3N1bW8vc3RhdGljL3N1bW8vanMvYnJvd3NlcmRldGVjdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGdsb2JhbHMgXzpmYWxzZSAqL1xuLyogRGV0ZWN0IHRoZSBzZXQgb2YgT1NlcyBhbmQgYnJvd3NlcnMgd2UgY2FyZSBhYm91dCBpbiB0aGUgd2lraSBhbmQgQUFRLlxuICogQWRhcHRlZCBmcm9tIGh0dHA6Ly93d3cucXVpcmtzbW9kZS5vcmcvanMvZGV0ZWN0Lmh0bWwgd2l0aCB0aGVzZSBjaGFuZ2VzOlxuICpcbiAqIC0gQ2hhbmdlZCB0aGUgZGF0YU9TIGlkZW50aXR5IHByb3BlcnRpZXMgdG8gbG93ZXJjYXNlIHRvIG1hdGNoIHRoZSB7Zm9yfVxuICogICBhYmJyZXZpYXRpb25zIGluIG1vZGVscy5PUEVSQVRJTkdfU1lTVEVNUy5cbiAqIC0gQWRkZWQgTWFlbW8gYW5kIEFuZHJvaWQgT1MgZGV0ZWN0aW9uLiBSZW1vdmVkIGlQaG9uZS5cbiAqIC0gQWRkZWQgRmVubmVjIGJyb3dzZXIgZGV0ZWN0aW9uLlxuICogLSBDaGFuZ2VkIEZpcmVmb3gncyBicm93c2VyIGlkZW50aXR5IHRvIFwiZnhcIiBhbmQgRmVubmVjJ3MgdG8gXCJtXCIgdG8gbWF0Y2hcbiAqICAge2Zvcn0gc3ludGF4IGFuZCBhdm9pZCB5ZXQgYW5vdGhlciByZXByZXNlbnRhdGlvbi5cbiAqIC0gUmVtb3ZlZCBmYWxsYmFja3MgdG8gdGhlIHN0cmluZyBcImFuIHVua25vd24gX19fX1wiIGluIGZhdm9yIG9mIGp1c3RcbiAqICAgcmV0dXJuaW5nIHVuZGVmaW5lZC5cbiAqIC0gRGVsZXRlZCB0aGUgYnJvd3NlcnMgd2UgZG9uJ3QgY2FyZSBhYm91dC5cbiAqL1xudmFyIEJyb3dzZXJEZXRlY3QgPSB3aW5kb3cuQnJvd3NlckRldGVjdCA9IHtcbiAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgIHZhciBkZXRlY3RlZCA9IHRoaXMuZGV0ZWN0KCk7XG4gICAgdGhpcy5icm93c2VyID0gZGV0ZWN0ZWRbMF07XG4gICAgdGhpcy52ZXJzaW9uID0gZGV0ZWN0ZWRbMV07XG4gICAgdGhpcy5PUyA9IGRldGVjdGVkWzJdO1xuICB9LFxuXG4gIGRldGVjdDogZnVuY3Rpb24oaW5wdXRTdHJpbmcpIHtcbiAgICB2YXIgYnJvd3NlciA9IHRoaXMuc2VhcmNoU3RyaW5nKHRoaXMuZGF0YUJyb3dzZXIsIGlucHV0U3RyaW5nKTtcbiAgICB2YXIgdmVyc2lvbjtcbiAgICBpZiAoaW5wdXRTdHJpbmcpIHtcbiAgICAgIHZlcnNpb24gPSB0aGlzLnNlYXJjaFZlcnNpb24oaW5wdXRTdHJpbmcpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2ZXJzaW9uID0gdGhpcy5zZWFyY2hWZXJzaW9uKG5hdmlnYXRvci51c2VyQWdlbnQsIGlucHV0U3RyaW5nKSB8fFxuICAgICAgICB0aGlzLnNlYXJjaFZlcnNpb24obmF2aWdhdG9yLmFwcFZlcnNpb24sIGlucHV0U3RyaW5nKTtcbiAgICB9XG4gICAgdmFyIG9zID0gdGhpcy5zZWFyY2hTdHJpbmcodGhpcy5kYXRhT1MsIGlucHV0U3RyaW5nKTtcblxuICAgIHZhciByZXMgPSB0aGlzLmZ4b3NTcGVjaWFsQ2FzZShpbnB1dFN0cmluZywgYnJvd3NlciwgdmVyc2lvbiwgb3MpO1xuXG4gICAgcmV0dXJuIHJlcztcbiAgfSxcblxuICBzZWFyY2hTdHJpbmc6IGZ1bmN0aW9uIChkYXRhLCBpbnB1dFN0cmluZykge1xuICAgIGZvciAodmFyIGkgPSAwLCBsID0gZGF0YS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIC8vIElmIGFuIGlucHV0U3RyaW5nIGlzIHNwZWNpZmllZCAoZm9yIHRlc3RpbmcpLCB1c2UgdGhhdC5cbiAgICAgIHZhciBtYXRjaGVkQWxsLFxuICAgICAgICBkYXRhU3RyaW5nID0gaW5wdXRTdHJpbmcgfHwgZGF0YVtpXS5zdHJpbmc7XG5cbiAgICAgIHRoaXMudmVyc2lvblNlYXJjaFN0cmluZyA9IGRhdGFbaV0udmVyc2lvblNlYXJjaCB8fCBkYXRhW2ldLmlkZW50aXR5O1xuXG4gICAgICAvLyBDaGVjayBpZiBhbGwgc3ViU3RyaW5ncyBhcmUgaW4gdGhlIGRhdGFTdHJpbmcuXG4gICAgICBtYXRjaGVkQWxsID0gXy5yZWR1Y2UoZGF0YVtpXS5zdWJTdHJpbmdzLCBmdW5jdGlvbihtZW1vLCBzdWIpIHtcbiAgICAgICAgaWYgKHN1YiBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgICAgICAgIHJldHVybiBtZW1vICYmIHN1Yi5leGVjKGRhdGFTdHJpbmcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBtZW1vICYmIChkYXRhU3RyaW5nLmluZGV4T2Yoc3ViKSAhPT0gLTEpO1xuICAgICAgICB9XG4gICAgICB9LCB0cnVlKTtcblxuICAgICAgaWYgKG1hdGNoZWRBbGwpIHtcbiAgICAgICAgcmV0dXJuIGRhdGFbaV0uaWRlbnRpdHk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIHNlYXJjaFZlcnNpb246IGZ1bmN0aW9uIChkYXRhU3RyaW5nKSB7XG4gICAgdmFyIGluZGV4ID0gZGF0YVN0cmluZy5pbmRleE9mKHRoaXMudmVyc2lvblNlYXJjaFN0cmluZyk7XG4gICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBwYXJzZUZsb2F0KGRhdGFTdHJpbmcuc3Vic3RyaW5nKGluZGV4ICsgdGhpcy52ZXJzaW9uU2VhcmNoU3RyaW5nLmxlbmd0aCArIDEpKTsgIC8vIFR1cm5zICcxLjEuMScgaW50byAxLjEgcmF0aGVyIHRoYW4gMS4xMS4gOi0oXG4gIH0sXG5cbiAgZnhvc1NwZWNpYWxDYXNlOiBmdW5jdGlvbih1YSwgYnJvd3NlciwgdmVyc2lvbiwgb3MpIHtcbiAgICB1YSA9IHVhIHx8IG5hdmlnYXRvci51c2VyQWdlbnQ7XG4gICAgdmFyIG1hdGNoID0gL0dlY2tvXFwvKFtcXGQuXSspLy5leGVjKHVhKTtcbiAgICBpZiAob3MgPT09ICdmeG9zJyAmJiAhIW1hdGNoKSB7XG4gICAgICB2YXIgZ2Vja29WZXJzaW9uID0gcGFyc2VGbG9hdChtYXRjaFsxXSk7XG4gICAgICB2ZXJzaW9uID0gdGhpcy5kYXRhR2Vja29Ub0Z4T1NbZ2Vja29WZXJzaW9uXTtcbiAgICAgIGJyb3dzZXIgPSAnZnhvcyc7XG4gICAgfVxuICAgIHJldHVybiBbYnJvd3NlciwgdmVyc2lvbiwgb3NdO1xuICB9LFxuXG4gIGRhdGFCcm93c2VyOiBbXG4gICAge1xuICAgICAgc3RyaW5nOiBuYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgc3ViU3RyaW5nczogWydGZW5uZWMnXSxcbiAgICAgIHZlcnNpb25TZWFyY2g6ICdGZW5uZWMnLFxuICAgICAgaWRlbnRpdHk6ICdtJ1xuICAgIH0sXG4gICAgeyAvLyBGZW5uZWMncyBVQSBjaGFuZ2VkIGluIHYxNCB0bzpcbiAgICAgIC8vIE1vemlsbGEvNS4wIChBbmRyb2lkOyBNb2JpbGU7IHJ2OjE0LjApIEdlY2tvLzE0LjAgRmlyZWZveC8xNC4wXG4gICAgICAvLyBOb3cgd2UgbmVlZCB0byBsb29rIGZvciB0aGUgcHJlc2VuY2Ugb2YgYm90aCAnTW9iaWxlJ1xuICAgICAgLy8gYW5kICdGaXJlZm94Jy5cbiAgICAgIHN0cmluZzogbmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgIHN1YlN0cmluZ3M6IFsnQW5kcm9pZCcsICdGaXJlZm94J10sXG4gICAgICB2ZXJzaW9uU2VhcmNoOiAnRmlyZWZveCcsXG4gICAgICBpZGVudGl0eTogJ20nXG4gICAgfSxcbiAgICB7XG4gICAgICBzdHJpbmc6IG5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICBzdWJTdHJpbmdzOiBbJ0ZpcmVmb3gnXSxcbiAgICAgIHZlcnNpb25TZWFyY2g6ICdGaXJlZm94JyxcbiAgICAgIGlkZW50aXR5OiAnZngnXG4gICAgfSxcbiAgICB7XG4gICAgICBzdHJpbmc6IG5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICBzdWJTdHJpbmdzOiBbJ0Z4aU9TJ10sXG4gICAgICBpZGVudGl0eTogJ2Z4aW9zJyxcbiAgICAgIHZlcnNpb25TZWFyY2g6ICdGeGlPUycsXG4gICAgfVxuICBdLFxuICBkYXRhT1M6IFtcbiAgICB7XG4gICAgICAvLyA2LjIgaXMgV2luZG93cyA4LiA2LjMgaXMgV2luZG93cyA4LjEuXG4gICAgICBzdHJpbmc6IG5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICBzdWJTdHJpbmdzOiBbL1dpbmRvd3MgTlQgNi5bMjNdL10sXG4gICAgICBpZGVudGl0eTogJ3dpbjgnXG4gICAgfSxcbiAgICB7ICAgLy8gNi4wIGlzIFZpc3RhLCA2LjEgaXMgV2luZG93cyA3LiBXZSBsdW1wIHRoZW0gdG9nZXRoZXIgaGVyZS5cbiAgICAgIHN0cmluZzogbmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgIHN1YlN0cmluZ3M6IFsvV2luZG93cyBOVCA2XFwuWzAxXS9dLFxuICAgICAgaWRlbnRpdHk6ICd3aW43J1xuICAgIH0sXG4gICAgeyAgIC8vIFRoaXMgbHVtcHMgdG9nZXRoZXIgV2luZG93cyAyMDAwIGFuZCBXaW5kb3dzIFhQXG4gICAgICBzdHJpbmc6IG5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICBzdWJTdHJpbmdzOiBbL1dpbmRvd3MgTlQgNVxcLi9dLFxuICAgICAgaWRlbnRpdHk6ICd3aW54cCdcbiAgICB9LFxuICAgIHsgICAvLyBXaW5kb3dzIDEwXG4gICAgICBzdHJpbmc6IG5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICBzdWJTdHJpbmdzOiBbL1dpbmRvd3MgTlQgMTBcXC4vXSxcbiAgICAgIGlkZW50aXR5OiAnd2luMTAnXG4gICAgfSxcbiAgICB7ICAgLy8gSWYgd2UgY2FuJ3QgZmlndXJlIG91dCB3aGF0IHZlcnNpb24sIGZhbGxiYWNrLlxuICAgICAgLy8gVGhpcyBwcm9iYWJseSBtZWFucyB0aGV5IGFyZSBydW5uaW5nIHNvbWV0aGluZyBsaWtlIFdpbmRvd3MgTUUuXG4gICAgICBzdHJpbmc6IG5hdmlnYXRvci5wbGF0Zm9ybSxcbiAgICAgIHN1YlN0cmluZ3M6IFsnV2luJ10sXG4gICAgICBpZGVudGl0eTogJ3dpbidcbiAgICB9LFxuICAgIHtcbiAgICAgIHN0cmluZzogbmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgIHN1YlN0cmluZ3M6IFsvaVBhZHxpUGhvbmV8aVBvZCBUb3VjaC9dLFxuICAgICAgaWRlbnRpdHk6ICdpb3MnLFxuICAgIH0sXG4gICAge1xuICAgICAgc3RyaW5nOiBuYXZpZ2F0b3IucGxhdGZvcm0sXG4gICAgICBzdWJTdHJpbmdzOiBbJ01hYyddLFxuICAgICAgaWRlbnRpdHk6ICdtYWMnXG4gICAgfSxcbiAgICB7XG4gICAgICBzdHJpbmc6IG5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICBzdWJTdHJpbmdzOiBbJ0FuZHJvaWQnXSxcbiAgICAgIGlkZW50aXR5OiAnYW5kcm9pZCdcbiAgICB9LFxuICAgIHtcbiAgICAgIHN0cmluZzogbmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgIHN1YlN0cmluZ3M6IFsnTWFlbW8nXSxcbiAgICAgIGlkZW50aXR5OiAnbWFlbW8nXG4gICAgfSxcbiAgICB7XG4gICAgICBzdHJpbmc6IG5hdmlnYXRvci5wbGF0Zm9ybSxcbiAgICAgIHN1YlN0cmluZ3M6IFsvTGludXh8RnJlZUJTRC9dLFxuICAgICAgaWRlbnRpdHk6ICdsaW51eCdcbiAgICB9LFxuICAgIHtcbiAgICAgIHN0cmluZzogbmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgIHN1YlN0cmluZ3M6IFsnRmlyZWZveCddLFxuICAgICAgaWRlbnRpdHk6ICdmeG9zJ1xuICAgIH1cbiAgXSxcbiAgZGF0YUdlY2tvVG9GeE9TOiB7XG4gICAgMTguMDogMS4wLFxuICAgIDE4LjE6IDEuMSxcbiAgICAyNi4wOiAxLjIsXG4gICAgMjguMDogMS4zLFxuICAgIDMwLjA6IDEuNCxcbiAgICAzMi4wOiAyLjAsXG4gICAgMzQuMDogMi4xLFxuICAgIDM3LjA6IDIuMixcbiAgICA0NC4wOiAyLjVcbiAgfVxufTtcbkJyb3dzZXJEZXRlY3QuaW5pdCgpOyAgLy8gVE9ETzogRG8gdGhpcyBsYXppbHkuXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/app/kitsune/sumo/static/sumo/js/browserdetect.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/app/kitsune/sumo/static/sumo/js/browserdetect.js",
      "sourcesContent": [
        "/* globals _:false */\n/* Detect the set of OSes and browsers we care about in the wiki and AAQ.\n * Adapted from http://www.quirksmode.org/js/detect.html with these changes:\n *\n * - Changed the dataOS identity properties to lowercase to match the {for}\n *   abbreviations in models.OPERATING_SYSTEMS.\n * - Added Maemo and Android OS detection. Removed iPhone.\n * - Added Fennec browser detection.\n * - Changed Firefox's browser identity to \"fx\" and Fennec's to \"m\" to match\n *   {for} syntax and avoid yet another representation.\n * - Removed fallbacks to the string \"an unknown ____\" in favor of just\n *   returning undefined.\n * - Deleted the browsers we don't care about.\n */\nvar BrowserDetect = window.BrowserDetect = {\n  init: function () {\n    var detected = this.detect();\n    this.browser = detected[0];\n    this.version = detected[1];\n    this.OS = detected[2];\n  },\n\n  detect: function(inputString) {\n    var browser = this.searchString(this.dataBrowser, inputString);\n    var version;\n    if (inputString) {\n      version = this.searchVersion(inputString);\n    } else {\n      version = this.searchVersion(navigator.userAgent, inputString) ||\n        this.searchVersion(navigator.appVersion, inputString);\n    }\n    var os = this.searchString(this.dataOS, inputString);\n\n    var res = this.fxosSpecialCase(inputString, browser, version, os);\n\n    return res;\n  },\n\n  searchString: function (data, inputString) {\n    for (var i = 0, l = data.length; i < l; i++) {\n      // If an inputString is specified (for testing), use that.\n      var matchedAll,\n        dataString = inputString || data[i].string;\n\n      this.versionSearchString = data[i].versionSearch || data[i].identity;\n\n      // Check if all subStrings are in the dataString.\n      matchedAll = _.reduce(data[i].subStrings, function(memo, sub) {\n        if (sub instanceof RegExp) {\n          return memo && sub.exec(dataString);\n        } else {\n          return memo && (dataString.indexOf(sub) !== -1);\n        }\n      }, true);\n\n      if (matchedAll) {\n        return data[i].identity;\n      }\n    }\n  },\n\n  searchVersion: function (dataString) {\n    var index = dataString.indexOf(this.versionSearchString);\n    if (index === -1) {\n      return null;\n    }\n    return parseFloat(dataString.substring(index + this.versionSearchString.length + 1));  // Turns '1.1.1' into 1.1 rather than 1.11. :-(\n  },\n\n  fxosSpecialCase: function(ua, browser, version, os) {\n    ua = ua || navigator.userAgent;\n    var match = /Gecko\\/([\\d.]+)/.exec(ua);\n    if (os === 'fxos' && !!match) {\n      var geckoVersion = parseFloat(match[1]);\n      version = this.dataGeckoToFxOS[geckoVersion];\n      browser = 'fxos';\n    }\n    return [browser, version, os];\n  },\n\n  dataBrowser: [\n    {\n      string: navigator.userAgent,\n      subStrings: ['Fennec'],\n      versionSearch: 'Fennec',\n      identity: 'm'\n    },\n    { // Fennec's UA changed in v14 to:\n      // Mozilla/5.0 (Android; Mobile; rv:14.0) Gecko/14.0 Firefox/14.0\n      // Now we need to look for the presence of both 'Mobile'\n      // and 'Firefox'.\n      string: navigator.userAgent,\n      subStrings: ['Android', 'Firefox'],\n      versionSearch: 'Firefox',\n      identity: 'm'\n    },\n    {\n      string: navigator.userAgent,\n      subStrings: ['Firefox'],\n      versionSearch: 'Firefox',\n      identity: 'fx'\n    },\n    {\n      string: navigator.userAgent,\n      subStrings: ['FxiOS'],\n      identity: 'fxios',\n      versionSearch: 'FxiOS',\n    }\n  ],\n  dataOS: [\n    {\n      // 6.2 is Windows 8. 6.3 is Windows 8.1.\n      string: navigator.userAgent,\n      subStrings: [/Windows NT 6.[23]/],\n      identity: 'win8'\n    },\n    {   // 6.0 is Vista, 6.1 is Windows 7. We lump them together here.\n      string: navigator.userAgent,\n      subStrings: [/Windows NT 6\\.[01]/],\n      identity: 'win7'\n    },\n    {   // This lumps together Windows 2000 and Windows XP\n      string: navigator.userAgent,\n      subStrings: [/Windows NT 5\\./],\n      identity: 'winxp'\n    },\n    {   // Windows 10\n      string: navigator.userAgent,\n      subStrings: [/Windows NT 10\\./],\n      identity: 'win10'\n    },\n    {   // If we can't figure out what version, fallback.\n      // This probably means they are running something like Windows ME.\n      string: navigator.platform,\n      subStrings: ['Win'],\n      identity: 'win'\n    },\n    {\n      string: navigator.userAgent,\n      subStrings: [/iPad|iPhone|iPod Touch/],\n      identity: 'ios',\n    },\n    {\n      string: navigator.platform,\n      subStrings: ['Mac'],\n      identity: 'mac'\n    },\n    {\n      string: navigator.userAgent,\n      subStrings: ['Android'],\n      identity: 'android'\n    },\n    {\n      string: navigator.userAgent,\n      subStrings: ['Maemo'],\n      identity: 'maemo'\n    },\n    {\n      string: navigator.platform,\n      subStrings: [/Linux|FreeBSD/],\n      identity: 'linux'\n    },\n    {\n      string: navigator.userAgent,\n      subStrings: ['Firefox'],\n      identity: 'fxos'\n    }\n  ],\n  dataGeckoToFxOS: {\n    18.0: 1.0,\n    18.1: 1.1,\n    26.0: 1.2,\n    28.0: 1.3,\n    30.0: 1.4,\n    32.0: 2.0,\n    34.0: 2.1,\n    37.0: 2.2,\n    44.0: 2.5\n  }\n};\nBrowserDetect.init();  // TODO: Do this lazily.\n"
      ]
    },
    "mtime": 1561057444000
  },
  "{\"filename\":\"/app/kitsune/sumo/static/sumo/js/libs/jquery.placeholder.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":2,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "// https://github.com/danielstocks/jQuery-Placeholder\n'use strict';\n\n(function ($) {\n    function Placeholder(input) {\n        this.input = input;\n        if (input.attr('type') == 'password') {\n            this.handlePassword();\n        }\n        // Prevent placeholder values from submitting\n        $(input[0].form).submit(function () {\n            if (input.hasClass('placeholder') && input[0].value == input.attr('placeholder')) {\n                input[0].value = '';\n            }\n        });\n    }\n    Placeholder.prototype = {\n        show: function show(loading) {\n            // FF and IE saves values when you refresh the page. If the user refreshes the page with\n            // the placeholders showing they will be the default values and the input fields won't be empty.\n            if (this.input[0].value === '' || loading && this.valueIsPlaceholder()) {\n                if (this.isPassword) {\n                    try {\n                        this.input[0].setAttribute('type', 'text');\n                    } catch (e) {\n                        this.input.before(this.fakePassword.show()).hide();\n                    }\n                }\n                this.input.addClass('placeholder');\n                this.input[0].value = this.input.attr('placeholder');\n            }\n        },\n        hide: function hide() {\n            if (this.valueIsPlaceholder() && this.input.hasClass('placeholder')) {\n                this.input.removeClass('placeholder');\n                this.input[0].value = '';\n                if (this.isPassword) {\n                    try {\n                        this.input[0].setAttribute('type', 'password');\n                    } catch (e) {}\n                    // Restore focus for Opera and IE\n                    this.input.show();\n                    this.input[0].focus();\n                }\n            }\n        },\n        valueIsPlaceholder: function valueIsPlaceholder() {\n            return this.input[0].value == this.input.attr('placeholder');\n        },\n        handlePassword: function handlePassword() {\n            var input = this.input;\n            input.attr('realType', 'password');\n            this.isPassword = true;\n            // IE < 9 doesn't allow changing the type of password inputs\n            if ($.browser.msie && input[0].outerHTML) {\n                var fakeHTML = $(input[0].outerHTML.replace(/type=(['\"])?password\\1/gi, 'type=$1text$1'));\n                this.fakePassword = fakeHTML.val(input.attr('placeholder')).addClass('placeholder').focus(function () {\n                    input.trigger('focus');\n                    $(this).hide();\n                });\n                $(input[0].form).submit(function () {\n                    fakeHTML.remove();\n                    input.show();\n                });\n            }\n        }\n    };\n    var NATIVE_SUPPORT = !!(\"placeholder\" in document.createElement(\"input\"));\n    $.fn.placeholder = function () {\n        return NATIVE_SUPPORT ? this : this.each(function () {\n            var input = $(this);\n            var placeholder = new Placeholder(input);\n            placeholder.show(true);\n            input.focus(function () {\n                placeholder.hide();\n            });\n            input.blur(function () {\n                placeholder.show(false);\n            });\n\n            // On page refresh, IE doesn't re-populate user input\n            // until the window.onload event is fired.\n            if ($.browser.msie) {\n                $(window).load(function () {\n                    if (input.val()) {\n                        input.removeClass(\"placeholder\");\n                    }\n                    placeholder.show(true);\n                });\n                // What's even worse, the text cursor disappears\n                // when tabbing between text inputs, here's a fix\n                input.focus(function () {\n                    if (this.value == \"\") {\n                        var range = this.createTextRange();\n                        range.collapse(true);\n                        range.moveStart('character', 0);\n                        range.select();\n                    }\n                });\n            }\n        });\n    };\n})(jQuery);\n/*\n* Placeholder plugin for jQuery\n* ---\n* Copyright 2010, Daniel Stocks (http://webcloud.se)\n* Released under the MIT, BSD, and GPL Licenses.\n*/\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9hcHAva2l0c3VuZS9zdW1vL3N0YXRpYy9zdW1vL2pzL2xpYnMvanF1ZXJ5LnBsYWNlaG9sZGVyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQU9BLENBQUMsVUFBUyxDQUFDLEVBQUU7QUFDVCxhQUFTLFdBQVcsQ0FBQyxLQUFLLEVBQUU7QUFDeEIsWUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7QUFDbkIsWUFBSSxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLFVBQVUsRUFBRTtBQUNsQyxnQkFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDO1NBQ3pCOztBQUVELFNBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFDLFlBQVc7QUFDL0IsZ0JBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxhQUFhLENBQUMsSUFBSSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLEVBQUU7QUFDOUUscUJBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDO2FBQ3ZCO1NBQ0osQ0FBQyxDQUFDO0tBQ047QUFDRCxlQUFXLENBQUMsU0FBUyxHQUFHO0FBQ3BCLFlBQUksRUFBRyxjQUFTLE9BQU8sRUFBRTs7O0FBR3JCLGdCQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxLQUFLLEVBQUUsSUFBSyxPQUFPLElBQUksSUFBSSxDQUFDLGtCQUFrQixFQUFFLEFBQUMsRUFBRTtBQUN0RSxvQkFBSSxJQUFJLENBQUMsVUFBVSxFQUFFO0FBQ2pCLHdCQUFJO0FBQ0EsNEJBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsQ0FBQztxQkFDOUMsQ0FBQyxPQUFPLENBQUMsRUFBRTtBQUNSLDRCQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUM7cUJBQ3REO2lCQUNKO0FBQ0Qsb0JBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxDQUFDO0FBQ25DLG9CQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQzthQUN4RDtTQUNKO0FBQ0QsWUFBSSxFQUFHLGdCQUFXO0FBQ2QsZ0JBQUksSUFBSSxDQUFDLGtCQUFrQixFQUFFLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsYUFBYSxDQUFDLEVBQUU7QUFDakUsb0JBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLGFBQWEsQ0FBQyxDQUFDO0FBQ3RDLG9CQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUM7QUFDekIsb0JBQUksSUFBSSxDQUFDLFVBQVUsRUFBRTtBQUNqQix3QkFBSTtBQUNBLDRCQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQyxNQUFNLEVBQUUsVUFBVSxDQUFDLENBQUM7cUJBQ2xELENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRzs7QUFFZix3QkFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNsQix3QkFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQztpQkFDekI7YUFDSjtTQUNKO0FBQ0QsMEJBQWtCLEVBQUcsOEJBQVc7QUFDNUIsbUJBQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7U0FDaEU7QUFDRCxzQkFBYyxFQUFFLDBCQUFXO0FBQ3ZCLGdCQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO0FBQ3ZCLGlCQUFLLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxVQUFVLENBQUMsQ0FBQztBQUNuQyxnQkFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUM7O0FBRXZCLGdCQUFJLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLEVBQUU7QUFDdEMsb0JBQUksUUFBUSxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQywwQkFBMEIsRUFBRSxlQUFlLENBQUMsQ0FBQyxDQUFDO0FBQzFGLG9CQUFJLENBQUMsWUFBWSxHQUFHLFFBQVEsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxhQUFhLENBQUMsQ0FBQyxLQUFLLENBQUMsWUFBVztBQUNqRyx5QkFBSyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUN2QixxQkFBQyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO2lCQUNsQixDQUFDLENBQUM7QUFDSCxpQkFBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUMsWUFBVztBQUMvQiw0QkFBUSxDQUFDLE1BQU0sRUFBRSxDQUFDO0FBQ2xCLHlCQUFLLENBQUMsSUFBSSxFQUFFLENBQUE7aUJBQ2YsQ0FBQyxDQUFDO2FBQ047U0FDSjtLQUNKLENBQUM7QUFDRixRQUFJLGNBQWMsR0FBRyxDQUFDLEVBQUUsYUFBYSxJQUFJLFFBQVEsQ0FBQyxhQUFhLENBQUUsT0FBTyxDQUFFLENBQUEsQUFBQyxDQUFDO0FBQzVFLEtBQUMsQ0FBQyxFQUFFLENBQUMsV0FBVyxHQUFHLFlBQVc7QUFDMUIsZUFBTyxjQUFjLEdBQUcsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBVztBQUNoRCxnQkFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ3BCLGdCQUFJLFdBQVcsR0FBRyxJQUFJLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUN6Qyx1QkFBVyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUN2QixpQkFBSyxDQUFDLEtBQUssQ0FBQyxZQUFXO0FBQ25CLDJCQUFXLENBQUMsSUFBSSxFQUFFLENBQUM7YUFDdEIsQ0FBQyxDQUFDO0FBQ0gsaUJBQUssQ0FBQyxJQUFJLENBQUMsWUFBVztBQUNsQiwyQkFBVyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQzthQUMzQixDQUFDLENBQUM7Ozs7QUFJSCxnQkFBSSxDQUFDLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRTtBQUNoQixpQkFBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxZQUFXO0FBQ3RCLHdCQUFHLEtBQUssQ0FBQyxHQUFHLEVBQUUsRUFBRTtBQUNaLDZCQUFLLENBQUMsV0FBVyxDQUFDLGFBQWEsQ0FBQyxDQUFDO3FCQUNwQztBQUNELCtCQUFXLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO2lCQUMxQixDQUFDLENBQUM7OztBQUdILHFCQUFLLENBQUMsS0FBSyxDQUFDLFlBQVc7QUFDbkIsd0JBQUcsSUFBSSxDQUFDLEtBQUssSUFBSSxFQUFFLEVBQUU7QUFDakIsNEJBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQztBQUNuQyw2QkFBSyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUNyQiw2QkFBSyxDQUFDLFNBQVMsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFDaEMsNkJBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQztxQkFDbEI7aUJBQ0osQ0FBQyxDQUFDO2FBQ047U0FDSixDQUFDLENBQUM7S0FDTixDQUFBO0NBQ0osQ0FBQSxDQUFFLE1BQU0sQ0FBQyxDQUFDIiwiZmlsZSI6Ii9hcHAva2l0c3VuZS9zdW1vL3N0YXRpYy9zdW1vL2pzL2xpYnMvanF1ZXJ5LnBsYWNlaG9sZGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gaHR0cHM6Ly9naXRodWIuY29tL2RhbmllbHN0b2Nrcy9qUXVlcnktUGxhY2Vob2xkZXJcbi8qXG4qIFBsYWNlaG9sZGVyIHBsdWdpbiBmb3IgalF1ZXJ5XG4qIC0tLVxuKiBDb3B5cmlnaHQgMjAxMCwgRGFuaWVsIFN0b2NrcyAoaHR0cDovL3dlYmNsb3VkLnNlKVxuKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlULCBCU0QsIGFuZCBHUEwgTGljZW5zZXMuXG4qL1xuKGZ1bmN0aW9uKCQpIHtcbiAgICBmdW5jdGlvbiBQbGFjZWhvbGRlcihpbnB1dCkge1xuICAgICAgICB0aGlzLmlucHV0ID0gaW5wdXQ7XG4gICAgICAgIGlmIChpbnB1dC5hdHRyKCd0eXBlJykgPT0gJ3Bhc3N3b3JkJykge1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVQYXNzd29yZCgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFByZXZlbnQgcGxhY2Vob2xkZXIgdmFsdWVzIGZyb20gc3VibWl0dGluZ1xuICAgICAgICAkKGlucHV0WzBdLmZvcm0pLnN1Ym1pdChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChpbnB1dC5oYXNDbGFzcygncGxhY2Vob2xkZXInKSAmJiBpbnB1dFswXS52YWx1ZSA9PSBpbnB1dC5hdHRyKCdwbGFjZWhvbGRlcicpKSB7XG4gICAgICAgICAgICAgICAgaW5wdXRbMF0udmFsdWUgPSAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIFBsYWNlaG9sZGVyLnByb3RvdHlwZSA9IHtcbiAgICAgICAgc2hvdyA6IGZ1bmN0aW9uKGxvYWRpbmcpIHtcbiAgICAgICAgICAgIC8vIEZGIGFuZCBJRSBzYXZlcyB2YWx1ZXMgd2hlbiB5b3UgcmVmcmVzaCB0aGUgcGFnZS4gSWYgdGhlIHVzZXIgcmVmcmVzaGVzIHRoZSBwYWdlIHdpdGhcbiAgICAgICAgICAgIC8vIHRoZSBwbGFjZWhvbGRlcnMgc2hvd2luZyB0aGV5IHdpbGwgYmUgdGhlIGRlZmF1bHQgdmFsdWVzIGFuZCB0aGUgaW5wdXQgZmllbGRzIHdvbid0IGJlIGVtcHR5LlxuICAgICAgICAgICAgaWYgKHRoaXMuaW5wdXRbMF0udmFsdWUgPT09ICcnIHx8IChsb2FkaW5nICYmIHRoaXMudmFsdWVJc1BsYWNlaG9sZGVyKCkpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNQYXNzd29yZCkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnB1dFswXS5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAndGV4dCcpO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0LmJlZm9yZSh0aGlzLmZha2VQYXNzd29yZC5zaG93KCkpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmlucHV0LmFkZENsYXNzKCdwbGFjZWhvbGRlcicpO1xuICAgICAgICAgICAgICAgIHRoaXMuaW5wdXRbMF0udmFsdWUgPSB0aGlzLmlucHV0LmF0dHIoJ3BsYWNlaG9sZGVyJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGhpZGUgOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnZhbHVlSXNQbGFjZWhvbGRlcigpICYmIHRoaXMuaW5wdXQuaGFzQ2xhc3MoJ3BsYWNlaG9sZGVyJykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlucHV0LnJlbW92ZUNsYXNzKCdwbGFjZWhvbGRlcicpO1xuICAgICAgICAgICAgICAgIHRoaXMuaW5wdXRbMF0udmFsdWUgPSAnJztcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc1Bhc3N3b3JkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0WzBdLnNldEF0dHJpYnV0ZSgndHlwZScsICdwYXNzd29yZCcpO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7IH1cbiAgICAgICAgICAgICAgICAgICAgLy8gUmVzdG9yZSBmb2N1cyBmb3IgT3BlcmEgYW5kIElFXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXQuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0WzBdLmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB2YWx1ZUlzUGxhY2Vob2xkZXIgOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmlucHV0WzBdLnZhbHVlID09IHRoaXMuaW5wdXQuYXR0cigncGxhY2Vob2xkZXInKTtcbiAgICAgICAgfSxcbiAgICAgICAgaGFuZGxlUGFzc3dvcmQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGlucHV0ID0gdGhpcy5pbnB1dDtcbiAgICAgICAgICAgIGlucHV0LmF0dHIoJ3JlYWxUeXBlJywgJ3Bhc3N3b3JkJyk7XG4gICAgICAgICAgICB0aGlzLmlzUGFzc3dvcmQgPSB0cnVlO1xuICAgICAgICAgICAgLy8gSUUgPCA5IGRvZXNuJ3QgYWxsb3cgY2hhbmdpbmcgdGhlIHR5cGUgb2YgcGFzc3dvcmQgaW5wdXRzXG4gICAgICAgICAgICBpZiAoJC5icm93c2VyLm1zaWUgJiYgaW5wdXRbMF0ub3V0ZXJIVE1MKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZha2VIVE1MID0gJChpbnB1dFswXS5vdXRlckhUTUwucmVwbGFjZSgvdHlwZT0oWydcIl0pP3Bhc3N3b3JkXFwxL2dpLCAndHlwZT0kMXRleHQkMScpKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZha2VQYXNzd29yZCA9IGZha2VIVE1MLnZhbChpbnB1dC5hdHRyKCdwbGFjZWhvbGRlcicpKS5hZGRDbGFzcygncGxhY2Vob2xkZXInKS5mb2N1cyhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQudHJpZ2dlcignZm9jdXMnKTtcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgJChpbnB1dFswXS5mb3JtKS5zdWJtaXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGZha2VIVE1MLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICBpbnB1dC5zaG93KClcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgdmFyIE5BVElWRV9TVVBQT1JUID0gISEoXCJwbGFjZWhvbGRlclwiIGluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiaW5wdXRcIiApKTtcbiAgICAkLmZuLnBsYWNlaG9sZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBOQVRJVkVfU1VQUE9SVCA/IHRoaXMgOiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgaW5wdXQgPSAkKHRoaXMpO1xuICAgICAgICAgICAgdmFyIHBsYWNlaG9sZGVyID0gbmV3IFBsYWNlaG9sZGVyKGlucHV0KTtcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyLnNob3codHJ1ZSk7XG4gICAgICAgICAgICBpbnB1dC5mb2N1cyhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlci5oaWRlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlucHV0LmJsdXIoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXIuc2hvdyhmYWxzZSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gT24gcGFnZSByZWZyZXNoLCBJRSBkb2Vzbid0IHJlLXBvcHVsYXRlIHVzZXIgaW5wdXRcbiAgICAgICAgICAgIC8vIHVudGlsIHRoZSB3aW5kb3cub25sb2FkIGV2ZW50IGlzIGZpcmVkLlxuICAgICAgICAgICAgaWYgKCQuYnJvd3Nlci5tc2llKSB7XG4gICAgICAgICAgICAgICAgJCh3aW5kb3cpLmxvYWQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmKGlucHV0LnZhbCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dC5yZW1vdmVDbGFzcyhcInBsYWNlaG9sZGVyXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyLnNob3codHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgLy8gV2hhdCdzIGV2ZW4gd29yc2UsIHRoZSB0ZXh0IGN1cnNvciBkaXNhcHBlYXJzXG4gICAgICAgICAgICAgICAgLy8gd2hlbiB0YWJiaW5nIGJldHdlZW4gdGV4dCBpbnB1dHMsIGhlcmUncyBhIGZpeFxuICAgICAgICAgICAgICAgIGlucHV0LmZvY3VzKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBpZih0aGlzLnZhbHVlID09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByYW5nZSA9IHRoaXMuY3JlYXRlVGV4dFJhbmdlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByYW5nZS5jb2xsYXBzZSh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlLm1vdmVTdGFydCgnY2hhcmFjdGVyJywgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByYW5nZS5zZWxlY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59KShqUXVlcnkpO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/app/kitsune/sumo/static/sumo/js/libs/jquery.placeholder.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/app/kitsune/sumo/static/sumo/js/libs/jquery.placeholder.js",
      "sourcesContent": [
        "// https://github.com/danielstocks/jQuery-Placeholder\n/*\n* Placeholder plugin for jQuery\n* ---\n* Copyright 2010, Daniel Stocks (http://webcloud.se)\n* Released under the MIT, BSD, and GPL Licenses.\n*/\n(function($) {\n    function Placeholder(input) {\n        this.input = input;\n        if (input.attr('type') == 'password') {\n            this.handlePassword();\n        }\n        // Prevent placeholder values from submitting\n        $(input[0].form).submit(function() {\n            if (input.hasClass('placeholder') && input[0].value == input.attr('placeholder')) {\n                input[0].value = '';\n            }\n        });\n    }\n    Placeholder.prototype = {\n        show : function(loading) {\n            // FF and IE saves values when you refresh the page. If the user refreshes the page with\n            // the placeholders showing they will be the default values and the input fields won't be empty.\n            if (this.input[0].value === '' || (loading && this.valueIsPlaceholder())) {\n                if (this.isPassword) {\n                    try {\n                        this.input[0].setAttribute('type', 'text');\n                    } catch (e) {\n                        this.input.before(this.fakePassword.show()).hide();\n                    }\n                }\n                this.input.addClass('placeholder');\n                this.input[0].value = this.input.attr('placeholder');\n            }\n        },\n        hide : function() {\n            if (this.valueIsPlaceholder() && this.input.hasClass('placeholder')) {\n                this.input.removeClass('placeholder');\n                this.input[0].value = '';\n                if (this.isPassword) {\n                    try {\n                        this.input[0].setAttribute('type', 'password');\n                    } catch (e) { }\n                    // Restore focus for Opera and IE\n                    this.input.show();\n                    this.input[0].focus();\n                }\n            }\n        },\n        valueIsPlaceholder : function() {\n            return this.input[0].value == this.input.attr('placeholder');\n        },\n        handlePassword: function() {\n            var input = this.input;\n            input.attr('realType', 'password');\n            this.isPassword = true;\n            // IE < 9 doesn't allow changing the type of password inputs\n            if ($.browser.msie && input[0].outerHTML) {\n                var fakeHTML = $(input[0].outerHTML.replace(/type=(['\"])?password\\1/gi, 'type=$1text$1'));\n                this.fakePassword = fakeHTML.val(input.attr('placeholder')).addClass('placeholder').focus(function() {\n                    input.trigger('focus');\n                    $(this).hide();\n                });\n                $(input[0].form).submit(function() {\n                    fakeHTML.remove();\n                    input.show()\n                });\n            }\n        }\n    };\n    var NATIVE_SUPPORT = !!(\"placeholder\" in document.createElement( \"input\" ));\n    $.fn.placeholder = function() {\n        return NATIVE_SUPPORT ? this : this.each(function() {\n            var input = $(this);\n            var placeholder = new Placeholder(input);\n            placeholder.show(true);\n            input.focus(function() {\n                placeholder.hide();\n            });\n            input.blur(function() {\n                placeholder.show(false);\n            });\n\n            // On page refresh, IE doesn't re-populate user input\n            // until the window.onload event is fired.\n            if ($.browser.msie) {\n                $(window).load(function() {\n                    if(input.val()) {\n                        input.removeClass(\"placeholder\");\n                    }\n                    placeholder.show(true);\n                });\n                // What's even worse, the text cursor disappears\n                // when tabbing between text inputs, here's a fix\n                input.focus(function() {\n                    if(this.value == \"\") {\n                        var range = this.createTextRange();\n                        range.collapse(true);\n                        range.moveStart('character', 0);\n                        range.select();\n                    }\n                });\n            }\n        });\n    }\n})(jQuery);\n"
      ]
    },
    "mtime": 1561057444000
  },
  "{\"filename\":\"/app/kitsune/sumo/static/sumo/js/main.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":2,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "/* globals $:false, k:false, _:false, interpolate:false, Modernizr:false */\n// Use a global k to share data accross JS files\n'use strict';\n\nwindow.k = window.k || {};\n\n(function () {\n  k.LAZY_DELAY = 500; // delay to lazy loading scripts, in ms\n  k.STATIC_URL = $('body').data('static-url');\n  k.getQueryParamsAsDict = function (url) {\n    // Parse the url's query parameters into a dict. Mostly stolen from:\n    // http://stackoverflow.com/questions/901115/get-query-string-values-in-javascript/2880929#2880929\n    var queryString = '',\n        splitUrl,\n        urlParams = {},\n        e,\n        a = /\\+/g,\n        // Regex for replacing addition symbol with a space\n    r = /([^&=]+)=?([^&]*)/g,\n        d = function d(s) {\n      return decodeURIComponent(s.replace(a, ' '));\n    };\n\n    if (url) {\n      splitUrl = url.split('?');\n      if (splitUrl.length > 1) {\n        queryString = splitUrl.splice(1).join('');\n      }\n    } else {\n      queryString = window.location.search.substring(1);\n    }\n\n    e = r.exec(queryString);\n    while (e) {\n      urlParams[d(e[1])] = d(e[2]);\n      e = r.exec(queryString);\n    }\n    return urlParams;\n  };\n\n  k.queryParamStringFromDict = function (obj) {\n    var qs = '';\n    _.forEach(obj, function (value, key) {\n      if (value === undefined || value === null) {\n        return;\n      }\n      qs += key + '=' + encodeURIComponent(value);\n      qs += '&';\n    });\n    qs = qs.slice(0, -1);\n    return '?' + qs;\n  };\n\n  k.getReferrer = function (urlParams) {\n    /*\n     Get the referrer to the current page. Returns:\n     - 'search' - if current url has as=s\n     - 'inproduct' - if current url has as=u\n     - actual referrer URL - if none of the above\n     */\n    if (urlParams.as === 's') {\n      return 'search';\n    } else if (urlParams.as === 'u') {\n      return 'inproduct';\n    } else {\n      return document.referrer;\n    }\n  };\n\n  k.getSearchQuery = function (urlParams, referrer) {\n    // If the referrer is a search page, return the search keywords.\n    if (referrer === 'search') {\n      return urlParams.s;\n    } else if (referrer !== 'inproduct') {\n      return k.getQueryParamsAsDict(referrer).q || '';\n    }\n    return '';\n  };\n\n  k.unquote = function (str) {\n    if (str) {\n      // Replace all \\\" with \"\n      str = str.replace(/\\\\\\\"/g, '\"');\n      // If a string is wrapped in double quotes, remove them.\n      if (str[0] === '\"' && str[str.length - 1] === '\"') {\n        return str.slice(1, str.length - 1);\n      }\n    }\n    return str;\n  };\n\n  var UNSAFE_CHARS = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    \"'\": '&#39;',\n    '\"': '&quot;'\n  };\n  k.safeString = function (str) {\n    if (str) {\n      return str.replace(new RegExp('[&<>\\'\"]', 'g'), function (m) {\n        return UNSAFE_CHARS[m];\n      });\n    }\n    return str;\n  };\n\n  k.safeInterpolate = function (fmt, obj, named) {\n    if (named) {\n      for (var j in obj) {\n        obj[j] = k.safeString(obj[j]);\n      }\n    } else {\n      for (var i = 0, l = obj.length; i < l; i++) {\n        obj[i] = k.safeString(obj[i]);\n      }\n    }\n    return interpolate(fmt, obj, named);\n  };\n\n  // Pass CSRF token in XHR header\n  $.ajaxSetup({\n    beforeSend: function beforeSend(xhr, settings) {\n      var csrfElem = document.querySelector('input[name=csrfmiddlewaretoken]');\n      var csrf = $.cookie('csrftoken');\n      if (!csrf && csrfElem) {\n        csrf = csrfElem.value;\n      }\n      if (csrf) {\n        xhr.setRequestHeader('X-CSRFToken', csrf);\n      }\n    }\n  });\n\n  $(document).ready(function () {\n    layoutTweaks();\n    /* Focus form field when clicking on error message. */\n    $('#content ul.errorlist a').click(function () {\n      $($(this).attr('href')).focus();\n      return false;\n    });\n\n    if ($('body').data('readonly')) {\n      var $forms = $('form[method=post]');\n      $forms.find('input, button, select, textarea').attr('disabled', 'disabled');\n      $forms.find('input[type=image]').css('opacity', .5);\n      $('div.editor-tools').remove();\n    }\n\n    $('input[placeholder]').placeholder();\n\n    initAutoSubmitSelects();\n    disableFormsOnSubmit();\n    removeAuthToken();\n    userMessageUI();\n\n    /* Skip to search (a11y) */\n    $('#skip-to-search').on('click', function (ev) {\n      ev.preventDefault();\n      $('input[name=q]').last().get(0).focus();\n    });\n  });\n\n  window.addEventListener('popstate', function () {\n    setTimeout(layoutTweaks, 0);\n  });\n\n  /*\n   * Initialize some selects so that they auto-submit on change.\n   */\n  function initAutoSubmitSelects() {\n    $('select.autosubmit').change(function () {\n      $(this).closest('form').submit();\n    });\n  }\n\n  /*\n   * Disable forms on submit to avoid multiple POSTs when double+ clicking.\n   * Adds `disabled` CSS class to the form for optionally styling elements.\n   *\n   * NOTE: We can't disable the buttons because it prevents their name/value\n   * from being submitted and we depend on those in some views.\n   */\n  function disableFormsOnSubmit() {\n    $('form').submit(function (ev) {\n      var $this = $(this);\n      if ($this.attr('method').toLowerCase() === 'post') {\n        (function () {\n          var enableForm = function enableForm() {\n            $this.data('disabled', false).removeClass('disabled');\n          };\n\n          if ($this.data('disabled')) {\n            ev.preventDefault();\n          } else {\n            $this.data('disabled', true).addClass('disabled');\n          }\n\n          $this.ajaxComplete(function () {\n            enableForm();\n            $this.unbind('ajaxComplete');\n          });\n\n          // Re-enable the form when users leave the page in case they come back.\n          $(window).unload(enableForm);\n          // Re-enable the form after 5 seconds in case something else went wrong.\n          setTimeout(enableForm, 5000);\n        })();\n      }\n    });\n  }\n\n  /*\n   * Remove an item from a list if it matches the substring match_against.\n   * Caution: modifies from_list.\n   * E.g. list = ['string'], remove_item(list, 'str') => list is [].\n   */\n  function remove_item(from_list, match_against) {\n    match_against = match_against.toLowerCase();\n    for (var i in from_list) {\n      if (match_against.indexOf(from_list[i]) >= 0) {\n        from_list.splice(i, 1);\n      }\n    }\n  }\n\n  function userMessageUI() {\n    // Add a close button to all messages.\n    $('.user-messages > li').each(function () {\n      var $msg = $(this);\n      $('<div>', { 'class': 'close-button' }).appendTo($msg);\n    });\n\n    function key($msg) {\n      return 'user-message::dismissed::' + $msg.attr('id');\n    }\n\n    // Some messages can be dismissed permanently.\n    $('.user-messages .dismissible').each(function () {\n      if (Modernizr.localstorage) {\n        var $msg = $(this);\n        if (!localStorage.getItem(key($msg))) {\n          $msg.show();\n        }\n      }\n    });\n    $('.user-messages').on('click', '.dismissible .dismiss', function (e) {\n      if (Modernizr.localstorage) {\n        var $msg = $(this).parent();\n        localStorage.setItem(key($msg), true);\n        $msg.hide();\n      }\n    });\n  }\n\n  function layoutTweaks() {\n    // Adjust the height of cards to be consistent within a group.\n    $('.card-grid').each(function () {\n      var $cards = $(this).children('li');\n      var max = 0;\n      $cards.each(function () {\n        var h = $(this).height();\n        if (h > max) {\n          max = h;\n        }\n      });\n      $cards.height(max);\n    });\n  }\n\n  function pad(str, length, padChar) {\n    str = '' + str;\n    while (str.length < length) {\n      str = padChar + str;\n    }\n    return str;\n  }\n\n  k.dateFormat = function (format, d) {\n    var dayNames = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\n\n    var month = pad(d.getMonth() + 1, 2, '0');\n    var date = pad(d.getDate(), 2, '0');\n    var hours = pad(d.getHours(), 2, '0');\n    var minutes = pad(d.getMinutes(), 2, '0');\n    var seconds = pad(d.getSeconds(), 2, '0');\n\n    return interpolate(format, {\n      'year': d.getFullYear(),\n      'month': month,\n      'date': date,\n      'day': dayNames[d.getDay()],\n      'hours': hours,\n      'minutes': minutes,\n      'seconds': seconds\n    }, true);\n  };\n\n  /* If an auth token is found in the url, remove it. It makes our\n   * urls look ugly.\n   */\n  function removeAuthToken() {\n    var qs = window.location.search.slice(1);\n    var query = qs.split('&').map(function (pair) {\n      return [pair.split('=')[0], pair.split('=').slice(1).join('=')];\n    });\n    var authFound = false;\n    query = query.filter(function (pair) {\n      if (pair[0] === 'auth') {\n        authFound = true;\n        return false;\n      }\n      return true;\n    });\n\n    if (authFound) {\n      qs = '?' + query.map(function (pair) {\n        return pair.join('=');\n      }).join('&');\n      history.replaceState(this.state, {}, qs);\n    }\n  }\n})();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9hcHAva2l0c3VuZS9zdW1vL3N0YXRpYy9zdW1vL2pzL21haW4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUVBLE1BQU0sQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUM7O0FBRTFCLENBQUMsWUFBWTtBQUNYLEdBQUMsQ0FBQyxVQUFVLEdBQUcsR0FBRyxDQUFDO0FBQ25CLEdBQUMsQ0FBQyxVQUFVLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztBQUM1QyxHQUFDLENBQUMsb0JBQW9CLEdBQUcsVUFBVSxHQUFHLEVBQUU7OztBQUd0QyxRQUFJLFdBQVcsR0FBRyxFQUFFO1FBQ2xCLFFBQVE7UUFDUixTQUFTLEdBQUcsRUFBRTtRQUNkLENBQUM7UUFDRCxDQUFDLEdBQUcsS0FBSzs7QUFDVCxLQUFDLEdBQUcsb0JBQW9CO1FBQ3hCLENBQUMsR0FBRyxTQUFKLENBQUMsQ0FBYSxDQUFDLEVBQUU7QUFBRSxhQUFPLGtCQUFrQixDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7S0FBRSxDQUFDOztBQUVyRSxRQUFJLEdBQUcsRUFBRTtBQUNQLGNBQVEsR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQzFCLFVBQUksUUFBUSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7QUFDdkIsbUJBQVcsR0FBRyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztPQUMzQztLQUNGLE1BQU07QUFDTCxpQkFBVyxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQztLQUNuRDs7QUFFRCxLQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztBQUN4QixXQUFP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RSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsVUFBUyxJQUFJLEVBQUU7QUFDM0MsYUFBTyxDQUNMLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQ2xCLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FDbkMsQ0FBQztLQUNILENBQUMsQ0FBQztBQUNILFFBQUksU0FBUyxHQUFHLEtBQUssQ0FBQztBQUN0QixTQUFLLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQyxVQUFTLElBQUksRUFBRTtBQUNsQyxVQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxNQUFNLEVBQUU7QUFDdEIsaUJBQVMsR0FBRyxJQUFJLENBQUM7QUFDakIsZUFBTyxLQUFLLENBQUM7T0FDZDtBQUNELGFBQU8sSUFBSSxDQUFDO0tBQ2IsQ0FBQyxDQUFDOztBQUVILFFBQUksU0FBUyxFQUFFO0FBQ2IsUUFBRSxHQUFHLEdBQUcsR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFDLFVBQVMsSUFBSSxFQUFFO0FBQUUsZUFBTyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO09BQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUMxRSxhQUFPLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0tBQzFDO0dBQ0Y7Q0FDRixDQUFBLEVBQUcsQ0FBQyIsImZpbGUiOiIvYXBwL2tpdHN1bmUvc3Vtby9zdGF0aWMvc3Vtby9qcy9tYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogZ2xvYmFscyAkOmZhbHNlLCBrOmZhbHNlLCBfOmZhbHNlLCBpbnRlcnBvbGF0ZTpmYWxzZSwgTW9kZXJuaXpyOmZhbHNlICovXG4vLyBVc2UgYSBnbG9iYWwgayB0byBzaGFyZSBkYXRhIGFjY3Jvc3MgSlMgZmlsZXNcbndpbmRvdy5rID0gd2luZG93LmsgfHwge307XG5cbihmdW5jdGlvbiAoKSB7XG4gIGsuTEFaWV9ERUxBWSA9IDUwMDsgIC8vIGRlbGF5IHRvIGxhenkgbG9hZGluZyBzY3JpcHRzLCBpbiBtc1xuICBrLlNUQVRJQ19VUkwgPSAkKCdib2R5JykuZGF0YSgnc3RhdGljLXVybCcpO1xuICBrLmdldFF1ZXJ5UGFyYW1zQXNEaWN0ID0gZnVuY3Rpb24gKHVybCkge1xuICAgIC8vIFBhcnNlIHRoZSB1cmwncyBxdWVyeSBwYXJhbWV0ZXJzIGludG8gYSBkaWN0LiBNb3N0bHkgc3RvbGVuIGZyb206XG4gICAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy85MDExMTUvZ2V0LXF1ZXJ5LXN0cmluZy12YWx1ZXMtaW4tamF2YXNjcmlwdC8yODgwOTI5IzI4ODA5MjlcbiAgICB2YXIgcXVlcnlTdHJpbmcgPSAnJyxcbiAgICAgIHNwbGl0VXJsLFxuICAgICAgdXJsUGFyYW1zID0ge30sXG4gICAgICBlLFxuICAgICAgYSA9IC9cXCsvZywgIC8vIFJlZ2V4IGZvciByZXBsYWNpbmcgYWRkaXRpb24gc3ltYm9sIHdpdGggYSBzcGFjZVxuICAgICAgciA9IC8oW14mPV0rKT0/KFteJl0qKS9nLFxuICAgICAgZCA9IGZ1bmN0aW9uIChzKSB7IHJldHVybiBkZWNvZGVVUklDb21wb25lbnQocy5yZXBsYWNlKGEsICcgJykpOyB9O1xuXG4gICAgaWYgKHVybCkge1xuICAgICAgc3BsaXRVcmwgPSB1cmwuc3BsaXQoJz8nKTtcbiAgICAgIGlmIChzcGxpdFVybC5sZW5ndGggPiAxKSB7XG4gICAgICAgIHF1ZXJ5U3RyaW5nID0gc3BsaXRVcmwuc3BsaWNlKDEpLmpvaW4oJycpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBxdWVyeVN0cmluZyA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3Vic3RyaW5nKDEpO1xuICAgIH1cblxuICAgIGUgPSByLmV4ZWMocXVlcnlTdHJpbmcpO1xuICAgIHdoaWxlIChlKSB7XG4gICAgICB1cmxQYXJhbXNbZChlWzFdKV0gPSBkKGVbMl0pO1xuICAgICAgZSA9IHIuZXhlYyhxdWVyeVN0cmluZyk7XG4gICAgfVxuICAgIHJldHVybiB1cmxQYXJhbXM7XG4gIH07XG5cbiAgay5xdWVyeVBhcmFtU3RyaW5nRnJvbURpY3QgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgcXMgPSAnJztcbiAgICBfLmZvckVhY2gob2JqLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCB8fCB2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBxcyArPSBrZXkgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpO1xuICAgICAgcXMgKz0gJyYnO1xuICAgIH0pO1xuICAgIHFzID0gcXMuc2xpY2UoMCwgLTEpO1xuICAgIHJldHVybiAnPycgKyBxcztcbiAgfTtcblxuICBrLmdldFJlZmVycmVyID0gZnVuY3Rpb24odXJsUGFyYW1zKSB7XG4gICAgLypcbiAgICAgR2V0IHRoZSByZWZlcnJlciB0byB0aGUgY3VycmVudCBwYWdlLiBSZXR1cm5zOlxuICAgICAtICdzZWFyY2gnIC0gaWYgY3VycmVudCB1cmwgaGFzIGFzPXNcbiAgICAgLSAnaW5wcm9kdWN0JyAtIGlmIGN1cnJlbnQgdXJsIGhhcyBhcz11XG4gICAgIC0gYWN0dWFsIHJlZmVycmVyIFVSTCAtIGlmIG5vbmUgb2YgdGhlIGFib3ZlXG4gICAgICovXG4gICAgaWYgKHVybFBhcmFtcy5hcyA9PT0gJ3MnKSB7XG4gICAgICByZXR1cm4gJ3NlYXJjaCc7XG4gICAgfSBlbHNlIGlmICh1cmxQYXJhbXMuYXMgPT09ICd1Jykge1xuICAgICAgcmV0dXJuICdpbnByb2R1Y3QnO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZG9jdW1lbnQucmVmZXJyZXI7XG4gICAgfVxuICB9O1xuXG4gIGsuZ2V0U2VhcmNoUXVlcnkgPSBmdW5jdGlvbih1cmxQYXJhbXMsIHJlZmVycmVyKSB7XG4gICAgLy8gSWYgdGhlIHJlZmVycmVyIGlzIGEgc2VhcmNoIHBhZ2UsIHJldHVybiB0aGUgc2VhcmNoIGtleXdvcmRzLlxuICAgIGlmIChyZWZlcnJlciA9PT0gJ3NlYXJjaCcpIHtcbiAgICAgIHJldHVybiB1cmxQYXJhbXMucztcbiAgICB9IGVsc2UgaWYgKHJlZmVycmVyICE9PSAnaW5wcm9kdWN0Jykge1xuICAgICAgcmV0dXJuIGsuZ2V0UXVlcnlQYXJhbXNBc0RpY3QocmVmZXJyZXIpLnEgfHwgJyc7XG4gICAgfVxuICAgIHJldHVybiAnJztcbiAgfTtcblxuICBrLnVucXVvdGUgPSBmdW5jdGlvbihzdHIpIHtcbiAgICBpZiAoc3RyKSB7XG4gICAgICAvLyBSZXBsYWNlIGFsbCBcXFwiIHdpdGggXCJcbiAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKC9cXFxcXFxcIi9nLCAnXCInKTtcbiAgICAgIC8vIElmIGEgc3RyaW5nIGlzIHdyYXBwZWQgaW4gZG91YmxlIHF1b3RlcywgcmVtb3ZlIHRoZW0uXG4gICAgICBpZiAoc3RyWzBdID09PSAnXCInICYmIHN0cltzdHIubGVuZ3RoIC0gMV0gPT09ICdcIicpIHtcbiAgICAgICAgcmV0dXJuIHN0ci5zbGljZSgxLCBzdHIubGVuZ3RoIC0gMSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdHI7XG4gIH07XG5cbiAgdmFyIFVOU0FGRV9DSEFSUyA9IHtcbiAgICAnJic6ICcmYW1wOycsXG4gICAgJzwnOiAnJmx0OycsXG4gICAgJz4nOiAnJmd0OycsXG4gICAgXCInXCI6ICcmIzM5OycsXG4gICAgJ1wiJzogJyZxdW90OydcbiAgfTtcbiAgay5zYWZlU3RyaW5nID0gZnVuY3Rpb24oc3RyKSB7XG4gICAgaWYgKHN0cikge1xuICAgICAgcmV0dXJuIHN0ci5yZXBsYWNlKG5ldyBSZWdFeHAoJ1smPD5cXCdcIl0nLCAnZycpLFxuICAgICAgICBmdW5jdGlvbihtKSB7IHJldHVybiBVTlNBRkVfQ0hBUlNbbV07IH0pO1xuICAgIH1cbiAgICByZXR1cm4gc3RyO1xuICB9O1xuXG4gIGsuc2FmZUludGVycG9sYXRlID0gZnVuY3Rpb24oZm10LCBvYmosIG5hbWVkKSB7XG4gICAgaWYgKG5hbWVkKSB7XG4gICAgICBmb3IgKHZhciBqIGluIG9iaikge1xuICAgICAgICBvYmpbal0gPSBrLnNhZmVTdHJpbmcob2JqW2pdKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBvYmoubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIG9ialtpXSA9IGsuc2FmZVN0cmluZyhvYmpbaV0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaW50ZXJwb2xhdGUoZm10LCBvYmosIG5hbWVkKTtcbiAgfTtcblxuXG4gIC8vIFBhc3MgQ1NSRiB0b2tlbiBpbiBYSFIgaGVhZGVyXG4gICQuYWpheFNldHVwKHtcbiAgICBiZWZvcmVTZW5kOiBmdW5jdGlvbih4aHIsIHNldHRpbmdzKSB7XG4gICAgICB2YXIgY3NyZkVsZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPWNzcmZtaWRkbGV3YXJldG9rZW5dJyk7XG4gICAgICB2YXIgY3NyZiA9ICQuY29va2llKCdjc3JmdG9rZW4nKTtcbiAgICAgIGlmICghY3NyZiAmJiBjc3JmRWxlbSkge1xuICAgICAgICBjc3JmID0gY3NyZkVsZW0udmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAoY3NyZikge1xuICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignWC1DU1JGVG9rZW4nLCBjc3JmKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuICAgIGxheW91dFR3ZWFrcygpO1xuICAgIC8qIEZvY3VzIGZvcm0gZmllbGQgd2hlbiBjbGlja2luZyBvbiBlcnJvciBtZXNzYWdlLiAqL1xuICAgICQoJyNjb250ZW50IHVsLmVycm9ybGlzdCBhJykuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgJCgkKHRoaXMpLmF0dHIoJ2hyZWYnKSkuZm9jdXMoKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcblxuICAgIGlmICgkKCdib2R5JykuZGF0YSgncmVhZG9ubHknKSkge1xuICAgICAgdmFyICRmb3JtcyA9ICQoJ2Zvcm1bbWV0aG9kPXBvc3RdJyk7XG4gICAgICAkZm9ybXMuZmluZCgnaW5wdXQsIGJ1dHRvbiwgc2VsZWN0LCB0ZXh0YXJlYScpLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gICAgICAkZm9ybXMuZmluZCgnaW5wdXRbdHlwZT1pbWFnZV0nKS5jc3MoJ29wYWNpdHknLCAuNSk7XG4gICAgICAkKCdkaXYuZWRpdG9yLXRvb2xzJykucmVtb3ZlKCk7XG4gICAgfVxuXG4gICAgJCgnaW5wdXRbcGxhY2Vob2xkZXJdJykucGxhY2Vob2xkZXIoKTtcblxuICAgIGluaXRBdXRvU3VibWl0U2VsZWN0cygpO1xuICAgIGRpc2FibGVGb3Jtc09uU3VibWl0KCk7XG4gICAgcmVtb3ZlQXV0aFRva2VuKCk7XG4gICAgdXNlck1lc3NhZ2VVSSgpO1xuXG4gICAgLyogU2tpcCB0byBzZWFyY2ggKGExMXkpICovXG4gICAgJCgnI3NraXAtdG8tc2VhcmNoJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZXYpIHtcbiAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAkKCdpbnB1dFtuYW1lPXFdJykubGFzdCgpLmdldCgwKS5mb2N1cygpO1xuICAgIH0pO1xuICB9KTtcblxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncG9wc3RhdGUnLCBmdW5jdGlvbigpIHtcbiAgICBzZXRUaW1lb3V0KGxheW91dFR3ZWFrcywgMCk7XG4gIH0pO1xuXG4gIC8qXG4gICAqIEluaXRpYWxpemUgc29tZSBzZWxlY3RzIHNvIHRoYXQgdGhleSBhdXRvLXN1Ym1pdCBvbiBjaGFuZ2UuXG4gICAqL1xuICBmdW5jdGlvbiBpbml0QXV0b1N1Ym1pdFNlbGVjdHMoKSB7XG4gICAgJCgnc2VsZWN0LmF1dG9zdWJtaXQnKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG4gICAgICAkKHRoaXMpLmNsb3Nlc3QoJ2Zvcm0nKS5zdWJtaXQoKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qXG4gICAqIERpc2FibGUgZm9ybXMgb24gc3VibWl0IHRvIGF2b2lkIG11bHRpcGxlIFBPU1RzIHdoZW4gZG91YmxlKyBjbGlja2luZy5cbiAgICogQWRkcyBgZGlzYWJsZWRgIENTUyBjbGFzcyB0byB0aGUgZm9ybSBmb3Igb3B0aW9uYWxseSBzdHlsaW5nIGVsZW1lbnRzLlxuICAgKlxuICAgKiBOT1RFOiBXZSBjYW4ndCBkaXNhYmxlIHRoZSBidXR0b25zIGJlY2F1c2UgaXQgcHJldmVudHMgdGhlaXIgbmFtZS92YWx1ZVxuICAgKiBmcm9tIGJlaW5nIHN1Ym1pdHRlZCBhbmQgd2UgZGVwZW5kIG9uIHRob3NlIGluIHNvbWUgdmlld3MuXG4gICAqL1xuICBmdW5jdGlvbiBkaXNhYmxlRm9ybXNPblN1Ym1pdCgpIHtcbiAgICAkKCdmb3JtJykuc3VibWl0KGZ1bmN0aW9uKGV2KSB7XG4gICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xuICAgICAgaWYgKCR0aGlzLmF0dHIoJ21ldGhvZCcpLnRvTG93ZXJDYXNlKCkgPT09ICdwb3N0Jykge1xuICAgICAgICBpZiAoJHRoaXMuZGF0YSgnZGlzYWJsZWQnKSkge1xuICAgICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJHRoaXMuZGF0YSgnZGlzYWJsZWQnLCB0cnVlKS5hZGRDbGFzcygnZGlzYWJsZWQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGVuYWJsZUZvcm0oKSB7XG4gICAgICAgICAgJHRoaXMuZGF0YSgnZGlzYWJsZWQnLCBmYWxzZSkucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gICAgICAgIH1cblxuICAgICAgICAkdGhpcy5hamF4Q29tcGxldGUoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZW5hYmxlRm9ybSgpO1xuICAgICAgICAgICR0aGlzLnVuYmluZCgnYWpheENvbXBsZXRlJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFJlLWVuYWJsZSB0aGUgZm9ybSB3aGVuIHVzZXJzIGxlYXZlIHRoZSBwYWdlIGluIGNhc2UgdGhleSBjb21lIGJhY2suXG4gICAgICAgICQod2luZG93KS51bmxvYWQoZW5hYmxlRm9ybSk7XG4gICAgICAgIC8vIFJlLWVuYWJsZSB0aGUgZm9ybSBhZnRlciA1IHNlY29uZHMgaW4gY2FzZSBzb21ldGhpbmcgZWxzZSB3ZW50IHdyb25nLlxuICAgICAgICBzZXRUaW1lb3V0KGVuYWJsZUZvcm0sIDUwMDApO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLypcbiAgICogUmVtb3ZlIGFuIGl0ZW0gZnJvbSBhIGxpc3QgaWYgaXQgbWF0Y2hlcyB0aGUgc3Vic3RyaW5nIG1hdGNoX2FnYWluc3QuXG4gICAqIENhdXRpb246IG1vZGlmaWVzIGZyb21fbGlzdC5cbiAgICogRS5nLiBsaXN0ID0gWydzdHJpbmcnXSwgcmVtb3ZlX2l0ZW0obGlzdCwgJ3N0cicpID0+IGxpc3QgaXMgW10uXG4gICAqL1xuICBmdW5jdGlvbiByZW1vdmVfaXRlbShmcm9tX2xpc3QsIG1hdGNoX2FnYWluc3QpIHtcbiAgICBtYXRjaF9hZ2FpbnN0ID0gbWF0Y2hfYWdhaW5zdC50b0xvd2VyQ2FzZSgpO1xuICAgIGZvciAodmFyIGkgaW4gZnJvbV9saXN0KSB7XG4gICAgICBpZiAobWF0Y2hfYWdhaW5zdC5pbmRleE9mKGZyb21fbGlzdFtpXSkgPj0gMCkge1xuICAgICAgICBmcm9tX2xpc3Quc3BsaWNlKGksIDEpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHVzZXJNZXNzYWdlVUkoKSB7XG4gICAgLy8gQWRkIGEgY2xvc2UgYnV0dG9uIHRvIGFsbCBtZXNzYWdlcy5cbiAgICAkKCcudXNlci1tZXNzYWdlcyA+IGxpJykuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgIHZhciAkbXNnID0gJCh0aGlzKTtcbiAgICAgICQoJzxkaXY+JywgeydjbGFzcyc6ICdjbG9zZS1idXR0b24nfSkuYXBwZW5kVG8oJG1zZyk7XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBrZXkoJG1zZykge1xuICAgICAgcmV0dXJuICd1c2VyLW1lc3NhZ2U6OmRpc21pc3NlZDo6JyArICRtc2cuYXR0cignaWQnKTtcbiAgICB9XG5cbiAgICAvLyBTb21lIG1lc3NhZ2VzIGNhbiBiZSBkaXNtaXNzZWQgcGVybWFuZW50bHkuXG4gICAgJCgnLnVzZXItbWVzc2FnZXMgLmRpc21pc3NpYmxlJykuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgIGlmIChNb2Rlcm5penIubG9jYWxzdG9yYWdlKSB7XG4gICAgICAgIHZhciAkbXNnID0gJCh0aGlzKTtcbiAgICAgICAgaWYgKCFsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkoJG1zZykpKSB7XG4gICAgICAgICAgJG1zZy5zaG93KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICAkKCcudXNlci1tZXNzYWdlcycpLm9uKCdjbGljaycsICcuZGlzbWlzc2libGUgLmRpc21pc3MnLCBmdW5jdGlvbihlKSB7XG4gICAgICBpZiAoTW9kZXJuaXpyLmxvY2Fsc3RvcmFnZSkge1xuICAgICAgICB2YXIgJG1zZyA9ICQodGhpcykucGFyZW50KCk7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSgkbXNnKSwgdHJ1ZSk7XG4gICAgICAgICRtc2cuaGlkZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gbGF5b3V0VHdlYWtzKCkge1xuICAgIC8vIEFkanVzdCB0aGUgaGVpZ2h0IG9mIGNhcmRzIHRvIGJlIGNvbnNpc3RlbnQgd2l0aGluIGEgZ3JvdXAuXG4gICAgJCgnLmNhcmQtZ3JpZCcpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgJGNhcmRzID0gJCh0aGlzKS5jaGlsZHJlbignbGknKTtcbiAgICAgIHZhciBtYXggPSAwO1xuICAgICAgJGNhcmRzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBoID0gJCh0aGlzKS5oZWlnaHQoKTtcbiAgICAgICAgaWYgKGggPiBtYXgpIHtcbiAgICAgICAgICBtYXggPSBoO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgICRjYXJkcy5oZWlnaHQobWF4KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBhZChzdHIsIGxlbmd0aCwgcGFkQ2hhcikge1xuICAgIHN0ciA9ICcnICsgc3RyO1xuICAgIHdoaWxlIChzdHIubGVuZ3RoIDwgbGVuZ3RoKSB7XG4gICAgICBzdHIgPSBwYWRDaGFyICsgc3RyO1xuICAgIH1cbiAgICByZXR1cm4gc3RyO1xuICB9XG5cbiAgay5kYXRlRm9ybWF0ID0gZnVuY3Rpb24oZm9ybWF0LCBkKSB7XG4gICAgdmFyIGRheU5hbWVzID0gWydTdW5kYXknLCAnTW9uZGF5JywgJ1R1ZXNkYXknLCAnV2VkbmVzZGF5JywgJ1RodXJzZGF5JyxcbiAgICAgICdGcmlkYXknLCAnU2F0dXJkYXknXTtcblxuICAgIHZhciBtb250aCA9IHBhZChkLmdldE1vbnRoKCkgKyAxLCAyLCAnMCcpO1xuICAgIHZhciBkYXRlID0gcGFkKGQuZ2V0RGF0ZSgpLCAyLCAnMCcpO1xuICAgIHZhciBob3VycyA9IHBhZChkLmdldEhvdXJzKCksIDIsICcwJyk7XG4gICAgdmFyIG1pbnV0ZXMgPSBwYWQoZC5nZXRNaW51dGVzKCksIDIsICcwJyk7XG4gICAgdmFyIHNlY29uZHMgPSBwYWQoZC5nZXRTZWNvbmRzKCksIDIsICcwJyk7XG5cbiAgICByZXR1cm4gaW50ZXJwb2xhdGUoZm9ybWF0LCB7XG4gICAgICAneWVhcic6IGQuZ2V0RnVsbFllYXIoKSxcbiAgICAgICdtb250aCc6IG1vbnRoLFxuICAgICAgJ2RhdGUnOiBkYXRlLFxuICAgICAgJ2RheSc6IGRheU5hbWVzW2QuZ2V0RGF5KCldLFxuICAgICAgJ2hvdXJzJzogaG91cnMsXG4gICAgICAnbWludXRlcyc6IG1pbnV0ZXMsXG4gICAgICAnc2Vjb25kcyc6IHNlY29uZHNcbiAgICB9LCB0cnVlKTtcbiAgfTtcblxuICAvKiBJZiBhbiBhdXRoIHRva2VuIGlzIGZvdW5kIGluIHRoZSB1cmwsIHJlbW92ZSBpdC4gSXQgbWFrZXMgb3VyXG4gICAqIHVybHMgbG9vayB1Z2x5LlxuICAgKi9cbiAgZnVuY3Rpb24gcmVtb3ZlQXV0aFRva2VuKCkge1xuICAgIHZhciBxcyA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc2xpY2UoMSk7XG4gICAgdmFyIHF1ZXJ5ID0gcXMuc3BsaXQoJyYnKS5tYXAoZnVuY3Rpb24ocGFpcikge1xuICAgICAgcmV0dXJuIFtcbiAgICAgICAgcGFpci5zcGxpdCgnPScpWzBdLFxuICAgICAgICBwYWlyLnNwbGl0KCc9Jykuc2xpY2UoMSkuam9pbignPScpXG4gICAgICBdO1xuICAgIH0pO1xuICAgIHZhciBhdXRoRm91bmQgPSBmYWxzZTtcbiAgICBxdWVyeSA9IHF1ZXJ5LmZpbHRlcihmdW5jdGlvbihwYWlyKSB7XG4gICAgICBpZiAocGFpclswXSA9PT0gJ2F1dGgnKSB7XG4gICAgICAgIGF1dGhGb3VuZCA9IHRydWU7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0pO1xuXG4gICAgaWYgKGF1dGhGb3VuZCkge1xuICAgICAgcXMgPSAnPycgKyBxdWVyeS5tYXAoZnVuY3Rpb24ocGFpcikgeyByZXR1cm4gcGFpci5qb2luKCc9Jyk7IH0pLmpvaW4oJyYnKTtcbiAgICAgIGhpc3RvcnkucmVwbGFjZVN0YXRlKHRoaXMuc3RhdGUsIHt9LCBxcyk7XG4gICAgfVxuICB9XG59KSgpO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/app/kitsune/sumo/static/sumo/js/main.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/app/kitsune/sumo/static/sumo/js/main.js",
      "sourcesContent": [
        "/* globals $:false, k:false, _:false, interpolate:false, Modernizr:false */\n// Use a global k to share data accross JS files\nwindow.k = window.k || {};\n\n(function () {\n  k.LAZY_DELAY = 500;  // delay to lazy loading scripts, in ms\n  k.STATIC_URL = $('body').data('static-url');\n  k.getQueryParamsAsDict = function (url) {\n    // Parse the url's query parameters into a dict. Mostly stolen from:\n    // http://stackoverflow.com/questions/901115/get-query-string-values-in-javascript/2880929#2880929\n    var queryString = '',\n      splitUrl,\n      urlParams = {},\n      e,\n      a = /\\+/g,  // Regex for replacing addition symbol with a space\n      r = /([^&=]+)=?([^&]*)/g,\n      d = function (s) { return decodeURIComponent(s.replace(a, ' ')); };\n\n    if (url) {\n      splitUrl = url.split('?');\n      if (splitUrl.length > 1) {\n        queryString = splitUrl.splice(1).join('');\n      }\n    } else {\n      queryString = window.location.search.substring(1);\n    }\n\n    e = r.exec(queryString);\n    while (e) {\n      urlParams[d(e[1])] = d(e[2]);\n      e = r.exec(queryString);\n    }\n    return urlParams;\n  };\n\n  k.queryParamStringFromDict = function(obj) {\n    var qs = '';\n    _.forEach(obj, function(value, key) {\n      if (value === undefined || value === null) {\n        return;\n      }\n      qs += key + '=' + encodeURIComponent(value);\n      qs += '&';\n    });\n    qs = qs.slice(0, -1);\n    return '?' + qs;\n  };\n\n  k.getReferrer = function(urlParams) {\n    /*\n     Get the referrer to the current page. Returns:\n     - 'search' - if current url has as=s\n     - 'inproduct' - if current url has as=u\n     - actual referrer URL - if none of the above\n     */\n    if (urlParams.as === 's') {\n      return 'search';\n    } else if (urlParams.as === 'u') {\n      return 'inproduct';\n    } else {\n      return document.referrer;\n    }\n  };\n\n  k.getSearchQuery = function(urlParams, referrer) {\n    // If the referrer is a search page, return the search keywords.\n    if (referrer === 'search') {\n      return urlParams.s;\n    } else if (referrer !== 'inproduct') {\n      return k.getQueryParamsAsDict(referrer).q || '';\n    }\n    return '';\n  };\n\n  k.unquote = function(str) {\n    if (str) {\n      // Replace all \\\" with \"\n      str = str.replace(/\\\\\\\"/g, '\"');\n      // If a string is wrapped in double quotes, remove them.\n      if (str[0] === '\"' && str[str.length - 1] === '\"') {\n        return str.slice(1, str.length - 1);\n      }\n    }\n    return str;\n  };\n\n  var UNSAFE_CHARS = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    \"'\": '&#39;',\n    '\"': '&quot;'\n  };\n  k.safeString = function(str) {\n    if (str) {\n      return str.replace(new RegExp('[&<>\\'\"]', 'g'),\n        function(m) { return UNSAFE_CHARS[m]; });\n    }\n    return str;\n  };\n\n  k.safeInterpolate = function(fmt, obj, named) {\n    if (named) {\n      for (var j in obj) {\n        obj[j] = k.safeString(obj[j]);\n      }\n    } else {\n      for (var i = 0, l = obj.length; i < l; i++) {\n        obj[i] = k.safeString(obj[i]);\n      }\n    }\n    return interpolate(fmt, obj, named);\n  };\n\n\n  // Pass CSRF token in XHR header\n  $.ajaxSetup({\n    beforeSend: function(xhr, settings) {\n      var csrfElem = document.querySelector('input[name=csrfmiddlewaretoken]');\n      var csrf = $.cookie('csrftoken');\n      if (!csrf && csrfElem) {\n        csrf = csrfElem.value;\n      }\n      if (csrf) {\n        xhr.setRequestHeader('X-CSRFToken', csrf);\n      }\n    }\n  });\n\n  $(document).ready(function() {\n    layoutTweaks();\n    /* Focus form field when clicking on error message. */\n    $('#content ul.errorlist a').click(function () {\n      $($(this).attr('href')).focus();\n      return false;\n    });\n\n    if ($('body').data('readonly')) {\n      var $forms = $('form[method=post]');\n      $forms.find('input, button, select, textarea').attr('disabled', 'disabled');\n      $forms.find('input[type=image]').css('opacity', .5);\n      $('div.editor-tools').remove();\n    }\n\n    $('input[placeholder]').placeholder();\n\n    initAutoSubmitSelects();\n    disableFormsOnSubmit();\n    removeAuthToken();\n    userMessageUI();\n\n    /* Skip to search (a11y) */\n    $('#skip-to-search').on('click', function(ev) {\n      ev.preventDefault();\n      $('input[name=q]').last().get(0).focus();\n    });\n  });\n\n  window.addEventListener('popstate', function() {\n    setTimeout(layoutTweaks, 0);\n  });\n\n  /*\n   * Initialize some selects so that they auto-submit on change.\n   */\n  function initAutoSubmitSelects() {\n    $('select.autosubmit').change(function() {\n      $(this).closest('form').submit();\n    });\n  }\n\n  /*\n   * Disable forms on submit to avoid multiple POSTs when double+ clicking.\n   * Adds `disabled` CSS class to the form for optionally styling elements.\n   *\n   * NOTE: We can't disable the buttons because it prevents their name/value\n   * from being submitted and we depend on those in some views.\n   */\n  function disableFormsOnSubmit() {\n    $('form').submit(function(ev) {\n      var $this = $(this);\n      if ($this.attr('method').toLowerCase() === 'post') {\n        if ($this.data('disabled')) {\n          ev.preventDefault();\n        } else {\n          $this.data('disabled', true).addClass('disabled');\n        }\n\n        function enableForm() {\n          $this.data('disabled', false).removeClass('disabled');\n        }\n\n        $this.ajaxComplete(function() {\n          enableForm();\n          $this.unbind('ajaxComplete');\n        });\n\n        // Re-enable the form when users leave the page in case they come back.\n        $(window).unload(enableForm);\n        // Re-enable the form after 5 seconds in case something else went wrong.\n        setTimeout(enableForm, 5000);\n      }\n    });\n  }\n\n  /*\n   * Remove an item from a list if it matches the substring match_against.\n   * Caution: modifies from_list.\n   * E.g. list = ['string'], remove_item(list, 'str') => list is [].\n   */\n  function remove_item(from_list, match_against) {\n    match_against = match_against.toLowerCase();\n    for (var i in from_list) {\n      if (match_against.indexOf(from_list[i]) >= 0) {\n        from_list.splice(i, 1);\n      }\n    }\n  }\n\n  function userMessageUI() {\n    // Add a close button to all messages.\n    $('.user-messages > li').each(function() {\n      var $msg = $(this);\n      $('<div>', {'class': 'close-button'}).appendTo($msg);\n    });\n\n    function key($msg) {\n      return 'user-message::dismissed::' + $msg.attr('id');\n    }\n\n    // Some messages can be dismissed permanently.\n    $('.user-messages .dismissible').each(function() {\n      if (Modernizr.localstorage) {\n        var $msg = $(this);\n        if (!localStorage.getItem(key($msg))) {\n          $msg.show();\n        }\n      }\n    });\n    $('.user-messages').on('click', '.dismissible .dismiss', function(e) {\n      if (Modernizr.localstorage) {\n        var $msg = $(this).parent();\n        localStorage.setItem(key($msg), true);\n        $msg.hide();\n      }\n    });\n  }\n\n  function layoutTweaks() {\n    // Adjust the height of cards to be consistent within a group.\n    $('.card-grid').each(function() {\n      var $cards = $(this).children('li');\n      var max = 0;\n      $cards.each(function() {\n        var h = $(this).height();\n        if (h > max) {\n          max = h;\n        }\n      });\n      $cards.height(max);\n    });\n  }\n\n  function pad(str, length, padChar) {\n    str = '' + str;\n    while (str.length < length) {\n      str = padChar + str;\n    }\n    return str;\n  }\n\n  k.dateFormat = function(format, d) {\n    var dayNames = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday',\n      'Friday', 'Saturday'];\n\n    var month = pad(d.getMonth() + 1, 2, '0');\n    var date = pad(d.getDate(), 2, '0');\n    var hours = pad(d.getHours(), 2, '0');\n    var minutes = pad(d.getMinutes(), 2, '0');\n    var seconds = pad(d.getSeconds(), 2, '0');\n\n    return interpolate(format, {\n      'year': d.getFullYear(),\n      'month': month,\n      'date': date,\n      'day': dayNames[d.getDay()],\n      'hours': hours,\n      'minutes': minutes,\n      'seconds': seconds\n    }, true);\n  };\n\n  /* If an auth token is found in the url, remove it. It makes our\n   * urls look ugly.\n   */\n  function removeAuthToken() {\n    var qs = window.location.search.slice(1);\n    var query = qs.split('&').map(function(pair) {\n      return [\n        pair.split('=')[0],\n        pair.split('=').slice(1).join('=')\n      ];\n    });\n    var authFound = false;\n    query = query.filter(function(pair) {\n      if (pair[0] === 'auth') {\n        authFound = true;\n        return false;\n      }\n      return true;\n    });\n\n    if (authFound) {\n      qs = '?' + query.map(function(pair) { return pair.join('='); }).join('&');\n      history.replaceState(this.state, {}, qs);\n    }\n  }\n})();\n"
      ]
    },
    "mtime": 1561987558000
  },
  "{\"filename\":\"/app/kitsune/sumo/static/sumo/js/markup.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":2,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "/* global jQuery:false, gettext:false, trackEvent:false, KBox:false */\n\"use strict\";\n\n(function ($, gettext, document) {\n\n  var Marky = {\n    createSimpleToolbar: function createSimpleToolbar(toolbarSel, textareaSel, options) {\n      var defaults = {\n        cannedResponses: false,\n        privateMessaging: false\n      };\n\n      var settings = $.extend({}, defaults, options);\n\n      var SB = Marky.SimpleButton;\n      var buttons = [new SB(gettext('Bold'), \"'''\", \"'''\", gettext('bold text'), 'btn-bold'), new SB(gettext('Italic'), \"''\", \"''\", gettext('italic text'), 'btn-italic'), new Marky.Separator(), new Marky.LinkButton(), new Marky.Separator(), new SB(gettext('Numbered List'), '# ', '', gettext('Numbered list item'), 'btn-ol', true), new SB(gettext('Bulleted List'), '* ', '', gettext('Bulleted list item'), 'btn-ul', true)];\n      if (settings.mediaButton) {\n        buttons.splice(4, 0, new Marky.MediaButton());\n      }\n      if (settings.cannedResponses) {\n        buttons.push(new Marky.Separator(), new Marky.CannedResponsesButton());\n      }\n      if (settings.privateMessaging) {\n        buttons.push(new Marky.Separator(), new Marky.QuoteButton());\n      }\n\n      Marky.createCustomToolbar(toolbarSel, textareaSel, buttons);\n    },\n    createFullToolbar: function createFullToolbar(toolbarSel, textareaSel) {\n      var SB = Marky.SimpleButton,\n          buttons = Marky.allButtons();\n      Marky.createCustomToolbar(toolbarSel, textareaSel, buttons);\n    },\n    createCustomToolbar: function createCustomToolbar(toolbarSel, textareaSel, partsArray) {\n      var $toolbar = $(toolbarSel || '.editor-tools'),\n          textarea = $(textareaSel || '#reply-content, #id_content')[0];\n      for (var i = 0, l = partsArray.length; i < l; i++) {\n        $toolbar.append(partsArray[i].bind(textarea).node());\n      }\n    },\n    allButtons: function allButtons() {\n      var SB = Marky.SimpleButton;\n      return [new SB(gettext('Bold'), \"'''\", \"'''\", gettext('bold text'), 'btn-bold'), new SB(gettext('Italic'), \"''\", \"''\", gettext('italic text'), 'btn-italic'), new Marky.Separator(), new Marky.LinkButton(), new Marky.MediaButton(), new Marky.Separator(), new SB(gettext('Numbered List'), '# ', '', gettext('Numbered list item'), 'btn-ol', true), new SB(gettext('Bulleted List'), '* ', '', gettext('Bulleted list item'), 'btn-ul', true), new Marky.Separator(), new SB(gettext('Heading 1'), '=', '=', gettext('Heading 1'), 'btn-h1', true), new SB(gettext('Heading 2'), '==', '==', gettext('Heading 2'), 'btn-h2', true), new SB(gettext('Heading 3'), '===', '===', gettext('Heading 3'), 'btn-h3', true)];\n    }\n  };\n\n  /*\n   * A simple button.\n   * Note: `everyline` is a boolean value that says whether or not the selected\n   *       text should be broken into multiple lines and have the markup applied\n   *       to each line or not. Default is false (do not apply this behavior).\n   *       `classes` is a list of classes to include in the output\n   */\n  Marky.SimpleButton = function (name, openTag, closeTag, defaultText, classes, everyline) {\n    this.name = name;\n    this.classes = '';\n    this.openTag = openTag;\n    this.closeTag = closeTag;\n    this.defaultText = defaultText;\n    this.everyline = everyline;\n    if (undefined !== classes) {\n      this.classes = classes;\n    }\n\n    this.html = '<button class=\"markup-toolbar-button\" />';\n  };\n\n  Marky.SimpleButton.prototype = {\n    // Binds the button to a textarea (DOM node).\n    bind: function bind(textarea) {\n      this.textarea = textarea;\n      return this;\n    },\n    // Renders the html.\n    render: function render() {\n      var $out = $(this.html).attr({\n        title: this.name\n      }).html(this.name);\n      $out.addClass(this.classes);\n      return $out;\n    },\n    // Gets the DOM node for the button.\n    node: function node() {\n      var me = this,\n          $btn = this.render();\n      $btn.click(function (e) {\n        me.handleClick(e);\n      });\n      return $btn[0];\n    },\n    // Get selected text\n    getSelectedText: function getSelectedText() {\n      var selText = '';\n      if (window.codemirror && window.highlighting.isEnabled()) {\n        var editor = window.highlighting.editor;\n        return editor.getSelection();\n      }\n\n      if (document.selection && document.selection.createRange) {\n        // IE/Opera\n        selText = document.selection.createRange().text;\n      } else if (this.textarea.selectionStart || parseInt(this.textarea.selectionStart) === 0) {\n        // Firefox/Safari/Chrome/etc.\n        selText = this.textarea.value.substring(this.textarea.selectionStart, this.textarea.selectionEnd);\n      }\n      return selText;\n    },\n    // Handles the button click.\n    handleClick: function handleClick(e) {\n      var selText,\n          selStart,\n          selEnd,\n          splitText,\n          range,\n          textarea = this.textarea,\n          scrollTop = $(textarea).scrollTop(),\n          editor = window.highlighting && window.highlighting.editor;\n\n      if (window.codemirror && window.highlighting && window.highlighting.isEnabled()) {\n        selText = editor.somethingSelected() ? editor.getSelection() : this.defaultText;\n        selText = this.openTag + selText + this.closeTag;\n        editor.replaceSelection(selText);\n        editor.focus();\n        e.preventDefault();\n        return false;\n      }\n\n      textarea.focus();\n\n      if (document.selection && document.selection.createRange) {\n        // IE/Opera\n        range = document.selection.createRange();\n        selText = range.text;\n        if (!selText.length) {\n          selText = this.defaultText;\n        }\n\n        if (this.everyline && - ~selText.indexOf('\\n')) {\n          splitText = this._applyEveryLine(this.openTag, this.closeTag, selText);\n          range.text = splitText.join('\\n');\n        } else {\n          range.text = this.openTag + selText + this.closeTag;\n\n          if (range.moveStart) {\n            range.moveStart('character', -1 * this.openTag.length - selText.length);\n            range.moveEnd('character', -1 * this.closeTag.length);\n          }\n        }\n\n        range.select();\n      } else if (textarea.selectionStart || parseInt(textarea.selectionStart) === 0) {\n        // Firefox/Safari/Chrome/etc.\n        selStart = textarea.selectionStart;\n        selEnd = textarea.selectionEnd;\n        selText = textarea.value.substring(selStart, selEnd);\n        if (!selText.length) {\n          selText = this.defaultText;\n        }\n\n        if (this.everyline && - ~selText.indexOf('\\n')) {\n          splitText = this._applyEveryLine(this.openTag, this.closeTag, selText).join('\\n');\n          textarea.value = textarea.value.substring(0, textarea.selectionStart) + splitText + textarea.value.substring(textarea.selectionEnd);\n\n          textarea.selectionStart = selStart;\n          textarea.selectionEnd = textarea.selectionStart + splitText.length;\n        } else {\n          textarea.value = textarea.value.substring(0, textarea.selectionStart) + this.openTag + selText + this.closeTag + textarea.value.substring(textarea.selectionEnd);\n\n          textarea.selectionStart = selStart + this.openTag.length;\n          textarea.selectionEnd = textarea.selectionStart + selText.length;\n        }\n      }\n      $(textarea).scrollTop(scrollTop);\n      e.preventDefault();\n      return false;\n    },\n    _applyEveryLine: function _applyEveryLine(opentag, closetag, block) {\n      return $.map(block.split('\\n'), function (line) {\n        return line.replace(/\\s+/, '').length ? opentag + line + closetag : line;\n      });\n    }\n  };\n\n  /*\n   * A button separator.\n   */\n  Marky.Separator = function () {\n    this.html = '<span class=\"separator\"></span>';\n  };\n\n  Marky.Separator.prototype = {\n    node: function node() {\n      return $(this.html)[0];\n    },\n    bind: function bind() {\n      return this;\n    }\n  };\n\n  /*\n   * The link helper.\n   */\n  Marky.LinkButton = function () {\n    this.name = gettext('Insert a link...');\n    this.classes = 'btn-link';\n    this.openTag = '[http://example.com ';\n    this.closeTag = ']';\n    this.defaultText = gettext('link text');\n    this.everyline = false;\n\n    this.origOpenTag = this.openTag;\n    this.origCloseTag = this.closeTag;\n    this.origDefaultText = this.defaultText;\n\n    this.html = '<button class=\"markup-toolbar-button\" />';\n  };\n\n  Marky.LinkButton.prototype = $.extend({}, Marky.SimpleButton.prototype, {\n    // Gets the DOM node for the button.\n    node: function node() {\n      var me = this,\n          $btn = this.render();\n      $btn.click(function (e) {\n        me.openModal(e);\n      });\n      return $btn[0];\n    },\n    reset: function reset() {\n      this.openTag = this.origOpenTag;\n      this.closeTag = this.origCloseTag;\n      this.defaultText = this.origDefaultText;\n    },\n    openModal: function openModal(ev) {\n      var me = this,\n\n      // TODO: look at using a js template solution (jquery-tmpl?)\n      $html = $('<section class=\"marky\">' + '<label>' + gettext('Link text:') + '</label>' + '<input type=\"text\" name=\"link-text\" />' + '<label>' + gettext('Link target:') + '</label>' + '<ol><li><label><input type=\"radio\" name=\"link-type\" value=\"internal\" /> ' + gettext('Support article:') + '</label> ' + '<input type=\"text\" name=\"internal\" placeholder=\"' + gettext('Enter the name of the article') + '\" /></li>' + '<li><label><input type=\"radio\" name=\"link-type\" value=\"external\" /> ' + gettext('External link:') + '</label> ' + '<input type=\"text\" name=\"external\" placeholder=\"' + gettext('Enter the URL of the external link') + '\" /></li>' + '</ol><div class=\"submit\"><button type=\"button\" class=\"btn btn-important\"></button>' + '<a href=\"#cancel\" class=\"kbox-cancel\">' + gettext('Cancel') + '</a></div></section>' // whew, yuck!?\n      ),\n          selectedText = me.getSelectedText(),\n          kbox;\n\n      $html.find('li input[type=\"text\"]').focus(function () {\n        $(this).closest('li').find('input[type=\"radio\"]').click();\n      });\n\n      // Perform a query for the sections of an article if\n      // last character is a pound:\n      var performSectionSearch = function performSectionSearch(request) {\n        return request.term.indexOf('#') === request.term.length - 1;\n      };\n\n      var results = [];\n\n      // Get the article URL by providing the article name:\n      var getArticleURL = function getArticleURL(name) {\n        for (var i = 0; i < results.length; i++) {\n          if (name === results[i].label) {\n            return results[i].url;\n          }\n        }\n\n        return null;\n      };\n\n      var articleSearch = function articleSearch(request, response) {\n        results = [];\n        $.ajax({\n          url: '/en-US/search',\n          data: {\n            format: 'json',\n            q: request.term,\n            a: 1,\n            w: 1,\n            language: $('html').attr('lang')\n          },\n          dataType: 'json',\n          success: function success(data, textStatus) {\n            $.map(data.results, function (val, i) {\n              results.push({\n                label: val.title,\n                url: val.url\n              });\n            });\n            response(results);\n          }\n        });\n      };\n\n      var sectionSearch = function sectionSearch(request, response) {\n        var articleName = request.term.split('#')[0];\n        var articleURL = getArticleURL(articleName);\n\n        if (!articleURL) {\n          return;\n        }\n\n        $.ajax({\n          url: articleURL,\n          dataType: 'text',\n          success: function success(data, status) {\n            var headings = $(\"[id^='w_']\", data);\n            var array = [];\n\n            if (headings.length === 0) {\n              array.push({\n                label: gettext('No sections found'),\n                value: request.term.replace('#', ''),\n                target: ''\n              });\n            }\n\n            headings.each(function () {\n              var element = this.nodeName;\n              var level = element.substring(1);\n              var label = $(this).text();\n              var target = $(this).attr('id');\n              var value = request.term + target;\n\n              array.push({\n                label: label,\n                value: value,\n                target: target\n              });\n            });\n            response(array);\n          }\n        });\n      };\n\n      $html.find('input[name=\"internal\"]').autocomplete({\n        source: function source(request, response) {\n          if (performSectionSearch(request)) {\n            sectionSearch(request, response);\n          } else {\n            articleSearch(request, response);\n          }\n        },\n        select: function select(event, ui) {\n          if (!ui.item.target) {\n            return;\n          }\n\n          var $linktext = $html.find('input[name=link-text]');\n          if ($linktext.val() === '') {\n            $linktext.val(ui.item.label);\n          }\n        }\n      });\n\n      $html.find('button').text(gettext('Insert Link')).click(function (e) {\n        // Generate the wiki markup based on what the user has selected\n        // (interval vs external links) and entered into the textboxes,\n        // if anything.\n        var val = $html.find('input[type=\"radio\"]:checked').val(),\n            text = $html.find('input[name=link-text]').val(),\n            $internal = $html.find('input[name=\"internal\"]'),\n            $external = $html.find('input[name=\"external\"]');\n        me.reset();\n        if (val === 'internal') {\n          var title = $internal.val();\n          if (title) {\n            if (title === selectedText) {\n              // The title wasn't changed, so lets keep it selected.\n              me.openTag = '[[';\n              me.closeTag = ']]';\n              if (text) {\n                me.closeTag = '|' + text + me.closeTag;\n              }\n            } else {\n              // The title changed, so lets insert link before the cursor.\n              me.openTag = '[[' + title;\n              if (text) {\n                me.openTag += '|' + text;\n              }\n              me.openTag += ']] ';\n              me.closeTag = '';\n              me.defaultText = '';\n            }\n          } else {\n            me.openTag = '[[';\n            me.closeTag = ']]';\n            if (text) {\n              me.closeTag = '|' + text + ']]';\n            }\n            me.defaultText = gettext('Knowledge Base Article');\n          }\n        } else {\n          var link = $external.val();\n          if (link) {\n            if (link.indexOf('http') !== 0) {\n              link = 'http://' + link;\n            }\n            me.openTag = '[' + link + ' ';\n            if (text) {\n              me.openTag += text + '] ';\n              me.closeTag = '';\n              me.defaultText = '';\n            }\n          } else if (text) {\n            me.defaultText = text;\n          }\n        }\n\n        me.handleClick(e);\n        kbox.close();\n      });\n\n      if (selectedText) {\n        // If there user has selected text, lets default to it being\n        // the Article Title.\n        $html.find('input[name=\"internal\"]').val(selectedText).focus();\n      }\n\n      kbox = new KBox($html, {\n        title: this.name,\n        destroy: true,\n        modal: true,\n        id: 'link-modal',\n        container: $('body')\n      });\n      kbox.open();\n\n      ev.preventDefault();\n      return false;\n    }\n  });\n\n  /*\n   * The media helper.\n   */\n  Marky.MediaButton = function () {\n    this.name = gettext('Insert media...');\n    this.classes = 'btn-media';\n    this.openTag = '';\n    this.closeTag = '';\n    this.defaultText = gettext('media');\n    this.everyline = false;\n\n    this.html = '<button class=\"markup-toolbar-button\" />';\n  };\n\n  Marky.MediaButton.prototype = $.extend({}, Marky.SimpleButton.prototype, {\n    // Gets the DOM node for the button.\n    node: function node() {\n      var me = this,\n          $btn = this.render();\n      $btn.click(function (e) {\n        me.openModal(e);\n      });\n      return $btn[0];\n    },\n    reset: function reset() {\n      this.openTag = '';\n      this.closeTag = '';\n      this.defaultText = '';\n    },\n    openModal: function openModal(ev) {\n      var me = this,\n          $editor = $(me.textarea).closest('.editor'),\n          mediaSearchUrl = $editor.data('media-search-url'),\n          galleryUrl = $editor.data('media-gallery-url'),\n\n      // TODO: look at using a js template solution (jquery-tmpl?)\n      $html = $('<section class=\"marky\">' + '<div class=\"filter cf\">' + '<form class=\"simple-search-form\" id=\"gallery-modal-search\"><input type=\"text\" name=\"q\" class=\"searchbox\"' + 'placeholder=\"' + gettext('Search Gallery') + '\" />' + '<button type=\"submit\" class=\"submit-button\" title=\"' + gettext('Search Gallery') + '\">' + gettext('Search Gallery') + '</button></form>' + '<div class=\"type\">' + '<span>' + gettext('Show:') + '</span>' + '<ol><li data-type=\"image\" class=\"selected\">' + gettext('Images') + '</li>' + '<li data-type=\"video\">' + gettext('Videos') + '</li></ol></div>' + '<div class=\"locale-filter\">' + gettext('Show media for:') + ' <select /></div></div>' + '<div class=\"placeholder\" /><div class=\"submit\">' + '<button class=\"btn btn-important\">' + gettext('Insert Media') + '</button>' + '<a href=\"' + galleryUrl + '#upload\" class=\"upload\" target=\"_blank\">' + gettext('Upload Media') + '</a>' + '<a href=\"#cancel\" class=\"kbox-cancel\">' + gettext('Cancel') + '</a></div>' + '</section>'),\n          selectedText = me.getSelectedText(),\n          mediaType = $html.find('div.type li.selected').data('type'),\n          mediaQ = '',\n          mediaLocale = $('html').attr('lang'),\n          mediaPage = 1,\n          kbox;\n\n      // Handle Images/Videos filter\n      $html.find('div.type li').click(function (e) {\n        var $this = $(this);\n        if (!$this.is('.selected')) {\n          $html.find('div.type li.selected').removeClass('selected');\n          $this.addClass('selected');\n          mediaType = $this.data('type');\n          mediaPage = 1;\n          updateResults();\n        }\n        e.preventDefault();\n        return false;\n      });\n\n      // Handle locale filter\n      var $lf = $html.find('div.locale-filter select');\n      $lf.html($('#_languages-select-box').html());\n      $lf.on('change', function () {\n        mediaPage = 1;\n        mediaLocale = $(this).val();\n        updateResults();\n      });\n\n      // Handle Search\n      $html.find('form#gallery-modal-search').submit(function (e) {\n        mediaQ = $html.find('input[name=\"q\"]').val();\n        mediaPage = 1;\n        updateResults();\n        e.preventDefault();\n        return false;\n      });\n\n      // Handle Upload link\n      $html.find('a.upload').click(function (e) {\n        // Close the modal. The link itself will open gallery in new tab/window.\n        kbox.close();\n      });\n\n      // Handle pagination\n      $html.delegate('ol.pagination a', 'click', function (e) {\n        mediaPage = parseInt($(this).attr('href').split('&page=')[1], 10);\n        updateResults();\n        e.preventDefault();\n        return false;\n      });\n\n      // Handle 'Insert Media' button click\n      $html.find('div.submit button').click(function (e) {\n        // Generate the wiki markup based on what the user has selected.\n        me.reset();\n\n        var $selected = $html.find('#media-list > li.selected');\n        if ($selected.length < 1) {\n          alert(gettext('Please select an image or video to insert.')); // eslint-disable-line\n          return false;\n        }\n\n        me.openTag = '[[';\n        me.openTag += mediaType === 'image' ? 'Image' : 'Video';\n        me.openTag += ':' + $selected.find('a').attr('title') + ']] ';\n\n        me.handleClick(e);\n        kbox.close();\n      });\n\n      updateResults();\n\n      // Update the media list via ajax call.\n      function updateResults(type, q) {\n        $html.addClass('processing');\n        $.ajax({\n          url: mediaSearchUrl,\n          type: 'GET',\n          data: { type: mediaType, q: mediaQ, page: mediaPage,\n            locale: mediaLocale },\n          dataType: 'html',\n          success: function success(html) {\n            $html.find('div.placeholder').html(html);\n            $html.find('#media-list > li').click(function (e) {\n              var $this = $(this),\n                  $mediaList = $(this).parent();\n              $mediaList.find('li.selected').removeClass('selected');\n              $this.addClass('selected');\n              e.preventDefault();\n              return false;\n            });\n          },\n          error: function error() {\n            var message = gettext('Oops, there was an error.');\n            $html.find('div.placeholder').html('<div class=\"msg\">' + message + '</div>');\n          },\n          complete: function complete() {\n            $html.removeClass('processing');\n          }\n        });\n      }\n\n      kbox = new KBox($html, {\n        title: this.name,\n        destroy: true,\n        modal: true,\n        id: 'media-modal',\n        container: $('body'),\n        position: 'none'\n      });\n      kbox.open();\n\n      ev.preventDefault();\n      return false;\n    }\n  });\n\n  /*\n   * The canned responses helper\n   */\n  Marky.CannedResponsesButton = function () {\n    this.name = gettext('Common responses');\n    this.classes = 'btn-cannedresponses';\n    this.openTag = '';\n    this.closeTag = '';\n    this.defaultText = gettext('cannedresponses');\n    this.everyline = false;\n\n    this.html = '<a class=\"markup-toolbar-link\" href=\"#\"/>';\n  };\n\n  Marky.CannedResponsesButton.prototype = $.extend({}, Marky.SimpleButton.prototype, {\n    // Gets the DOM node for the button.\n    node: function node() {\n      var me = this,\n          $btn = this.render();\n      $btn.click(function (e) {\n        me.openModal(e);\n      });\n\n      me.getPermissionBits();\n\n      return $btn[0];\n    },\n    reset: function reset() {\n      this.openTag = '';\n      this.closeTag = '';\n      this.defaultText = '';\n    },\n    openModal: function openModal(e) {\n      var me = this,\n          $editor = $(me.textarea).closest('.editor'),\n\n      // TODO: look at using a js template solution (jquery-tmpl?)\n      $html = $('<section class=\"marky\">' + '<div class=\"search simple-search-form\">' + '<input type=\"text\" name=\"q\" id=\"filter-responses-field\" placeholder=\"' + gettext('Search for common responses') + '\" class=\"searchbox\"/>' + '</div></div>' + '<div class=\"area\">' + '<div id=\"responses-area\">' + '<h2 class=\"heading-label\">' + gettext('Categories') + '</h2>' + '<ul class=\"category-list sidebar-nav\">' + '<li class=\"status-indicator busy\">' + gettext('Loading...') + '</li>' + '</ul></div>' + '<div id=\"response-list-area\">' + '<h2 class=\"heading-label\">' + gettext('Responses') + '</h2>' + '<h4 class=\"nocat-label\">' + gettext('Please select a category from the previous column or start a search.') + '</h4>' + '<p class=\"response-list\"/>' + '</div>' + '<div id=\"response-content-area\">' + '<h2 class=\"heading-label preview-label\">' + gettext('Response editor') + '</h2>' + '<button class=\"toggle-view btn\">' + gettext('Switch to preview mode') + '</button>' + '<p class=\"response-preview\">' + '<textarea id=\"response-content\">' + '</textarea></p>' + '<p class=\"response-preview-rendered\"></p>' + '</div>' + '</div>' + '</div>' + '<div class=\"placeholder\" /><div class=\"submit\" id=\"response-submit-area\">' + '<button id=\"insert-response\" class=\"btn btn-important\">' + gettext('Insert Response') + '</button>' + '<a href=\"#cancel\" class=\"kbox-cancel\">' + gettext('Cancel') + '</a>' + '</div>' + '</section>'),\n          selectedText = me.getSelectedText(),\n          kbox;\n\n      var cannedResponsesUrl = '/kb/common-forum-responses';\n      var previewUrl = 'answer-preview-async';\n\n      function updatePreview() {\n        var response = $('#response-content').val();\n        var token = $('[name=csrfmiddlewaretoken]').attr('value');\n\n        toggleThrobber(true);\n\n        $.ajax({\n          type: 'POST',\n          url: previewUrl,\n          data: {\n            content: response,\n            csrfmiddlewaretoken: token\n          },\n          dataType: 'html',\n          success: function success(html) {\n            var $container = $('.response-preview-rendered');\n            var $response_preview = $(html).find('.main-content');\n            $container.html($response_preview);\n          },\n          complete: function complete() {\n            toggleThrobber(false);\n          }\n        });\n      }\n\n      function getContent(articleUrl) {\n        // If the article doesn't exist, it has /new in its URL\n        // Don't query nonexisting articles\n        if (!articleUrl || articleUrl.indexOf('/new') !== -1) {\n          return;\n        }\n\n        toggleThrobber(true);\n\n        $.ajax({\n          url: articleUrl + '/edit',\n          dataType: 'html',\n          success: function success(data, status) {\n            var article_src = $('#id_content', data).val();\n            var $textbox = $('#response-content');\n            $textbox.val(article_src);\n            $textbox.data('slug', articleUrl);\n            updatePreview();\n          },\n          complete: function complete() {\n            toggleThrobber(false);\n          }\n        });\n      }\n\n      function toggleThrobber(busy) {\n        var $label = $('.preview-label');\n        if (busy) {\n          $label.addClass('busy');\n        } else {\n          $label.removeClass('busy');\n        }\n      }\n\n      function isAllowedToUseResponse(response_target) {\n        if (response_target.indexOf('#') === -1) {\n          // No permission markers: Everyone's allowed\n          return true;\n        }\n\n        var articleUrl = response_target.split('#')[0];\n        var permBits = response_target.split('#')[1];\n        response_target = articleUrl;\n\n        for (var i = 0; i < permBits.length; i++) {\n          var bit = permBits[i];\n          if (me.permissionBits.indexOf(bit) !== -1) {\n            return true;\n          }\n        }\n        return false;\n      }\n\n      function insertResponse() {\n        var sourceContent = $('#response-content').val();\n        var slug = $('#response-content').data('slug');\n        var $responseTextbox = $('#id_content');\n        var targetContent = $responseTextbox.val();\n\n        trackEvent('Canned response usage', slug);\n\n        $responseTextbox.val(targetContent + sourceContent);\n      }\n\n      function searchResponses(term) {\n        term = term.toLowerCase().trim();\n        var $searchHeading = $html.find('#response-list-area .heading-label');\n        var $noCategorySelected = $html.find('.nocat-label');\n        var $responseLists = $html.find('.response-list ul');\n        var $responses = $html.find('.response');\n        var $responseListArea = $html.find('#response-list-area');\n        var $responsesArea = $html.find('#responses-area');\n\n        if (term === '') {\n          $searchHeading.text(gettext('Responses'));\n          $responseListArea.removeClass('filtered');\n          $responsesArea.removeClass('filtered');\n          $noCategorySelected.show();\n          $responses.show();\n          $responseLists.hide();\n          return;\n        }\n\n        $responseListArea.addClass('filtered');\n        $responsesArea.addClass('filtered');\n        $searchHeading.text(gettext('Matching responses'));\n        $noCategorySelected.hide();\n        $responseLists.show();\n\n        $responses.each(function () {\n          var text = $(this).text().toLowerCase();\n          if (text.indexOf(term) === -1) {\n            $(this).hide();\n          } else {\n            $(this).show();\n          }\n        });\n      }\n\n      function loadCannedResponses() {\n        var siteLanguage = window.location.pathname.split('/')[1];\n        var targetUrl = '/' + siteLanguage + cannedResponsesUrl;\n\n        $.ajax({\n          url: targetUrl,\n          type: 'GET',\n          dataType: 'html',\n          success: function success(html) {\n            var $categoryList = $('.category-list'),\n                $responsesList = $('.response-list'),\n                $categories = $(html).find('[id^=w_]');\n\n            $categoryList.empty();\n            $responsesList.empty();\n\n            $categories.each(function () {\n              var label = $(this).text(),\n                  $headingItem = $(document.createElement('li')),\n                  $responses = $(document.createElement('ul')).addClass('sidebar-nav').hide(),\n                  $catResponses = $(this).nextUntil('[id^=w_]').find('a'),\n                  $noCatLabel = $html.find('.nocat-label'),\n                  $otherResponses,\n                  $otherHeadings;\n\n              $catResponses.each(function () {\n                var $response = $(document.createElement('li')).addClass('response').text($(this).text());\n                var response_target = $(this).attr('href');\n                var canUseResponse = isAllowedToUseResponse(response_target);\n                response_target = response_target.split('#')[0];\n\n                if (canUseResponse) {\n                  $response.click(function () {\n                    $('.response-list li').not($(this)).removeClass('selected');\n                    $(this).addClass('selected');\n                    getContent(response_target);\n                  });\n\n                  $responses.append($response);\n                }\n              });\n\n              $headingItem.addClass('response-heading').text(label).on('click', function () {\n                $noCatLabel.hide();\n                $otherResponses = $responsesList.find('ul').not($responses);\n                $otherResponses.hide();\n\n                $otherHeadings = $categoryList.find('.response-heading').not($headingItem);\n                $otherHeadings.removeClass('selected');\n\n                $(this).addClass('selected');\n                $responses.show();\n              });\n\n              $categoryList.append($headingItem);\n              $responsesList.append($responses);\n            });\n          },\n          error: function error() {\n            var statusIndicator = $('.status-indicator');\n            statusIndicator.removeClass('busy');\n            statusIndicator.text(gettext('There was an error checking for canned responses.'));\n          }\n        });\n\n        // return true so that the kbox actually opens:\n        return true;\n      }\n\n      kbox = new KBox($html, {\n        title: this.name,\n        destroy: true,\n        modal: true,\n        id: 'media-modal',\n        container: $('body'),\n        position: 'none',\n        preOpen: loadCannedResponses\n      });\n\n      kbox.open();\n\n      $html.find('#insert-response').click(function () {\n        insertResponse();\n        kbox.close();\n      });\n\n      $html.find('#filter-responses-field').keyup(function () {\n        var term = $(this).val();\n        searchResponses(term);\n      });\n\n      var $previewLabel = $html.find('.preview-label');\n      var $contentArea = $html.find('.response-preview');\n      var $renderedPreview = $html.find('.response-preview-rendered');\n\n      $html.find('.toggle-view').toggle(function () {\n        updatePreview();\n        $previewLabel.text(gettext('Response preview'));\n        $(this).text(gettext('Switch to edit mode'));\n\n        $contentArea.hide();\n        $renderedPreview.show();\n      }, function () {\n        $previewLabel.text(gettext('Response editor'));\n        $(this).text(gettext('Switch to preview mode'));\n\n        $contentArea.show();\n        $renderedPreview.hide();\n      });\n\n      e.preventDefault();\n      return false;\n    },\n\n    permissionBits: [],\n\n    getPermissionBits: function getPermissionBits() {\n      var profile_link = $('#aux-nav .user').attr('href'),\n          me = this;\n      if (!profile_link || profile_link === '') {\n        return;\n      }\n\n      $.ajax({\n        url: profile_link,\n        dataType: 'html',\n        success: function success(data, status) {\n          var userGroups = $('#groups li', data);\n          userGroups.each(function () {\n            var group = $(this).text();\n\n            // Contributors:\n            if (group === 'Contributors') {\n              me.permissionBits.push('c');\n            }\n\n            // Moderators:\n            if (group === 'Forum Moderators') {\n              me.permissionBits.push('m');\n            }\n\n            // Administrators:\n            if (group === 'Administrators') {\n              me.permissionBits.push('a');\n            }\n          });\n        }\n      });\n    }\n  });\n\n  /*\n   * The quote button helper\n   */\n  Marky.QuoteButton = function () {\n    var name = gettext('Quote previous message...');\n    var previousContent = $('#read-message').attr('data-message-content');\n    var previousAuthor = $('.from a').text();\n    var previousAuthorLink = $('.from a').attr('href');\n    var quote = '[' + previousAuthorLink + ' ' + previousAuthor + '] ' + gettext('said') + '\\r\\n';\n    quote += '<blockquote>\\r\\n';\n    quote += previousContent + '\\r\\n';\n    quote += '</blockquote>\\r\\n';\n\n    return new Marky.SimpleButton(name, quote, '', '', 'btn-quote', true);\n  };\n\n  window.Marky = Marky;\n})(jQuery, gettext, document);\n/*\n  Marky, the markup toolbar builder\n\n  Usage:\n  <script type=\"text/javascript\">\n    // Create the simple toolbar (used in Forums and Questions)\n    Marky.createSimpleToolbar('#toolbar-container-id', '#textarea-id');\n\n    // or, create the full toolbar (used in the Knowledgebase)\n    Marky.createFullToolbar('#toolbar-container-id', '#textarea-id');\n\n    //or, create a custom toolbar.\n    Marky.createFullToolbar('#toolbar-container-id', '#textarea-id', [\n      new Marky.SimpleButton(\n        gettext('Bold'), \"'''\", \"'''\", gettext('bold text'),\n        'btn-bold'),\n      new Marky.SimpleButton(\n        gettext('Italic'), \"''\", \"''\", gettext('italic text'),\n        'btn-italic')\n    ]);\n  </script>\n*/\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9hcHAva2l0c3VuZS9zdW1vL3N0YXRpYy9zdW1vL2pzL21hcmt1cC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUF1QkEsQ0FBQyxVQUFTLENBQUMsRUFBRSxPQUFPLEVBQUUsUUFBUSxFQUFFOztBQUU5QixNQUFJLEtBQUssR0FBRztBQUNWLHVCQUFtQixFQUFFLDZCQUFTLFVBQVUsRUFBRSxXQUFXLEVBQUUsT0FBTyxFQUFFO0FBQzlELFVBQUksUUFBUSxHQUFHO0FBQ2IsdUJBQWUsRUFBRSxLQUFLO0FBQ3RCLHdCQUFnQixFQUFFLEtBQUs7T0FDeEIsQ0FBQzs7QUFFRixVQUFJLFFBQVEsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLEVBQUUsRUFBRSxRQUFRLEVBQUUsT0FBTyxDQUFDLENBQUM7O0FBRS9DLFVBQUksRUFBRSxHQUFHLEtBQUssQ0FBQyxZQUFZLENBQUM7QUFDNUIsVUFBSSxPQUFPLEdBQUcsQ0FDWixJQUFJLEVBQUUsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxPQUFPLENBQUMsV0FBVyxDQUFDLEVBQ3hELFVBQVUsQ0FBQyxFQUNiLElBQUksRUFBRSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sQ0FBQyxhQUFhLENBQUMsRUFDMUQsWUFBWSxDQUFDLEVBQ2YsSUFBSSxLQUFLLENBQUMsU0FBUyxFQUFFLEVBQ3JCLElBQUksS0FBSyxDQUFDLFVBQVUsRUFBRSxFQUN0QixJQUFJLEtBQUssQ0FBQyxTQUFTLEVBQUUsRUFDckIsSUFBSSxFQUFFLENBQUMsT0FBTyxDQUFDLGVBQWUsQ0FBQyxFQUFFLElBQUksRUFBRSxFQUFFLEVBQ3ZDLE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQyxFQUFFLFFBQVEsRUFBRSxJQUFJLENBQUMsRUFDaEQsSUFBSSxFQUFFLENBQUMsT0FBTyxDQUFDLGVBQWUsQ0FBQyxFQUFFLElBQUksRUFBRSxFQUFF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T0FBTyxDQUFDLE1BQU0sQ0FBQyxHQUFHLE1BQU0sQ0FBQztBQUMzQixTQUFLLElBQUksa0JBQWtCLENBQUM7QUFDNUIsU0FBSyxJQUFJLGVBQWUsR0FBRyxNQUFNLENBQUM7QUFDbEMsU0FBSyxJQUFJLG1CQUFtQixDQUFDOztBQUU3QixXQUFPLElBQUksS0FBSyxDQUFDLFlBQVksQ0FBQyxJQUFJLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsV0FBVyxFQUFFLElBQUksQ0FBQyxDQUFDO0dBQ3ZFLENBQUM7O0FBRUYsUUFBTSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7Q0FFdEIsQ0FBQSxDQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsUUFBUSxDQUFDLENBQUMiLCJmaWxlIjoiL2FwcC9raXRzdW5lL3N1bW8vc3RhdGljL3N1bW8vanMvbWFya3VwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogZ2xvYmFsIGpRdWVyeTpmYWxzZSwgZ2V0dGV4dDpmYWxzZSwgdHJhY2tFdmVudDpmYWxzZSwgS0JveDpmYWxzZSAqL1xuLypcbiAgTWFya3ksIHRoZSBtYXJrdXAgdG9vbGJhciBidWlsZGVyXG5cbiAgVXNhZ2U6XG4gIDxzY3JpcHQgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiPlxuICAgIC8vIENyZWF0ZSB0aGUgc2ltcGxlIHRvb2xiYXIgKHVzZWQgaW4gRm9ydW1zIGFuZCBRdWVzdGlvbnMpXG4gICAgTWFya3kuY3JlYXRlU2ltcGxlVG9vbGJhcignI3Rvb2xiYXItY29udGFpbmVyLWlkJywgJyN0ZXh0YXJlYS1pZCcpO1xuXG4gICAgLy8gb3IsIGNyZWF0ZSB0aGUgZnVsbCB0b29sYmFyICh1c2VkIGluIHRoZSBLbm93bGVkZ2ViYXNlKVxuICAgIE1hcmt5LmNyZWF0ZUZ1bGxUb29sYmFyKCcjdG9vbGJhci1jb250YWluZXItaWQnLCAnI3RleHRhcmVhLWlkJyk7XG5cbiAgICAvL29yLCBjcmVhdGUgYSBjdXN0b20gdG9vbGJhci5cbiAgICBNYXJreS5jcmVhdGVGdWxsVG9vbGJhcignI3Rvb2xiYXItY29udGFpbmVyLWlkJywgJyN0ZXh0YXJlYS1pZCcsIFtcbiAgICAgIG5ldyBNYXJreS5TaW1wbGVCdXR0b24oXG4gICAgICAgIGdldHRleHQoJ0JvbGQnKSwgXCInJydcIiwgXCInJydcIiwgZ2V0dGV4dCgnYm9sZCB0ZXh0JyksXG4gICAgICAgICdidG4tYm9sZCcpLFxuICAgICAgbmV3IE1hcmt5LlNpbXBsZUJ1dHRvbihcbiAgICAgICAgZ2V0dGV4dCgnSXRhbGljJyksIFwiJydcIiwgXCInJ1wiLCBnZXR0ZXh0KCdpdGFsaWMgdGV4dCcpLFxuICAgICAgICAnYnRuLWl0YWxpYycpXG4gICAgXSk7XG4gIDwvc2NyaXB0PlxuKi9cbihmdW5jdGlvbigkLCBnZXR0ZXh0LCBkb2N1bWVudCkge1xuXG4gIHZhciBNYXJreSA9IHtcbiAgICBjcmVhdGVTaW1wbGVUb29sYmFyOiBmdW5jdGlvbih0b29sYmFyU2VsLCB0ZXh0YXJlYVNlbCwgb3B0aW9ucykge1xuICAgICAgdmFyIGRlZmF1bHRzID0ge1xuICAgICAgICBjYW5uZWRSZXNwb25zZXM6IGZhbHNlLFxuICAgICAgICBwcml2YXRlTWVzc2FnaW5nOiBmYWxzZVxuICAgICAgfTtcblxuICAgICAgdmFyIHNldHRpbmdzID0gJC5leHRlbmQoe30sIGRlZmF1bHRzLCBvcHRpb25zKTtcblxuICAgICAgdmFyIFNCID0gTWFya3kuU2ltcGxlQnV0dG9uO1xuICAgICAgdmFyIGJ1dHRvbnMgPSBbXG4gICAgICAgIG5ldyBTQihnZXR0ZXh0KCdCb2xkJyksIFwiJycnXCIsIFwiJycnXCIsIGdldHRleHQoJ2JvbGQgdGV4dCcpLFxuICAgICAgICAgICdidG4tYm9sZCcpLFxuICAgICAgICBuZXcgU0IoZ2V0dGV4dCgnSXRhbGljJyksIFwiJydcIiwgXCInJ1wiLCBnZXR0ZXh0KCdpdGFsaWMgdGV4dCcpLFxuICAgICAgICAgICdidG4taXRhbGljJyksXG4gICAgICAgIG5ldyBNYXJreS5TZXBhcmF0b3IoKSxcbiAgICAgICAgbmV3IE1hcmt5LkxpbmtCdXR0b24oKSxcbiAgICAgICAgbmV3IE1hcmt5LlNlcGFyYXRvcigpLFxuICAgICAgICBuZXcgU0IoZ2V0dGV4dCgnTnVtYmVyZWQgTGlzdCcpLCAnIyAnLCAnJyxcbiAgICAgICAgICBnZXR0ZXh0KCdOdW1iZXJlZCBsaXN0IGl0ZW0nKSwgJ2J0bi1vbCcsIHRydWUpLFxuICAgICAgICBuZXcgU0IoZ2V0dGV4dCgnQnVsbGV0ZWQgTGlzdCcpLCAnKiAnLCAnJyxcbiAgICAgICAgICBnZXR0ZXh0KCdCdWxsZXRlZCBsaXN0IGl0ZW0nKSwgJ2J0bi11bCcsIHRydWUpXG4gICAgICBdO1xuICAgICAgaWYgKHNldHRpbmdzLm1lZGlhQnV0dG9uKSB7XG4gICAgICAgIGJ1dHRvbnMuc3BsaWNlKDQsIDAsIG5ldyBNYXJreS5NZWRpYUJ1dHRvbigpKTtcbiAgICAgIH1cbiAgICAgIGlmIChzZXR0aW5ncy5jYW5uZWRSZXNwb25zZXMpIHtcbiAgICAgICAgYnV0dG9ucy5wdXNoKG5ldyBNYXJreS5TZXBhcmF0b3IoKSxcbiAgICAgICAgICBuZXcgTWFya3kuQ2FubmVkUmVzcG9uc2VzQnV0dG9uKCkpO1xuICAgICAgfVxuICAgICAgaWYgKHNldHRpbmdzLnByaXZhdGVNZXNzYWdpbmcpIHtcbiAgICAgICAgYnV0dG9ucy5wdXNoKG5ldyBNYXJreS5TZXBhcmF0b3IoKSxcbiAgICAgICAgICBuZXcgTWFya3kuUXVvdGVCdXR0b24oKSk7XG4gICAgICB9XG5cbiAgICAgIE1hcmt5LmNyZWF0ZUN1c3RvbVRvb2xiYXIodG9vbGJhclNlbCwgdGV4dGFyZWFTZWwsIGJ1dHRvbnMpO1xuICAgIH0sXG4gICAgY3JlYXRlRnVsbFRvb2xiYXI6IGZ1bmN0aW9uKHRvb2xiYXJTZWwsIHRleHRhcmVhU2VsKSB7XG4gICAgICB2YXIgU0IgPSBNYXJreS5TaW1wbGVCdXR0b24sXG4gICAgICAgIGJ1dHRvbnMgPSBNYXJreS5hbGxCdXR0b25zKCk7XG4gICAgICBNYXJreS5jcmVhdGVDdXN0b21Ub29sYmFyKHRvb2xiYXJTZWwsIHRleHRhcmVhU2VsLCBidXR0b25zKTtcbiAgICB9LFxuICAgIGNyZWF0ZUN1c3RvbVRvb2xiYXI6IGZ1bmN0aW9uKHRvb2xiYXJTZWwsIHRleHRhcmVhU2VsLCBwYXJ0c0FycmF5KSB7XG4gICAgICB2YXIgJHRvb2xiYXIgPSAkKHRvb2xiYXJTZWwgfHwgJy5lZGl0b3ItdG9vbHMnKSxcbiAgICAgICAgdGV4dGFyZWEgPSAkKHRleHRhcmVhU2VsIHx8ICcjcmVwbHktY29udGVudCwgI2lkX2NvbnRlbnQnKVswXTtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gcGFydHNBcnJheS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgJHRvb2xiYXIuYXBwZW5kKHBhcnRzQXJyYXlbaV0uYmluZCh0ZXh0YXJlYSkubm9kZSgpKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGFsbEJ1dHRvbnM6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIFNCID0gTWFya3kuU2ltcGxlQnV0dG9uO1xuICAgICAgcmV0dXJuIFtcbiAgICAgICAgbmV3IFNCKGdldHRleHQoJ0JvbGQnKSwgXCInJydcIiwgXCInJydcIiwgZ2V0dGV4dCgnYm9sZCB0ZXh0JyksXG4gICAgICAgICAgJ2J0bi1ib2xkJyksXG4gICAgICAgIG5ldyBTQihnZXR0ZXh0KCdJdGFsaWMnKSwgXCInJ1wiLCBcIicnXCIsIGdldHRleHQoJ2l0YWxpYyB0ZXh0JyksXG4gICAgICAgICAgJ2J0bi1pdGFsaWMnKSxcbiAgICAgICAgbmV3IE1hcmt5LlNlcGFyYXRvcigpLFxuICAgICAgICBuZXcgTWFya3kuTGlua0J1dHRvbigpLFxuICAgICAgICBuZXcgTWFya3kuTWVkaWFCdXR0b24oKSxcbiAgICAgICAgbmV3IE1hcmt5LlNlcGFyYXRvcigpLFxuICAgICAgICBuZXcgU0IoZ2V0dGV4dCgnTnVtYmVyZWQgTGlzdCcpLCAnIyAnLCAnJyxcbiAgICAgICAgICBnZXR0ZXh0KCdOdW1iZXJlZCBsaXN0IGl0ZW0nKSwgJ2J0bi1vbCcsIHRydWUpLFxuICAgICAgICBuZXcgU0IoZ2V0dGV4dCgnQnVsbGV0ZWQgTGlzdCcpLCAnKiAnLCAnJyxcbiAgICAgICAgICBnZXR0ZXh0KCdCdWxsZXRlZCBsaXN0IGl0ZW0nKSwgJ2J0bi11bCcsIHRydWUpLFxuICAgICAgICBuZXcgTWFya3kuU2VwYXJhdG9yKCksXG4gICAgICAgIG5ldyBTQihnZXR0ZXh0KCdIZWFkaW5nIDEnKSwgJz0nLCAnPScsIGdldHRleHQoJ0hlYWRpbmcgMScpLFxuICAgICAgICAgICdidG4taDEnLCB0cnVlKSxcbiAgICAgICAgbmV3IFNCKGdldHRleHQoJ0hlYWRpbmcgMicpLCAnPT0nLCAnPT0nLCBnZXR0ZXh0KCdIZWFkaW5nIDInKSxcbiAgICAgICAgICAnYnRuLWgyJywgdHJ1ZSksXG4gICAgICAgIG5ldyBTQihnZXR0ZXh0KCdIZWFkaW5nIDMnKSwgJz09PScsICc9PT0nLCBnZXR0ZXh0KCdIZWFkaW5nIDMnKSxcbiAgICAgICAgICAnYnRuLWgzJywgdHJ1ZSlcbiAgICAgIF07XG4gICAgfVxuICB9O1xuXG5cbiAgLypcbiAgICogQSBzaW1wbGUgYnV0dG9uLlxuICAgKiBOb3RlOiBgZXZlcnlsaW5lYCBpcyBhIGJvb2xlYW4gdmFsdWUgdGhhdCBzYXlzIHdoZXRoZXIgb3Igbm90IHRoZSBzZWxlY3RlZFxuICAgKiAgICAgICB0ZXh0IHNob3VsZCBiZSBicm9rZW4gaW50byBtdWx0aXBsZSBsaW5lcyBhbmQgaGF2ZSB0aGUgbWFya3VwIGFwcGxpZWRcbiAgICogICAgICAgdG8gZWFjaCBsaW5lIG9yIG5vdC4gRGVmYXVsdCBpcyBmYWxzZSAoZG8gbm90IGFwcGx5IHRoaXMgYmVoYXZpb3IpLlxuICAgKiAgICAgICBgY2xhc3Nlc2AgaXMgYSBsaXN0IG9mIGNsYXNzZXMgdG8gaW5jbHVkZSBpbiB0aGUgb3V0cHV0XG4gICAqL1xuICBNYXJreS5TaW1wbGVCdXR0b24gPSBmdW5jdGlvbihuYW1lLCBvcGVuVGFnLCBjbG9zZVRhZywgZGVmYXVsdFRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXMsIGV2ZXJ5bGluZSkge1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5jbGFzc2VzID0gJyc7XG4gICAgdGhpcy5vcGVuVGFnID0gb3BlblRhZztcbiAgICB0aGlzLmNsb3NlVGFnID0gY2xvc2VUYWc7XG4gICAgdGhpcy5kZWZhdWx0VGV4dCA9IGRlZmF1bHRUZXh0O1xuICAgIHRoaXMuZXZlcnlsaW5lID0gZXZlcnlsaW5lO1xuICAgIGlmICh1bmRlZmluZWQgIT09IGNsYXNzZXMpIHtcbiAgICAgIHRoaXMuY2xhc3NlcyA9IGNsYXNzZXM7XG4gICAgfVxuXG4gICAgdGhpcy5odG1sID0gJzxidXR0b24gY2xhc3M9XCJtYXJrdXAtdG9vbGJhci1idXR0b25cIiAvPic7XG4gIH07XG5cbiAgTWFya3kuU2ltcGxlQnV0dG9uLnByb3RvdHlwZSA9IHtcbiAgICAvLyBCaW5kcyB0aGUgYnV0dG9uIHRvIGEgdGV4dGFyZWEgKERPTSBub2RlKS5cbiAgICBiaW5kOiBmdW5jdGlvbih0ZXh0YXJlYSkge1xuICAgICAgdGhpcy50ZXh0YXJlYSA9IHRleHRhcmVhO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICAvLyBSZW5kZXJzIHRoZSBodG1sLlxuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgJG91dCA9ICQodGhpcy5odG1sKS5hdHRyKHtcbiAgICAgICAgdGl0bGU6IHRoaXMubmFtZVxuICAgICAgfSkuaHRtbCh0aGlzLm5hbWUpO1xuICAgICAgJG91dC5hZGRDbGFzcyh0aGlzLmNsYXNzZXMpO1xuICAgICAgcmV0dXJuICRvdXQ7XG4gICAgfSxcbiAgICAvLyBHZXRzIHRoZSBET00gbm9kZSBmb3IgdGhlIGJ1dHRvbi5cbiAgICBub2RlOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBtZSA9IHRoaXMsXG4gICAgICAgICRidG4gPSB0aGlzLnJlbmRlcigpO1xuICAgICAgJGJ0bi5jbGljayhmdW5jdGlvbihlKSB7XG4gICAgICAgIG1lLmhhbmRsZUNsaWNrKGUpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gJGJ0blswXTtcbiAgICB9LFxuICAgIC8vIEdldCBzZWxlY3RlZCB0ZXh0XG4gICAgZ2V0U2VsZWN0ZWRUZXh0OiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxUZXh0ID0gJyc7XG4gICAgICBpZiAod2luZG93LmNvZGVtaXJyb3IgJiYgd2luZG93LmhpZ2hsaWdodGluZy5pc0VuYWJsZWQoKSkge1xuICAgICAgICB2YXIgZWRpdG9yID0gd2luZG93LmhpZ2hsaWdodGluZy5lZGl0b3I7XG4gICAgICAgIHJldHVybiBlZGl0b3IuZ2V0U2VsZWN0aW9uKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChkb2N1bWVudC5zZWxlY3Rpb24gJiYgZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKSB7XG4gICAgICAgIC8vIElFL09wZXJhXG4gICAgICAgIHNlbFRleHQgPSBkb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKS50ZXh0O1xuICAgICAgfSBlbHNlIGlmICh0aGlzLnRleHRhcmVhLnNlbGVjdGlvblN0YXJ0IHx8XG4gICAgICAgIHBhcnNlSW50KHRoaXMudGV4dGFyZWEuc2VsZWN0aW9uU3RhcnQpID09PSAwKSB7XG4gICAgICAgIC8vIEZpcmVmb3gvU2FmYXJpL0Nocm9tZS9ldGMuXG4gICAgICAgIHNlbFRleHQgPSB0aGlzLnRleHRhcmVhLnZhbHVlLnN1YnN0cmluZyhcbiAgICAgICAgICB0aGlzLnRleHRhcmVhLnNlbGVjdGlvblN0YXJ0LCB0aGlzLnRleHRhcmVhLnNlbGVjdGlvbkVuZCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc2VsVGV4dDtcbiAgICB9LFxuICAgIC8vIEhhbmRsZXMgdGhlIGJ1dHRvbiBjbGljay5cbiAgICBoYW5kbGVDbGljazogZnVuY3Rpb24oZSkge1xuICAgICAgdmFyIHNlbFRleHQsIHNlbFN0YXJ0LCBzZWxFbmQsIHNwbGl0VGV4dCwgcmFuZ2UsXG4gICAgICAgIHRleHRhcmVhID0gdGhpcy50ZXh0YXJlYSxcbiAgICAgICAgc2Nyb2xsVG9wID0gJCh0ZXh0YXJlYSkuc2Nyb2xsVG9wKCksXG4gICAgICAgIGVkaXRvciA9IHdpbmRvdy5oaWdobGlnaHRpbmcgJiYgd2luZG93LmhpZ2hsaWdodGluZy5lZGl0b3I7XG5cbiAgICAgIGlmICh3aW5kb3cuY29kZW1pcnJvciAmJiB3aW5kb3cuaGlnaGxpZ2h0aW5nICYmIHdpbmRvdy5oaWdobGlnaHRpbmcuaXNFbmFibGVkKCkpIHtcbiAgICAgICAgc2VsVGV4dCA9IChlZGl0b3Iuc29tZXRoaW5nU2VsZWN0ZWQoKSkgPyBlZGl0b3IuZ2V0U2VsZWN0aW9uKCkgOiB0aGlzLmRlZmF1bHRUZXh0O1xuICAgICAgICBzZWxUZXh0ID0gdGhpcy5vcGVuVGFnICsgc2VsVGV4dCArIHRoaXMuY2xvc2VUYWc7XG4gICAgICAgIGVkaXRvci5yZXBsYWNlU2VsZWN0aW9uKHNlbFRleHQpO1xuICAgICAgICBlZGl0b3IuZm9jdXMoKTtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHRleHRhcmVhLmZvY3VzKCk7XG5cbiAgICAgIGlmIChkb2N1bWVudC5zZWxlY3Rpb24gJiYgZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKSB7XG4gICAgICAgIC8vIElFL09wZXJhXG4gICAgICAgIHJhbmdlID0gZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCk7XG4gICAgICAgIHNlbFRleHQgPSByYW5nZS50ZXh0O1xuICAgICAgICBpZiAoIXNlbFRleHQubGVuZ3RoKSB7XG4gICAgICAgICAgc2VsVGV4dCA9IHRoaXMuZGVmYXVsdFRleHQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5ldmVyeWxpbmUgJiYgLX5zZWxUZXh0LmluZGV4T2YoJ1xcbicpKSB7XG4gICAgICAgICAgc3BsaXRUZXh0ID0gdGhpcy5fYXBwbHlFdmVyeUxpbmUodGhpcy5vcGVuVGFnLCB0aGlzLmNsb3NlVGFnLFxuICAgICAgICAgICAgc2VsVGV4dCk7XG4gICAgICAgICAgcmFuZ2UudGV4dCA9IHNwbGl0VGV4dC5qb2luKCdcXG4nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByYW5nZS50ZXh0ID0gdGhpcy5vcGVuVGFnICsgc2VsVGV4dCArIHRoaXMuY2xvc2VUYWc7XG5cbiAgICAgICAgICBpZiAocmFuZ2UubW92ZVN0YXJ0KSB7XG4gICAgICAgICAgICByYW5nZS5tb3ZlU3RhcnQoJ2NoYXJhY3RlcicsICgtMSAqIHRoaXMub3BlblRhZy5sZW5ndGgpIC1cbiAgICAgICAgICAgICAgc2VsVGV4dC5sZW5ndGgpO1xuICAgICAgICAgICAgcmFuZ2UubW92ZUVuZCgnY2hhcmFjdGVyJywgKC0xICogdGhpcy5jbG9zZVRhZy5sZW5ndGgpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByYW5nZS5zZWxlY3QoKTtcbiAgICAgIH0gZWxzZSBpZiAodGV4dGFyZWEuc2VsZWN0aW9uU3RhcnQgfHwgcGFyc2VJbnQodGV4dGFyZWEuc2VsZWN0aW9uU3RhcnQpID09PSAwKSB7XG4gICAgICAgIC8vIEZpcmVmb3gvU2FmYXJpL0Nocm9tZS9ldGMuXG4gICAgICAgIHNlbFN0YXJ0ID0gdGV4dGFyZWEuc2VsZWN0aW9uU3RhcnQ7XG4gICAgICAgIHNlbEVuZCA9IHRleHRhcmVhLnNlbGVjdGlvbkVuZDtcbiAgICAgICAgc2VsVGV4dCA9IHRleHRhcmVhLnZhbHVlLnN1YnN0cmluZyhzZWxTdGFydCwgc2VsRW5kKTtcbiAgICAgICAgaWYgKCFzZWxUZXh0Lmxlbmd0aCkge1xuICAgICAgICAgIHNlbFRleHQgPSB0aGlzLmRlZmF1bHRUZXh0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuZXZlcnlsaW5lICYmIC1+c2VsVGV4dC5pbmRleE9mKCdcXG4nKSkge1xuICAgICAgICAgIHNwbGl0VGV4dCA9IHRoaXMuX2FwcGx5RXZlcnlMaW5lKHRoaXMub3BlblRhZywgdGhpcy5jbG9zZVRhZyxcbiAgICAgICAgICAgIHNlbFRleHQpLmpvaW4oJ1xcbicpO1xuICAgICAgICAgIHRleHRhcmVhLnZhbHVlID1cbiAgICAgICAgICAgIHRleHRhcmVhLnZhbHVlLnN1YnN0cmluZygwLCB0ZXh0YXJlYS5zZWxlY3Rpb25TdGFydCkgK1xuICAgICAgICAgICAgc3BsaXRUZXh0ICtcbiAgICAgICAgICAgIHRleHRhcmVhLnZhbHVlLnN1YnN0cmluZyh0ZXh0YXJlYS5zZWxlY3Rpb25FbmQpO1xuXG4gICAgICAgICAgdGV4dGFyZWEuc2VsZWN0aW9uU3RhcnQgPSBzZWxTdGFydDtcbiAgICAgICAgICB0ZXh0YXJlYS5zZWxlY3Rpb25FbmQgPSB0ZXh0YXJlYS5zZWxlY3Rpb25TdGFydCArXG4gICAgICAgICAgICBzcGxpdFRleHQubGVuZ3RoO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRleHRhcmVhLnZhbHVlID1cbiAgICAgICAgICAgIHRleHRhcmVhLnZhbHVlLnN1YnN0cmluZygwLCB0ZXh0YXJlYS5zZWxlY3Rpb25TdGFydCkgK1xuICAgICAgICAgICAgdGhpcy5vcGVuVGFnICsgc2VsVGV4dCArIHRoaXMuY2xvc2VUYWcgK1xuICAgICAgICAgICAgdGV4dGFyZWEudmFsdWUuc3Vic3RyaW5nKHRleHRhcmVhLnNlbGVjdGlvbkVuZCk7XG5cbiAgICAgICAgICB0ZXh0YXJlYS5zZWxlY3Rpb25TdGFydCA9IHNlbFN0YXJ0ICsgdGhpcy5vcGVuVGFnLmxlbmd0aDtcbiAgICAgICAgICB0ZXh0YXJlYS5zZWxlY3Rpb25FbmQgPSB0ZXh0YXJlYS5zZWxlY3Rpb25TdGFydCArXG4gICAgICAgICAgICBzZWxUZXh0Lmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgJCh0ZXh0YXJlYSkuc2Nyb2xsVG9wKHNjcm9sbFRvcCk7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcbiAgICBfYXBwbHlFdmVyeUxpbmU6IGZ1bmN0aW9uKG9wZW50YWcsIGNsb3NldGFnLCBibG9jaykge1xuICAgICAgcmV0dXJuICQubWFwKGJsb2NrLnNwbGl0KCdcXG4nKSwgZnVuY3Rpb24obGluZSkge1xuICAgICAgICByZXR1cm4gKGxpbmUucmVwbGFjZSgvXFxzKy8sICcnKS5sZW5ndGggP1xuICAgICAgICAgIG9wZW50YWcgKyBsaW5lICsgY2xvc2V0YWcgOiBsaW5lKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICAvKlxuICAgKiBBIGJ1dHRvbiBzZXBhcmF0b3IuXG4gICAqL1xuICBNYXJreS5TZXBhcmF0b3IgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmh0bWwgPSAnPHNwYW4gY2xhc3M9XCJzZXBhcmF0b3JcIj48L3NwYW4+JztcbiAgfTtcblxuICBNYXJreS5TZXBhcmF0b3IucHJvdG90eXBlID0ge1xuICAgIG5vZGU6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuICQodGhpcy5odG1sKVswXTtcbiAgICB9LFxuICAgIGJpbmQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9O1xuXG4gIC8qXG4gICAqIFRoZSBsaW5rIGhlbHBlci5cbiAgICovXG4gIE1hcmt5LkxpbmtCdXR0b24gPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLm5hbWUgPSBnZXR0ZXh0KCdJbnNlcnQgYSBsaW5rLi4uJyk7XG4gICAgdGhpcy5jbGFzc2VzID0gJ2J0bi1saW5rJztcbiAgICB0aGlzLm9wZW5UYWcgPSAnW2h0dHA6Ly9leGFtcGxlLmNvbSAnO1xuICAgIHRoaXMuY2xvc2VUYWcgPSAnXSc7XG4gICAgdGhpcy5kZWZhdWx0VGV4dCA9IGdldHRleHQoJ2xpbmsgdGV4dCcpO1xuICAgIHRoaXMuZXZlcnlsaW5lID0gZmFsc2U7XG5cbiAgICB0aGlzLm9yaWdPcGVuVGFnID0gdGhpcy5vcGVuVGFnO1xuICAgIHRoaXMub3JpZ0Nsb3NlVGFnID0gdGhpcy5jbG9zZVRhZztcbiAgICB0aGlzLm9yaWdEZWZhdWx0VGV4dCA9IHRoaXMuZGVmYXVsdFRleHQ7XG5cbiAgICB0aGlzLmh0bWwgPSAnPGJ1dHRvbiBjbGFzcz1cIm1hcmt1cC10b29sYmFyLWJ1dHRvblwiIC8+JztcbiAgfTtcblxuICBNYXJreS5MaW5rQnV0dG9uLnByb3RvdHlwZSA9ICQuZXh0ZW5kKHt9LCBNYXJreS5TaW1wbGVCdXR0b24ucHJvdG90eXBlLCB7XG4gICAgLy8gR2V0cyB0aGUgRE9NIG5vZGUgZm9yIHRoZSBidXR0b24uXG4gICAgbm9kZTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbWUgPSB0aGlzLFxuICAgICAgICAkYnRuID0gdGhpcy5yZW5kZXIoKTtcbiAgICAgICRidG4uY2xpY2soZnVuY3Rpb24oZSkge1xuICAgICAgICBtZS5vcGVuTW9kYWwoZSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiAkYnRuWzBdO1xuICAgIH0sXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5vcGVuVGFnID0gdGhpcy5vcmlnT3BlblRhZztcbiAgICAgIHRoaXMuY2xvc2VUYWcgPSB0aGlzLm9yaWdDbG9zZVRhZztcbiAgICAgIHRoaXMuZGVmYXVsdFRleHQgPSB0aGlzLm9yaWdEZWZhdWx0VGV4dDtcbiAgICB9LFxuICAgIG9wZW5Nb2RhbDogZnVuY3Rpb24oZXYpIHtcbiAgICAgIHZhciBtZSA9IHRoaXMsXG4gICAgICAvLyBUT0RPOiBsb29rIGF0IHVzaW5nIGEganMgdGVtcGxhdGUgc29sdXRpb24gKGpxdWVyeS10bXBsPylcbiAgICAgICAgJGh0bWwgPSAkKFxuICAgICAgICAgICAgJzxzZWN0aW9uIGNsYXNzPVwibWFya3lcIj4nICtcbiAgICAgICAgICAgICc8bGFiZWw+JyArIGdldHRleHQoJ0xpbmsgdGV4dDonKSArICc8L2xhYmVsPicgK1xuICAgICAgICAgICAgJzxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJsaW5rLXRleHRcIiAvPicgK1xuICAgICAgICAgICAgJzxsYWJlbD4nICsgZ2V0dGV4dCgnTGluayB0YXJnZXQ6JykgKyAnPC9sYWJlbD4nICtcbiAgICAgICAgICAgICc8b2w+PGxpPjxsYWJlbD48aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cImxpbmstdHlwZVwiIHZhbHVlPVwiaW50ZXJuYWxcIiAvPiAnICtcbiAgICAgICAgICAgIGdldHRleHQoJ1N1cHBvcnQgYXJ0aWNsZTonKSArICc8L2xhYmVsPiAnICtcbiAgICAgICAgICAgICc8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwiaW50ZXJuYWxcIiBwbGFjZWhvbGRlcj1cIicgK1xuICAgICAgICAgICAgZ2V0dGV4dCgnRW50ZXIgdGhlIG5hbWUgb2YgdGhlIGFydGljbGUnKSArICdcIiAvPjwvbGk+JyArXG4gICAgICAgICAgICAnPGxpPjxsYWJlbD48aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cImxpbmstdHlwZVwiIHZhbHVlPVwiZXh0ZXJuYWxcIiAvPiAnICtcbiAgICAgICAgICAgIGdldHRleHQoJ0V4dGVybmFsIGxpbms6JykgKyAnPC9sYWJlbD4gJyArXG4gICAgICAgICAgICAnPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cImV4dGVybmFsXCIgcGxhY2Vob2xkZXI9XCInICtcbiAgICAgICAgICAgIGdldHRleHQoJ0VudGVyIHRoZSBVUkwgb2YgdGhlIGV4dGVybmFsIGxpbmsnKSArICdcIiAvPjwvbGk+JyArXG4gICAgICAgICAgICAnPC9vbD48ZGl2IGNsYXNzPVwic3VibWl0XCI+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWltcG9ydGFudFwiPjwvYnV0dG9uPicgK1xuICAgICAgICAgICAgJzxhIGhyZWY9XCIjY2FuY2VsXCIgY2xhc3M9XCJrYm94LWNhbmNlbFwiPicgKyBnZXR0ZXh0KCdDYW5jZWwnKSArXG4gICAgICAgICAgICAnPC9hPjwvZGl2Pjwvc2VjdGlvbj4nIC8vIHdoZXcsIHl1Y2shP1xuICAgICAgICApLFxuICAgICAgICBzZWxlY3RlZFRleHQgPSBtZS5nZXRTZWxlY3RlZFRleHQoKSxcbiAgICAgICAga2JveDtcblxuICAgICAgJGh0bWwuZmluZCgnbGkgaW5wdXRbdHlwZT1cInRleHRcIl0nKS5mb2N1cyhmdW5jdGlvbigpIHtcbiAgICAgICAgJCh0aGlzKS5jbG9zZXN0KCdsaScpLmZpbmQoJ2lucHV0W3R5cGU9XCJyYWRpb1wiXScpLmNsaWNrKCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gUGVyZm9ybSBhIHF1ZXJ5IGZvciB0aGUgc2VjdGlvbnMgb2YgYW4gYXJ0aWNsZSBpZlxuICAgICAgLy8gbGFzdCBjaGFyYWN0ZXIgaXMgYSBwb3VuZDpcbiAgICAgIHZhciBwZXJmb3JtU2VjdGlvblNlYXJjaCA9IGZ1bmN0aW9uKHJlcXVlc3QpIHtcbiAgICAgICAgcmV0dXJuIChyZXF1ZXN0LnRlcm0uaW5kZXhPZignIycpID09PSByZXF1ZXN0LnRlcm0ubGVuZ3RoIC0gMSk7XG4gICAgICB9O1xuXG4gICAgICB2YXIgcmVzdWx0cyA9IFtdO1xuXG4gICAgICAvLyBHZXQgdGhlIGFydGljbGUgVVJMIGJ5IHByb3ZpZGluZyB0aGUgYXJ0aWNsZSBuYW1lOlxuICAgICAgdmFyIGdldEFydGljbGVVUkwgPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzdWx0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmIChuYW1lID09PSByZXN1bHRzW2ldLmxhYmVsKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0c1tpXS51cmw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9O1xuXG4gICAgICB2YXIgYXJ0aWNsZVNlYXJjaCA9IGZ1bmN0aW9uKHJlcXVlc3QsIHJlc3BvbnNlKSB7XG4gICAgICAgIHJlc3VsdHMgPSBbXTtcbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICB1cmw6ICcvZW4tVVMvc2VhcmNoJyxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBmb3JtYXQ6ICdqc29uJyxcbiAgICAgICAgICAgIHE6IHJlcXVlc3QudGVybSxcbiAgICAgICAgICAgIGE6IDEsXG4gICAgICAgICAgICB3OiAxLFxuICAgICAgICAgICAgbGFuZ3VhZ2U6ICQoJ2h0bWwnKS5hdHRyKCdsYW5nJylcbiAgICAgICAgICB9LFxuICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSwgdGV4dFN0YXR1cykge1xuICAgICAgICAgICAgJC5tYXAoZGF0YS5yZXN1bHRzLCBmdW5jdGlvbih2YWwsIGkpIHtcbiAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICBsYWJlbDogdmFsLnRpdGxlLFxuICAgICAgICAgICAgICAgIHVybDogdmFsLnVybFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmVzcG9uc2UocmVzdWx0cyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBzZWN0aW9uU2VhcmNoID0gZnVuY3Rpb24ocmVxdWVzdCwgcmVzcG9uc2UpIHtcbiAgICAgICAgdmFyIGFydGljbGVOYW1lID0gcmVxdWVzdC50ZXJtLnNwbGl0KCcjJylbMF07XG4gICAgICAgIHZhciBhcnRpY2xlVVJMID0gZ2V0QXJ0aWNsZVVSTChhcnRpY2xlTmFtZSk7XG5cbiAgICAgICAgaWYgKCFhcnRpY2xlVVJMKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICB1cmw6IGFydGljbGVVUkwsXG4gICAgICAgICAgZGF0YVR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhLCBzdGF0dXMpIHtcbiAgICAgICAgICAgIHZhciBoZWFkaW5ncyA9ICQoXCJbaWRePSd3XyddXCIsIGRhdGEpO1xuICAgICAgICAgICAgdmFyIGFycmF5ID0gW107XG5cbiAgICAgICAgICAgIGlmIChoZWFkaW5ncy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgYXJyYXkucHVzaCh7XG4gICAgICAgICAgICAgICAgbGFiZWw6IGdldHRleHQoJ05vIHNlY3Rpb25zIGZvdW5kJyksXG4gICAgICAgICAgICAgICAgdmFsdWU6IHJlcXVlc3QudGVybS5yZXBsYWNlKCcjJywgJycpLFxuICAgICAgICAgICAgICAgIHRhcmdldDogJydcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGhlYWRpbmdzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHZhciBlbGVtZW50ID0gdGhpcy5ub2RlTmFtZTtcbiAgICAgICAgICAgICAgdmFyIGxldmVsID0gZWxlbWVudC5zdWJzdHJpbmcoMSk7XG4gICAgICAgICAgICAgIHZhciBsYWJlbCA9ICQodGhpcykudGV4dCgpO1xuICAgICAgICAgICAgICB2YXIgdGFyZ2V0ID0gJCh0aGlzKS5hdHRyKCdpZCcpO1xuICAgICAgICAgICAgICB2YXIgdmFsdWUgPSByZXF1ZXN0LnRlcm0gKyB0YXJnZXQ7XG5cbiAgICAgICAgICAgICAgYXJyYXkucHVzaCh7XG4gICAgICAgICAgICAgICAgbGFiZWw6IGxhYmVsLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IHRhcmdldFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmVzcG9uc2UoYXJyYXkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICAkaHRtbC5maW5kKCdpbnB1dFtuYW1lPVwiaW50ZXJuYWxcIl0nKS5hdXRvY29tcGxldGUoe1xuICAgICAgICBzb3VyY2U6IGZ1bmN0aW9uKHJlcXVlc3QsIHJlc3BvbnNlKSB7XG4gICAgICAgICAgaWYgKHBlcmZvcm1TZWN0aW9uU2VhcmNoKHJlcXVlc3QpKSB7XG4gICAgICAgICAgICBzZWN0aW9uU2VhcmNoKHJlcXVlc3QsIHJlc3BvbnNlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXJ0aWNsZVNlYXJjaChyZXF1ZXN0LCByZXNwb25zZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBzZWxlY3Q6IGZ1bmN0aW9uKGV2ZW50LCB1aSkge1xuICAgICAgICAgIGlmICghdWkuaXRlbS50YXJnZXQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgJGxpbmt0ZXh0ID0gJGh0bWwuZmluZCgnaW5wdXRbbmFtZT1saW5rLXRleHRdJyk7XG4gICAgICAgICAgaWYgKCRsaW5rdGV4dC52YWwoKSA9PT0gJycpIHtcbiAgICAgICAgICAgICRsaW5rdGV4dC52YWwodWkuaXRlbS5sYWJlbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgJGh0bWwuZmluZCgnYnV0dG9uJykudGV4dChnZXR0ZXh0KCdJbnNlcnQgTGluaycpKS5jbGljayhmdW5jdGlvbihlKSB7XG4gICAgICAgIC8vIEdlbmVyYXRlIHRoZSB3aWtpIG1hcmt1cCBiYXNlZCBvbiB3aGF0IHRoZSB1c2VyIGhhcyBzZWxlY3RlZFxuICAgICAgICAvLyAoaW50ZXJ2YWwgdnMgZXh0ZXJuYWwgbGlua3MpIGFuZCBlbnRlcmVkIGludG8gdGhlIHRleHRib3hlcyxcbiAgICAgICAgLy8gaWYgYW55dGhpbmcuXG4gICAgICAgIHZhciB2YWwgPSAkaHRtbC5maW5kKCdpbnB1dFt0eXBlPVwicmFkaW9cIl06Y2hlY2tlZCcpLnZhbCgpLFxuICAgICAgICAgIHRleHQgPSAkaHRtbC5maW5kKCdpbnB1dFtuYW1lPWxpbmstdGV4dF0nKS52YWwoKSxcbiAgICAgICAgICAkaW50ZXJuYWwgPSAkaHRtbC5maW5kKCdpbnB1dFtuYW1lPVwiaW50ZXJuYWxcIl0nKSxcbiAgICAgICAgICAkZXh0ZXJuYWwgPSAkaHRtbC5maW5kKCdpbnB1dFtuYW1lPVwiZXh0ZXJuYWxcIl0nKTtcbiAgICAgICAgbWUucmVzZXQoKTtcbiAgICAgICAgaWYgKHZhbCA9PT0gJ2ludGVybmFsJykge1xuICAgICAgICAgIHZhciB0aXRsZSA9ICRpbnRlcm5hbC52YWwoKTtcbiAgICAgICAgICBpZiAodGl0bGUpIHtcbiAgICAgICAgICAgIGlmICh0aXRsZSA9PT0gc2VsZWN0ZWRUZXh0KSB7XG4gICAgICAgICAgICAgIC8vIFRoZSB0aXRsZSB3YXNuJ3QgY2hhbmdlZCwgc28gbGV0cyBrZWVwIGl0IHNlbGVjdGVkLlxuICAgICAgICAgICAgICBtZS5vcGVuVGFnID0gJ1tbJztcbiAgICAgICAgICAgICAgbWUuY2xvc2VUYWcgPSAnXV0nO1xuICAgICAgICAgICAgICBpZiAodGV4dCkge1xuICAgICAgICAgICAgICAgIG1lLmNsb3NlVGFnID0gJ3wnICsgdGV4dCArIG1lLmNsb3NlVGFnO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBUaGUgdGl0bGUgY2hhbmdlZCwgc28gbGV0cyBpbnNlcnQgbGluayBiZWZvcmUgdGhlIGN1cnNvci5cbiAgICAgICAgICAgICAgbWUub3BlblRhZyA9ICdbWycgKyB0aXRsZTtcbiAgICAgICAgICAgICAgaWYgKHRleHQpIHtcbiAgICAgICAgICAgICAgICBtZS5vcGVuVGFnICs9ICd8JyArIHRleHQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgbWUub3BlblRhZyArPSAnXV0gJztcbiAgICAgICAgICAgICAgbWUuY2xvc2VUYWcgPSAnJztcbiAgICAgICAgICAgICAgbWUuZGVmYXVsdFRleHQgPSAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbWUub3BlblRhZyA9ICdbWyc7XG4gICAgICAgICAgICBtZS5jbG9zZVRhZyA9ICddXSc7XG4gICAgICAgICAgICBpZiAodGV4dCkge1xuICAgICAgICAgICAgICBtZS5jbG9zZVRhZyA9ICd8JyArIHRleHQgKyAnXV0nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWUuZGVmYXVsdFRleHQgPSBnZXR0ZXh0KCdLbm93bGVkZ2UgQmFzZSBBcnRpY2xlJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBsaW5rID0gJGV4dGVybmFsLnZhbCgpO1xuICAgICAgICAgIGlmIChsaW5rKSB7XG4gICAgICAgICAgICBpZiAobGluay5pbmRleE9mKCdodHRwJykgIT09IDApIHtcbiAgICAgICAgICAgICAgbGluayA9ICdodHRwOi8vJyArIGxpbms7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtZS5vcGVuVGFnID0gJ1snICsgbGluayArICcgJztcbiAgICAgICAgICAgIGlmICh0ZXh0KSB7XG4gICAgICAgICAgICAgIG1lLm9wZW5UYWcgKz0gdGV4dCArICddICc7XG4gICAgICAgICAgICAgIG1lLmNsb3NlVGFnID0gJyc7XG4gICAgICAgICAgICAgIG1lLmRlZmF1bHRUZXh0ID0gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmICh0ZXh0KSB7XG4gICAgICAgICAgICBtZS5kZWZhdWx0VGV4dCA9IHRleHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbWUuaGFuZGxlQ2xpY2soZSk7XG4gICAgICAgIGtib3guY2xvc2UoKTtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoc2VsZWN0ZWRUZXh0KSB7XG4gICAgICAgIC8vIElmIHRoZXJlIHVzZXIgaGFzIHNlbGVjdGVkIHRleHQsIGxldHMgZGVmYXVsdCB0byBpdCBiZWluZ1xuICAgICAgICAvLyB0aGUgQXJ0aWNsZSBUaXRsZS5cbiAgICAgICAgJGh0bWwuZmluZCgnaW5wdXRbbmFtZT1cImludGVybmFsXCJdJykudmFsKHNlbGVjdGVkVGV4dCkuZm9jdXMoKTtcbiAgICAgIH1cblxuICAgICAga2JveCA9IG5ldyBLQm94KCRodG1sLCB7XG4gICAgICAgIHRpdGxlOiB0aGlzLm5hbWUsXG4gICAgICAgIGRlc3Ryb3k6IHRydWUsXG4gICAgICAgIG1vZGFsOiB0cnVlLFxuICAgICAgICBpZDogJ2xpbmstbW9kYWwnLFxuICAgICAgICBjb250YWluZXI6ICQoJ2JvZHknKVxuICAgICAgfSk7XG4gICAgICBrYm94Lm9wZW4oKTtcblxuICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0pO1xuXG4gIC8qXG4gICAqIFRoZSBtZWRpYSBoZWxwZXIuXG4gICAqL1xuICBNYXJreS5NZWRpYUJ1dHRvbiA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMubmFtZSA9IGdldHRleHQoJ0luc2VydCBtZWRpYS4uLicpO1xuICAgIHRoaXMuY2xhc3NlcyA9ICdidG4tbWVkaWEnO1xuICAgIHRoaXMub3BlblRhZyA9ICcnO1xuICAgIHRoaXMuY2xvc2VUYWcgPSAnJztcbiAgICB0aGlzLmRlZmF1bHRUZXh0ID0gZ2V0dGV4dCgnbWVkaWEnKTtcbiAgICB0aGlzLmV2ZXJ5bGluZSA9IGZhbHNlO1xuXG4gICAgdGhpcy5odG1sID0gJzxidXR0b24gY2xhc3M9XCJtYXJrdXAtdG9vbGJhci1idXR0b25cIiAvPic7XG4gIH07XG5cbiAgTWFya3kuTWVkaWFCdXR0b24ucHJvdG90eXBlID0gJC5leHRlbmQoe30sIE1hcmt5LlNpbXBsZUJ1dHRvbi5wcm90b3R5cGUsIHtcbiAgICAvLyBHZXRzIHRoZSBET00gbm9kZSBmb3IgdGhlIGJ1dHRvbi5cbiAgICBub2RlOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBtZSA9IHRoaXMsXG4gICAgICAgICRidG4gPSB0aGlzLnJlbmRlcigpO1xuICAgICAgJGJ0bi5jbGljayhmdW5jdGlvbihlKSB7XG4gICAgICAgIG1lLm9wZW5Nb2RhbChlKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuICRidG5bMF07XG4gICAgfSxcbiAgICByZXNldDogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLm9wZW5UYWcgPSAnJztcbiAgICAgIHRoaXMuY2xvc2VUYWcgPSAnJztcbiAgICAgIHRoaXMuZGVmYXVsdFRleHQgPSAnJztcbiAgICB9LFxuICAgIG9wZW5Nb2RhbDogZnVuY3Rpb24oZXYpIHtcbiAgICAgIHZhciBtZSA9IHRoaXMsXG4gICAgICAgICRlZGl0b3IgPSAkKG1lLnRleHRhcmVhKS5jbG9zZXN0KCcuZWRpdG9yJyksXG4gICAgICAgIG1lZGlhU2VhcmNoVXJsID0gJGVkaXRvci5kYXRhKCdtZWRpYS1zZWFyY2gtdXJsJyksXG4gICAgICAgIGdhbGxlcnlVcmwgPSAkZWRpdG9yLmRhdGEoJ21lZGlhLWdhbGxlcnktdXJsJyksXG4gICAgICAvLyBUT0RPOiBsb29rIGF0IHVzaW5nIGEganMgdGVtcGxhdGUgc29sdXRpb24gKGpxdWVyeS10bXBsPylcbiAgICAgICAgJGh0bWwgPSAkKFxuICAgICAgICAgICAgJzxzZWN0aW9uIGNsYXNzPVwibWFya3lcIj4nICtcbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiZmlsdGVyIGNmXCI+JyArXG4gICAgICAgICAgICAnPGZvcm0gY2xhc3M9XCJzaW1wbGUtc2VhcmNoLWZvcm1cIiBpZD1cImdhbGxlcnktbW9kYWwtc2VhcmNoXCI+PGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cInFcIiBjbGFzcz1cInNlYXJjaGJveFwiJyArXG4gICAgICAgICAgICAncGxhY2Vob2xkZXI9XCInICsgZ2V0dGV4dCgnU2VhcmNoIEdhbGxlcnknKSArICdcIiAvPicgK1xuICAgICAgICAgICAgJzxidXR0b24gdHlwZT1cInN1Ym1pdFwiIGNsYXNzPVwic3VibWl0LWJ1dHRvblwiIHRpdGxlPVwiJyArIGdldHRleHQoJ1NlYXJjaCBHYWxsZXJ5JykgKyAnXCI+JyArXG4gICAgICAgICAgICBnZXR0ZXh0KCdTZWFyY2ggR2FsbGVyeScpICsgJzwvYnV0dG9uPjwvZm9ybT4nICtcbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwidHlwZVwiPicgK1xuICAgICAgICAgICAgJzxzcGFuPicgKyBnZXR0ZXh0KCdTaG93OicpICsgJzwvc3Bhbj4nICtcbiAgICAgICAgICAgICc8b2w+PGxpIGRhdGEtdHlwZT1cImltYWdlXCIgY2xhc3M9XCJzZWxlY3RlZFwiPicgKyBnZXR0ZXh0KCdJbWFnZXMnKSArICc8L2xpPicgK1xuICAgICAgICAgICAgJzxsaSBkYXRhLXR5cGU9XCJ2aWRlb1wiPicgKyBnZXR0ZXh0KCdWaWRlb3MnKSArICc8L2xpPjwvb2w+PC9kaXY+JyArXG4gICAgICAgICAgICAnPGRpdiBjbGFzcz1cImxvY2FsZS1maWx0ZXJcIj4nICsgZ2V0dGV4dCgnU2hvdyBtZWRpYSBmb3I6JykgKyAnIDxzZWxlY3QgLz48L2Rpdj48L2Rpdj4nICtcbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwicGxhY2Vob2xkZXJcIiAvPjxkaXYgY2xhc3M9XCJzdWJtaXRcIj4nICtcbiAgICAgICAgICAgICc8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1pbXBvcnRhbnRcIj4nICsgZ2V0dGV4dCgnSW5zZXJ0IE1lZGlhJykgKyAnPC9idXR0b24+JyArXG4gICAgICAgICAgICAnPGEgaHJlZj1cIicgKyBnYWxsZXJ5VXJsICsgJyN1cGxvYWRcIiBjbGFzcz1cInVwbG9hZFwiIHRhcmdldD1cIl9ibGFua1wiPicgK1xuICAgICAgICAgICAgZ2V0dGV4dCgnVXBsb2FkIE1lZGlhJykgKyAnPC9hPicgK1xuICAgICAgICAgICAgJzxhIGhyZWY9XCIjY2FuY2VsXCIgY2xhc3M9XCJrYm94LWNhbmNlbFwiPicgKyBnZXR0ZXh0KCdDYW5jZWwnKSArICc8L2E+PC9kaXY+JyArXG4gICAgICAgICAgICAnPC9zZWN0aW9uPidcbiAgICAgICAgKSxcbiAgICAgICAgc2VsZWN0ZWRUZXh0ID0gbWUuZ2V0U2VsZWN0ZWRUZXh0KCksXG4gICAgICAgIG1lZGlhVHlwZSA9ICRodG1sLmZpbmQoJ2Rpdi50eXBlIGxpLnNlbGVjdGVkJykuZGF0YSgndHlwZScpLFxuICAgICAgICBtZWRpYVEgPSAnJyxcbiAgICAgICAgbWVkaWFMb2NhbGUgPSAkKCdodG1sJykuYXR0cignbGFuZycpLFxuICAgICAgICBtZWRpYVBhZ2UgPSAxLFxuICAgICAgICBrYm94O1xuXG4gICAgICAvLyBIYW5kbGUgSW1hZ2VzL1ZpZGVvcyBmaWx0ZXJcbiAgICAgICRodG1sLmZpbmQoJ2Rpdi50eXBlIGxpJykuY2xpY2soZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xuICAgICAgICBpZiAoISR0aGlzLmlzKCcuc2VsZWN0ZWQnKSkge1xuICAgICAgICAgICRodG1sLmZpbmQoJ2Rpdi50eXBlIGxpLnNlbGVjdGVkJykucmVtb3ZlQ2xhc3MoJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgJHRoaXMuYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgbWVkaWFUeXBlID0gJHRoaXMuZGF0YSgndHlwZScpO1xuICAgICAgICAgIG1lZGlhUGFnZSA9IDE7XG4gICAgICAgICAgdXBkYXRlUmVzdWx0cygpO1xuICAgICAgICB9XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIEhhbmRsZSBsb2NhbGUgZmlsdGVyXG4gICAgICB2YXIgJGxmID0gJGh0bWwuZmluZCgnZGl2LmxvY2FsZS1maWx0ZXIgc2VsZWN0Jyk7XG4gICAgICAkbGYuaHRtbCgkKCcjX2xhbmd1YWdlcy1zZWxlY3QtYm94JykuaHRtbCgpKTtcbiAgICAgICRsZi5vbignY2hhbmdlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIG1lZGlhUGFnZSA9IDE7XG4gICAgICAgIG1lZGlhTG9jYWxlID0gJCh0aGlzKS52YWwoKTtcbiAgICAgICAgdXBkYXRlUmVzdWx0cygpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIEhhbmRsZSBTZWFyY2hcbiAgICAgICRodG1sLmZpbmQoJ2Zvcm0jZ2FsbGVyeS1tb2RhbC1zZWFyY2gnKS5zdWJtaXQoZnVuY3Rpb24oZSkge1xuICAgICAgICBtZWRpYVEgPSAkaHRtbC5maW5kKCdpbnB1dFtuYW1lPVwicVwiXScpLnZhbCgpO1xuICAgICAgICBtZWRpYVBhZ2UgPSAxO1xuICAgICAgICB1cGRhdGVSZXN1bHRzKCk7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIEhhbmRsZSBVcGxvYWQgbGlua1xuICAgICAgJGh0bWwuZmluZCgnYS51cGxvYWQnKS5jbGljayhmdW5jdGlvbihlKSB7XG4gICAgICAgIC8vIENsb3NlIHRoZSBtb2RhbC4gVGhlIGxpbmsgaXRzZWxmIHdpbGwgb3BlbiBnYWxsZXJ5IGluIG5ldyB0YWIvd2luZG93LlxuICAgICAgICBrYm94LmNsb3NlKCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gSGFuZGxlIHBhZ2luYXRpb25cbiAgICAgICRodG1sLmRlbGVnYXRlKCdvbC5wYWdpbmF0aW9uIGEnLCAnY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIG1lZGlhUGFnZSA9IHBhcnNlSW50KCQodGhpcykuYXR0cignaHJlZicpLnNwbGl0KCcmcGFnZT0nKVsxXSwgMTApO1xuICAgICAgICB1cGRhdGVSZXN1bHRzKCk7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIEhhbmRsZSAnSW5zZXJ0IE1lZGlhJyBidXR0b24gY2xpY2tcbiAgICAgICRodG1sLmZpbmQoJ2Rpdi5zdWJtaXQgYnV0dG9uJykuY2xpY2soZnVuY3Rpb24oZSkge1xuICAgICAgICAvLyBHZW5lcmF0ZSB0aGUgd2lraSBtYXJrdXAgYmFzZWQgb24gd2hhdCB0aGUgdXNlciBoYXMgc2VsZWN0ZWQuXG4gICAgICAgIG1lLnJlc2V0KCk7XG5cbiAgICAgICAgdmFyICRzZWxlY3RlZCA9ICRodG1sLmZpbmQoJyNtZWRpYS1saXN0ID4gbGkuc2VsZWN0ZWQnKTtcbiAgICAgICAgaWYgKCRzZWxlY3RlZC5sZW5ndGggPCAxKSB7XG4gICAgICAgICAgYWxlcnQoZ2V0dGV4dCgnUGxlYXNlIHNlbGVjdCBhbiBpbWFnZSBvciB2aWRlbyB0byBpbnNlcnQuJykpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgbWUub3BlblRhZyA9ICdbWyc7XG4gICAgICAgIG1lLm9wZW5UYWcgKz0gKG1lZGlhVHlwZSA9PT0gJ2ltYWdlJykgPyAnSW1hZ2UnIDogJ1ZpZGVvJztcbiAgICAgICAgbWUub3BlblRhZyArPSAnOicgKyAkc2VsZWN0ZWQuZmluZCgnYScpLmF0dHIoJ3RpdGxlJykgKyAnXV0gJztcblxuICAgICAgICBtZS5oYW5kbGVDbGljayhlKTtcbiAgICAgICAga2JveC5jbG9zZSgpO1xuICAgICAgfSk7XG5cbiAgICAgIHVwZGF0ZVJlc3VsdHMoKTtcblxuICAgICAgLy8gVXBkYXRlIHRoZSBtZWRpYSBsaXN0IHZpYSBhamF4IGNhbGwuXG4gICAgICBmdW5jdGlvbiB1cGRhdGVSZXN1bHRzKHR5cGUsIHEpIHtcbiAgICAgICAgJGh0bWwuYWRkQ2xhc3MoJ3Byb2Nlc3NpbmcnKTtcbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICB1cmw6IG1lZGlhU2VhcmNoVXJsLFxuICAgICAgICAgIHR5cGU6ICdHRVQnLFxuICAgICAgICAgIGRhdGE6IHt0eXBlOiBtZWRpYVR5cGUsIHE6IG1lZGlhUSwgcGFnZTogbWVkaWFQYWdlLFxuICAgICAgICAgICAgbG9jYWxlOiBtZWRpYUxvY2FsZX0sXG4gICAgICAgICAgZGF0YVR5cGU6ICdodG1sJyxcbiAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihodG1sKSB7XG4gICAgICAgICAgICAkaHRtbC5maW5kKCdkaXYucGxhY2Vob2xkZXInKS5odG1sKGh0bWwpO1xuICAgICAgICAgICAgJGh0bWwuZmluZCgnI21lZGlhLWxpc3QgPiBsaScpLmNsaWNrKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAkbWVkaWFMaXN0ID0gJCh0aGlzKS5wYXJlbnQoKTtcbiAgICAgICAgICAgICAgJG1lZGlhTGlzdC5maW5kKCdsaS5zZWxlY3RlZCcpLnJlbW92ZUNsYXNzKCdzZWxlY3RlZCcpO1xuICAgICAgICAgICAgICAkdGhpcy5hZGRDbGFzcygnc2VsZWN0ZWQnKTtcbiAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGVycm9yOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBtZXNzYWdlID0gZ2V0dGV4dCgnT29wcywgdGhlcmUgd2FzIGFuIGVycm9yLicpO1xuICAgICAgICAgICAgJGh0bWwuZmluZCgnZGl2LnBsYWNlaG9sZGVyJykuaHRtbCgnPGRpdiBjbGFzcz1cIm1zZ1wiPicgK1xuICAgICAgICAgICAgICBtZXNzYWdlICsgJzwvZGl2PicpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJGh0bWwucmVtb3ZlQ2xhc3MoJ3Byb2Nlc3NpbmcnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBrYm94ID0gbmV3IEtCb3goJGh0bWwsIHtcbiAgICAgICAgdGl0bGU6IHRoaXMubmFtZSxcbiAgICAgICAgZGVzdHJveTogdHJ1ZSxcbiAgICAgICAgbW9kYWw6IHRydWUsXG4gICAgICAgIGlkOiAnbWVkaWEtbW9kYWwnLFxuICAgICAgICBjb250YWluZXI6ICQoJ2JvZHknKSxcbiAgICAgICAgcG9zaXRpb246ICdub25lJ1xuICAgICAgfSk7XG4gICAgICBrYm94Lm9wZW4oKTtcblxuICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0pO1xuXG4gIC8qXG4gICAqIFRoZSBjYW5uZWQgcmVzcG9uc2VzIGhlbHBlclxuICAgKi9cbiAgTWFya3kuQ2FubmVkUmVzcG9uc2VzQnV0dG9uID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5uYW1lID0gZ2V0dGV4dCgnQ29tbW9uIHJlc3BvbnNlcycpO1xuICAgIHRoaXMuY2xhc3NlcyA9ICdidG4tY2FubmVkcmVzcG9uc2VzJztcbiAgICB0aGlzLm9wZW5UYWcgPSAnJztcbiAgICB0aGlzLmNsb3NlVGFnID0gJyc7XG4gICAgdGhpcy5kZWZhdWx0VGV4dCA9IGdldHRleHQoJ2Nhbm5lZHJlc3BvbnNlcycpO1xuICAgIHRoaXMuZXZlcnlsaW5lID0gZmFsc2U7XG5cbiAgICB0aGlzLmh0bWwgPSAnPGEgY2xhc3M9XCJtYXJrdXAtdG9vbGJhci1saW5rXCIgaHJlZj1cIiNcIi8+JztcbiAgfTtcblxuICBNYXJreS5DYW5uZWRSZXNwb25zZXNCdXR0b24ucHJvdG90eXBlID0gJC5leHRlbmQoe30sIE1hcmt5LlNpbXBsZUJ1dHRvbi5wcm90b3R5cGUsIHtcbiAgICAvLyBHZXRzIHRoZSBET00gbm9kZSBmb3IgdGhlIGJ1dHRvbi5cbiAgICBub2RlOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBtZSA9IHRoaXMsXG4gICAgICAgICRidG4gPSB0aGlzLnJlbmRlcigpO1xuICAgICAgJGJ0bi5jbGljayhmdW5jdGlvbihlKSB7XG4gICAgICAgIG1lLm9wZW5Nb2RhbChlKTtcbiAgICAgIH0pO1xuXG4gICAgICBtZS5nZXRQZXJtaXNzaW9uQml0cygpO1xuXG4gICAgICByZXR1cm4gJGJ0blswXTtcbiAgICB9LFxuICAgIHJlc2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMub3BlblRhZyA9ICcnO1xuICAgICAgdGhpcy5jbG9zZVRhZyA9ICcnO1xuICAgICAgdGhpcy5kZWZhdWx0VGV4dCA9ICcnO1xuICAgIH0sXG4gICAgb3Blbk1vZGFsOiBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgbWUgPSB0aGlzLFxuICAgICAgICAkZWRpdG9yID0gJChtZS50ZXh0YXJlYSkuY2xvc2VzdCgnLmVkaXRvcicpLFxuICAgICAgLy8gVE9ETzogbG9vayBhdCB1c2luZyBhIGpzIHRlbXBsYXRlIHNvbHV0aW9uIChqcXVlcnktdG1wbD8pXG4gICAgICAgICRodG1sID0gJChcbiAgICAgICAgICAgICc8c2VjdGlvbiBjbGFzcz1cIm1hcmt5XCI+JyArXG4gICAgICAgICAgICAnPGRpdiBjbGFzcz1cInNlYXJjaCBzaW1wbGUtc2VhcmNoLWZvcm1cIj4nICtcbiAgICAgICAgICAgICc8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwicVwiIGlkPVwiZmlsdGVyLXJlc3BvbnNlcy1maWVsZFwiIHBsYWNlaG9sZGVyPVwiJyArXG4gICAgICAgICAgICBnZXR0ZXh0KCdTZWFyY2ggZm9yIGNvbW1vbiByZXNwb25zZXMnKSArICdcIiBjbGFzcz1cInNlYXJjaGJveFwiLz4nICtcbiAgICAgICAgICAgICc8L2Rpdj48L2Rpdj4nICtcbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiYXJlYVwiPicgK1xuICAgICAgICAgICAgJzxkaXYgaWQ9XCJyZXNwb25zZXMtYXJlYVwiPicgK1xuICAgICAgICAgICAgJzxoMiBjbGFzcz1cImhlYWRpbmctbGFiZWxcIj4nICsgZ2V0dGV4dCgnQ2F0ZWdvcmllcycpICsgJzwvaDI+JyArXG4gICAgICAgICAgICAnPHVsIGNsYXNzPVwiY2F0ZWdvcnktbGlzdCBzaWRlYmFyLW5hdlwiPicgK1xuICAgICAgICAgICAgJzxsaSBjbGFzcz1cInN0YXR1cy1pbmRpY2F0b3IgYnVzeVwiPicgKyBnZXR0ZXh0KCdMb2FkaW5nLi4uJykgKyAnPC9saT4nICtcbiAgICAgICAgICAgICc8L3VsPjwvZGl2PicgK1xuICAgICAgICAgICAgJzxkaXYgaWQ9XCJyZXNwb25zZS1saXN0LWFyZWFcIj4nICtcbiAgICAgICAgICAgICc8aDIgY2xhc3M9XCJoZWFkaW5nLWxhYmVsXCI+JyArIGdldHRleHQoJ1Jlc3BvbnNlcycpICsgJzwvaDI+JyArXG4gICAgICAgICAgICAnPGg0IGNsYXNzPVwibm9jYXQtbGFiZWxcIj4nICsgZ2V0dGV4dCgnUGxlYXNlIHNlbGVjdCBhIGNhdGVnb3J5IGZyb20gdGhlIHByZXZpb3VzIGNvbHVtbiBvciBzdGFydCBhIHNlYXJjaC4nKSArICc8L2g0PicgK1xuICAgICAgICAgICAgJzxwIGNsYXNzPVwicmVzcG9uc2UtbGlzdFwiLz4nICtcbiAgICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgICAgICc8ZGl2IGlkPVwicmVzcG9uc2UtY29udGVudC1hcmVhXCI+JyArXG4gICAgICAgICAgICAnPGgyIGNsYXNzPVwiaGVhZGluZy1sYWJlbCBwcmV2aWV3LWxhYmVsXCI+JyArIGdldHRleHQoJ1Jlc3BvbnNlIGVkaXRvcicpICsgJzwvaDI+JyArXG4gICAgICAgICAgICAnPGJ1dHRvbiBjbGFzcz1cInRvZ2dsZS12aWV3IGJ0blwiPicgKyBnZXR0ZXh0KCdTd2l0Y2ggdG8gcHJldmlldyBtb2RlJykgKyAnPC9idXR0b24+JyArXG4gICAgICAgICAgICAnPHAgY2xhc3M9XCJyZXNwb25zZS1wcmV2aWV3XCI+JyArXG4gICAgICAgICAgICAnPHRleHRhcmVhIGlkPVwicmVzcG9uc2UtY29udGVudFwiPicgK1xuICAgICAgICAgICAgJzwvdGV4dGFyZWE+PC9wPicgK1xuICAgICAgICAgICAgJzxwIGNsYXNzPVwicmVzcG9uc2UtcHJldmlldy1yZW5kZXJlZFwiPjwvcD4nICtcbiAgICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwicGxhY2Vob2xkZXJcIiAvPjxkaXYgY2xhc3M9XCJzdWJtaXRcIiBpZD1cInJlc3BvbnNlLXN1Ym1pdC1hcmVhXCI+JyArXG4gICAgICAgICAgICAnPGJ1dHRvbiBpZD1cImluc2VydC1yZXNwb25zZVwiIGNsYXNzPVwiYnRuIGJ0bi1pbXBvcnRhbnRcIj4nICsgZ2V0dGV4dCgnSW5zZXJ0IFJlc3BvbnNlJykgKyAnPC9idXR0b24+JyArXG4gICAgICAgICAgICAnPGEgaHJlZj1cIiNjYW5jZWxcIiBjbGFzcz1cImtib3gtY2FuY2VsXCI+JyArIGdldHRleHQoJ0NhbmNlbCcpICsgJzwvYT4nICtcbiAgICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgICAgICc8L3NlY3Rpb24+J1xuICAgICAgICApLFxuICAgICAgICBzZWxlY3RlZFRleHQgPSBtZS5nZXRTZWxlY3RlZFRleHQoKSxcbiAgICAgICAga2JveDtcblxuICAgICAgdmFyIGNhbm5lZFJlc3BvbnNlc1VybCA9ICcva2IvY29tbW9uLWZvcnVtLXJlc3BvbnNlcyc7XG4gICAgICB2YXIgcHJldmlld1VybCA9ICdhbnN3ZXItcHJldmlldy1hc3luYyc7XG5cbiAgICAgIGZ1bmN0aW9uIHVwZGF0ZVByZXZpZXcoKSB7XG4gICAgICAgIHZhciByZXNwb25zZSA9ICQoJyNyZXNwb25zZS1jb250ZW50JykudmFsKCk7XG4gICAgICAgIHZhciB0b2tlbiA9ICQoJ1tuYW1lPWNzcmZtaWRkbGV3YXJldG9rZW5dJykuYXR0cigndmFsdWUnKTtcblxuICAgICAgICB0b2dnbGVUaHJvYmJlcih0cnVlKTtcblxuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICB1cmw6IHByZXZpZXdVcmwsXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgY29udGVudDogcmVzcG9uc2UsXG4gICAgICAgICAgICBjc3JmbWlkZGxld2FyZXRva2VuOiB0b2tlblxuICAgICAgICAgIH0sXG4gICAgICAgICAgZGF0YVR5cGU6ICdodG1sJyxcbiAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihodG1sKSB7XG4gICAgICAgICAgICB2YXIgJGNvbnRhaW5lciA9ICQoJy5yZXNwb25zZS1wcmV2aWV3LXJlbmRlcmVkJyk7XG4gICAgICAgICAgICB2YXIgJHJlc3BvbnNlX3ByZXZpZXcgPSAkKGh0bWwpLmZpbmQoJy5tYWluLWNvbnRlbnQnKTtcbiAgICAgICAgICAgICRjb250YWluZXIuaHRtbCgkcmVzcG9uc2VfcHJldmlldyk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0b2dnbGVUaHJvYmJlcihmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZ2V0Q29udGVudChhcnRpY2xlVXJsKSB7XG4gICAgICAgIC8vIElmIHRoZSBhcnRpY2xlIGRvZXNuJ3QgZXhpc3QsIGl0IGhhcyAvbmV3IGluIGl0cyBVUkxcbiAgICAgICAgLy8gRG9uJ3QgcXVlcnkgbm9uZXhpc3RpbmcgYXJ0aWNsZXNcbiAgICAgICAgaWYgKCFhcnRpY2xlVXJsIHx8IGFydGljbGVVcmwuaW5kZXhPZignL25ldycpICE9PSAtMSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRvZ2dsZVRocm9iYmVyKHRydWUpO1xuXG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgdXJsOiBhcnRpY2xlVXJsICsgJy9lZGl0JyxcbiAgICAgICAgICBkYXRhVHlwZTogJ2h0bWwnLFxuICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEsIHN0YXR1cykge1xuICAgICAgICAgICAgdmFyIGFydGljbGVfc3JjID0gJCgnI2lkX2NvbnRlbnQnLCBkYXRhKS52YWwoKTtcbiAgICAgICAgICAgIHZhciAkdGV4dGJveCA9ICQoJyNyZXNwb25zZS1jb250ZW50Jyk7XG4gICAgICAgICAgICAkdGV4dGJveC52YWwoYXJ0aWNsZV9zcmMpO1xuICAgICAgICAgICAgJHRleHRib3guZGF0YSgnc2x1ZycsIGFydGljbGVVcmwpO1xuICAgICAgICAgICAgdXBkYXRlUHJldmlldygpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdG9nZ2xlVGhyb2JiZXIoZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHRvZ2dsZVRocm9iYmVyKGJ1c3kpIHtcbiAgICAgICAgdmFyICRsYWJlbCA9ICQoJy5wcmV2aWV3LWxhYmVsJyk7XG4gICAgICAgIGlmIChidXN5KSB7XG4gICAgICAgICAgJGxhYmVsLmFkZENsYXNzKCdidXN5Jyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJGxhYmVsLnJlbW92ZUNsYXNzKCdidXN5Jyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gaXNBbGxvd2VkVG9Vc2VSZXNwb25zZShyZXNwb25zZV90YXJnZXQpIHtcbiAgICAgICAgaWYgKHJlc3BvbnNlX3RhcmdldC5pbmRleE9mKCcjJykgPT09IC0xKSB7XG4gICAgICAgICAgLy8gTm8gcGVybWlzc2lvbiBtYXJrZXJzOiBFdmVyeW9uZSdzIGFsbG93ZWRcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBhcnRpY2xlVXJsID0gcmVzcG9uc2VfdGFyZ2V0LnNwbGl0KCcjJylbMF07XG4gICAgICAgIHZhciBwZXJtQml0cyA9IHJlc3BvbnNlX3RhcmdldC5zcGxpdCgnIycpWzFdO1xuICAgICAgICByZXNwb25zZV90YXJnZXQgPSBhcnRpY2xlVXJsO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGVybUJpdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgYml0ID0gcGVybUJpdHNbaV07XG4gICAgICAgICAgaWYgKG1lLnBlcm1pc3Npb25CaXRzLmluZGV4T2YoYml0KSAhPT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGluc2VydFJlc3BvbnNlKCkge1xuICAgICAgICB2YXIgc291cmNlQ29udGVudCA9ICQoJyNyZXNwb25zZS1jb250ZW50JykudmFsKCk7XG4gICAgICAgIHZhciBzbHVnID0gJCgnI3Jlc3BvbnNlLWNvbnRlbnQnKS5kYXRhKCdzbHVnJyk7XG4gICAgICAgIHZhciAkcmVzcG9uc2VUZXh0Ym94ID0gJCgnI2lkX2NvbnRlbnQnKTtcbiAgICAgICAgdmFyIHRhcmdldENvbnRlbnQgPSAkcmVzcG9uc2VUZXh0Ym94LnZhbCgpO1xuXG4gICAgICAgIHRyYWNrRXZlbnQoJ0Nhbm5lZCByZXNwb25zZSB1c2FnZScsIHNsdWcpO1xuXG4gICAgICAgICRyZXNwb25zZVRleHRib3gudmFsKHRhcmdldENvbnRlbnQgKyBzb3VyY2VDb250ZW50KTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gc2VhcmNoUmVzcG9uc2VzKHRlcm0pIHtcbiAgICAgICAgdGVybSA9IHRlcm0udG9Mb3dlckNhc2UoKS50cmltKCk7XG4gICAgICAgIHZhciAkc2VhcmNoSGVhZGluZyA9ICRodG1sLmZpbmQoJyNyZXNwb25zZS1saXN0LWFyZWEgLmhlYWRpbmctbGFiZWwnKTtcbiAgICAgICAgdmFyICRub0NhdGVnb3J5U2VsZWN0ZWQgPSAkaHRtbC5maW5kKCcubm9jYXQtbGFiZWwnKTtcbiAgICAgICAgdmFyICRyZXNwb25zZUxpc3RzID0gJGh0bWwuZmluZCgnLnJlc3BvbnNlLWxpc3QgdWwnKTtcbiAgICAgICAgdmFyICRyZXNwb25zZXMgPSAkaHRtbC5maW5kKCcucmVzcG9uc2UnKTtcbiAgICAgICAgdmFyICRyZXNwb25zZUxpc3RBcmVhID0gJGh0bWwuZmluZCgnI3Jlc3BvbnNlLWxpc3QtYXJlYScpO1xuICAgICAgICB2YXIgJHJlc3BvbnNlc0FyZWEgPSAkaHRtbC5maW5kKCcjcmVzcG9uc2VzLWFyZWEnKTtcblxuICAgICAgICBpZiAodGVybSA9PT0gJycpIHtcbiAgICAgICAgICAkc2VhcmNoSGVhZGluZy50ZXh0KGdldHRleHQoJ1Jlc3BvbnNlcycpKTtcbiAgICAgICAgICAkcmVzcG9uc2VMaXN0QXJlYS5yZW1vdmVDbGFzcygnZmlsdGVyZWQnKTtcbiAgICAgICAgICAkcmVzcG9uc2VzQXJlYS5yZW1vdmVDbGFzcygnZmlsdGVyZWQnKTtcbiAgICAgICAgICAkbm9DYXRlZ29yeVNlbGVjdGVkLnNob3coKTtcbiAgICAgICAgICAkcmVzcG9uc2VzLnNob3coKTtcbiAgICAgICAgICAkcmVzcG9uc2VMaXN0cy5oaWRlKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgJHJlc3BvbnNlTGlzdEFyZWEuYWRkQ2xhc3MoJ2ZpbHRlcmVkJyk7XG4gICAgICAgICRyZXNwb25zZXNBcmVhLmFkZENsYXNzKCdmaWx0ZXJlZCcpO1xuICAgICAgICAkc2VhcmNoSGVhZGluZy50ZXh0KGdldHRleHQoJ01hdGNoaW5nIHJlc3BvbnNlcycpKTtcbiAgICAgICAgJG5vQ2F0ZWdvcnlTZWxlY3RlZC5oaWRlKCk7XG4gICAgICAgICRyZXNwb25zZUxpc3RzLnNob3coKTtcblxuICAgICAgICAkcmVzcG9uc2VzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIHRleHQgPSAkKHRoaXMpLnRleHQoKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgIGlmICh0ZXh0LmluZGV4T2YodGVybSkgPT09IC0xKSB7XG4gICAgICAgICAgICAkKHRoaXMpLmhpZGUoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJCh0aGlzKS5zaG93KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gbG9hZENhbm5lZFJlc3BvbnNlcygpIHtcbiAgICAgICAgdmFyIHNpdGVMYW5ndWFnZSA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5zcGxpdCgnLycpWzFdO1xuICAgICAgICB2YXIgdGFyZ2V0VXJsID0gJy8nICsgc2l0ZUxhbmd1YWdlICsgY2FubmVkUmVzcG9uc2VzVXJsO1xuXG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgdXJsOiB0YXJnZXRVcmwsXG4gICAgICAgICAgdHlwZTogJ0dFVCcsXG4gICAgICAgICAgZGF0YVR5cGU6ICdodG1sJyxcbiAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihodG1sKSB7XG4gICAgICAgICAgICB2YXIgJGNhdGVnb3J5TGlzdCA9ICQoJy5jYXRlZ29yeS1saXN0JyksXG4gICAgICAgICAgICAgICRyZXNwb25zZXNMaXN0ID0gJCgnLnJlc3BvbnNlLWxpc3QnKSxcbiAgICAgICAgICAgICAgJGNhdGVnb3JpZXMgPSAkKGh0bWwpLmZpbmQoJ1tpZF49d19dJyk7XG5cbiAgICAgICAgICAgICRjYXRlZ29yeUxpc3QuZW1wdHkoKTtcbiAgICAgICAgICAgICRyZXNwb25zZXNMaXN0LmVtcHR5KCk7XG5cbiAgICAgICAgICAgICRjYXRlZ29yaWVzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHZhciBsYWJlbCA9ICQodGhpcykudGV4dCgpLFxuICAgICAgICAgICAgICAgICRoZWFkaW5nSXRlbSA9ICQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKSksXG4gICAgICAgICAgICAgICAgJHJlc3BvbnNlcyA9ICQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKSkuYWRkQ2xhc3MoJ3NpZGViYXItbmF2JykuaGlkZSgpLFxuICAgICAgICAgICAgICAgICRjYXRSZXNwb25zZXMgPSAkKHRoaXMpLm5leHRVbnRpbCgnW2lkXj13X10nKS5maW5kKCdhJyksXG4gICAgICAgICAgICAgICAgJG5vQ2F0TGFiZWwgPSAkaHRtbC5maW5kKCcubm9jYXQtbGFiZWwnKSxcbiAgICAgICAgICAgICAgICAkb3RoZXJSZXNwb25zZXMsXG4gICAgICAgICAgICAgICAgJG90aGVySGVhZGluZ3M7XG5cbiAgICAgICAgICAgICAgJGNhdFJlc3BvbnNlcy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciAkcmVzcG9uc2UgPSAkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJykpLmFkZENsYXNzKCdyZXNwb25zZScpLnRleHQoJCh0aGlzKS50ZXh0KCkpO1xuICAgICAgICAgICAgICAgIHZhciByZXNwb25zZV90YXJnZXQgPSAkKHRoaXMpLmF0dHIoJ2hyZWYnKTtcbiAgICAgICAgICAgICAgICB2YXIgY2FuVXNlUmVzcG9uc2UgPSBpc0FsbG93ZWRUb1VzZVJlc3BvbnNlKHJlc3BvbnNlX3RhcmdldCk7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2VfdGFyZ2V0ID0gcmVzcG9uc2VfdGFyZ2V0LnNwbGl0KCcjJylbMF07XG5cbiAgICAgICAgICAgICAgICBpZiAoY2FuVXNlUmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICRyZXNwb25zZS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgJCgnLnJlc3BvbnNlLWxpc3QgbGknKS5ub3QoJCh0aGlzKSkucmVtb3ZlQ2xhc3MoJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgICAgICAgICAgIGdldENvbnRlbnQocmVzcG9uc2VfdGFyZ2V0KTtcbiAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAkcmVzcG9uc2VzLmFwcGVuZCgkcmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgJGhlYWRpbmdJdGVtLmFkZENsYXNzKCdyZXNwb25zZS1oZWFkaW5nJykudGV4dChsYWJlbClcbiAgICAgICAgICAgICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAkbm9DYXRMYWJlbC5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAkb3RoZXJSZXNwb25zZXMgPSAkcmVzcG9uc2VzTGlzdC5maW5kKCd1bCcpLm5vdCgkcmVzcG9uc2VzKTtcbiAgICAgICAgICAgICAgICAgICRvdGhlclJlc3BvbnNlcy5oaWRlKCk7XG5cbiAgICAgICAgICAgICAgICAgICRvdGhlckhlYWRpbmdzID0gJGNhdGVnb3J5TGlzdC5maW5kKCcucmVzcG9uc2UtaGVhZGluZycpLm5vdCgkaGVhZGluZ0l0ZW0pO1xuICAgICAgICAgICAgICAgICAgJG90aGVySGVhZGluZ3MucmVtb3ZlQ2xhc3MoJ3NlbGVjdGVkJyk7XG5cbiAgICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgICAgICAgICAkcmVzcG9uc2VzLnNob3coKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAkY2F0ZWdvcnlMaXN0LmFwcGVuZCgkaGVhZGluZ0l0ZW0pO1xuICAgICAgICAgICAgICAkcmVzcG9uc2VzTGlzdC5hcHBlbmQoJHJlc3BvbnNlcyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGVycm9yOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBzdGF0dXNJbmRpY2F0b3IgPSAkKCcuc3RhdHVzLWluZGljYXRvcicpO1xuICAgICAgICAgICAgc3RhdHVzSW5kaWNhdG9yLnJlbW92ZUNsYXNzKCdidXN5Jyk7XG4gICAgICAgICAgICBzdGF0dXNJbmRpY2F0b3IudGV4dChnZXR0ZXh0KCdUaGVyZSB3YXMgYW4gZXJyb3IgY2hlY2tpbmcgZm9yIGNhbm5lZCByZXNwb25zZXMuJykpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gcmV0dXJuIHRydWUgc28gdGhhdCB0aGUga2JveCBhY3R1YWxseSBvcGVuczpcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIGtib3ggPSBuZXcgS0JveCgkaHRtbCwge1xuICAgICAgICB0aXRsZTogdGhpcy5uYW1lLFxuICAgICAgICBkZXN0cm95OiB0cnVlLFxuICAgICAgICBtb2RhbDogdHJ1ZSxcbiAgICAgICAgaWQ6ICdtZWRpYS1tb2RhbCcsXG4gICAgICAgIGNvbnRhaW5lcjogJCgnYm9keScpLFxuICAgICAgICBwb3NpdGlvbjogJ25vbmUnLFxuICAgICAgICBwcmVPcGVuOiBsb2FkQ2FubmVkUmVzcG9uc2VzXG4gICAgICB9KTtcblxuICAgICAga2JveC5vcGVuKCk7XG5cbiAgICAgICRodG1sLmZpbmQoJyNpbnNlcnQtcmVzcG9uc2UnKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgaW5zZXJ0UmVzcG9uc2UoKTtcbiAgICAgICAga2JveC5jbG9zZSgpO1xuICAgICAgfSk7XG5cbiAgICAgICRodG1sLmZpbmQoJyNmaWx0ZXItcmVzcG9uc2VzLWZpZWxkJykua2V5dXAoZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB0ZXJtID0gJCh0aGlzKS52YWwoKTtcbiAgICAgICAgc2VhcmNoUmVzcG9uc2VzKHRlcm0pO1xuICAgICAgfSk7XG5cbiAgICAgIHZhciAkcHJldmlld0xhYmVsID0gJGh0bWwuZmluZCgnLnByZXZpZXctbGFiZWwnKTtcbiAgICAgIHZhciAkY29udGVudEFyZWEgPSAkaHRtbC5maW5kKCcucmVzcG9uc2UtcHJldmlldycpO1xuICAgICAgdmFyICRyZW5kZXJlZFByZXZpZXcgPSAkaHRtbC5maW5kKCcucmVzcG9uc2UtcHJldmlldy1yZW5kZXJlZCcpO1xuXG4gICAgICAkaHRtbC5maW5kKCcudG9nZ2xlLXZpZXcnKS50b2dnbGUoXG4gICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHVwZGF0ZVByZXZpZXcoKTtcbiAgICAgICAgICAkcHJldmlld0xhYmVsLnRleHQoZ2V0dGV4dCgnUmVzcG9uc2UgcHJldmlldycpKTtcbiAgICAgICAgICAkKHRoaXMpLnRleHQoZ2V0dGV4dCgnU3dpdGNoIHRvIGVkaXQgbW9kZScpKTtcblxuICAgICAgICAgICRjb250ZW50QXJlYS5oaWRlKCk7XG4gICAgICAgICAgJHJlbmRlcmVkUHJldmlldy5zaG93KCk7XG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICRwcmV2aWV3TGFiZWwudGV4dChnZXR0ZXh0KCdSZXNwb25zZSBlZGl0b3InKSk7XG4gICAgICAgICAgJCh0aGlzKS50ZXh0KGdldHRleHQoJ1N3aXRjaCB0byBwcmV2aWV3IG1vZGUnKSk7XG5cbiAgICAgICAgICAkY29udGVudEFyZWEuc2hvdygpO1xuICAgICAgICAgICRyZW5kZXJlZFByZXZpZXcuaGlkZSgpO1xuICAgICAgICB9KTtcblxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICBwZXJtaXNzaW9uQml0czogW10sXG5cbiAgICBnZXRQZXJtaXNzaW9uQml0czogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcHJvZmlsZV9saW5rID0gJCgnI2F1eC1uYXYgLnVzZXInKS5hdHRyKCdocmVmJyksXG4gICAgICAgIG1lID0gdGhpcztcbiAgICAgIGlmICghcHJvZmlsZV9saW5rIHx8IHByb2ZpbGVfbGluayA9PT0gJycpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAkLmFqYXgoe1xuICAgICAgICB1cmw6IHByb2ZpbGVfbGluayxcbiAgICAgICAgZGF0YVR5cGU6ICdodG1sJyxcbiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSwgc3RhdHVzKSB7XG4gICAgICAgICAgdmFyIHVzZXJHcm91cHMgPSAkKCcjZ3JvdXBzIGxpJywgZGF0YSk7XG4gICAgICAgICAgdXNlckdyb3Vwcy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGdyb3VwID0gJCh0aGlzKS50ZXh0KCk7XG5cbiAgICAgICAgICAgIC8vIENvbnRyaWJ1dG9yczpcbiAgICAgICAgICAgIGlmIChncm91cCA9PT0gJ0NvbnRyaWJ1dG9ycycpIHtcbiAgICAgICAgICAgICAgbWUucGVybWlzc2lvbkJpdHMucHVzaCgnYycpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBNb2RlcmF0b3JzOlxuICAgICAgICAgICAgaWYgKGdyb3VwID09PSAnRm9ydW0gTW9kZXJhdG9ycycpIHtcbiAgICAgICAgICAgICAgbWUucGVybWlzc2lvbkJpdHMucHVzaCgnbScpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBBZG1pbmlzdHJhdG9yczpcbiAgICAgICAgICAgIGlmIChncm91cCA9PT0gJ0FkbWluaXN0cmF0b3JzJykge1xuICAgICAgICAgICAgICBtZS5wZXJtaXNzaW9uQml0cy5wdXNoKCdhJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgLypcbiAgICogVGhlIHF1b3RlIGJ1dHRvbiBoZWxwZXJcbiAgICovXG4gIE1hcmt5LlF1b3RlQnV0dG9uID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG5hbWUgPSBnZXR0ZXh0KCdRdW90ZSBwcmV2aW91cyBtZXNzYWdlLi4uJyk7XG4gICAgdmFyIHByZXZpb3VzQ29udGVudCA9ICQoJyNyZWFkLW1lc3NhZ2UnKS5hdHRyKCdkYXRhLW1lc3NhZ2UtY29udGVudCcpO1xuICAgIHZhciBwcmV2aW91c0F1dGhvciA9ICQoJy5mcm9tIGEnKS50ZXh0KCk7XG4gICAgdmFyIHByZXZpb3VzQXV0aG9yTGluayA9ICQoJy5mcm9tIGEnKS5hdHRyKCdocmVmJyk7XG4gICAgdmFyIHF1b3RlID0gJ1snICsgcHJldmlvdXNBdXRob3JMaW5rICsgJyAnICsgcHJldmlvdXNBdXRob3IgKyAnXSAnICtcbiAgICAgIGdldHRleHQoJ3NhaWQnKSArICdcXHJcXG4nO1xuICAgIHF1b3RlICs9ICc8YmxvY2txdW90ZT5cXHJcXG4nO1xuICAgIHF1b3RlICs9IHByZXZpb3VzQ29udGVudCArICdcXHJcXG4nO1xuICAgIHF1b3RlICs9ICc8L2Jsb2NrcXVvdGU+XFxyXFxuJztcblxuICAgIHJldHVybiBuZXcgTWFya3kuU2ltcGxlQnV0dG9uKG5hbWUsIHF1b3RlLCAnJywgJycsICdidG4tcXVvdGUnLCB0cnVlKTtcbiAgfTtcblxuICB3aW5kb3cuTWFya3kgPSBNYXJreTtcblxufSkoalF1ZXJ5LCBnZXR0ZXh0LCBkb2N1bWVudCk7XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/app/kitsune/sumo/static/sumo/js/markup.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/app/kitsune/sumo/static/sumo/js/markup.js",
      "sourcesContent": [
        "/* global jQuery:false, gettext:false, trackEvent:false, KBox:false */\n/*\n  Marky, the markup toolbar builder\n\n  Usage:\n  <script type=\"text/javascript\">\n    // Create the simple toolbar (used in Forums and Questions)\n    Marky.createSimpleToolbar('#toolbar-container-id', '#textarea-id');\n\n    // or, create the full toolbar (used in the Knowledgebase)\n    Marky.createFullToolbar('#toolbar-container-id', '#textarea-id');\n\n    //or, create a custom toolbar.\n    Marky.createFullToolbar('#toolbar-container-id', '#textarea-id', [\n      new Marky.SimpleButton(\n        gettext('Bold'), \"'''\", \"'''\", gettext('bold text'),\n        'btn-bold'),\n      new Marky.SimpleButton(\n        gettext('Italic'), \"''\", \"''\", gettext('italic text'),\n        'btn-italic')\n    ]);\n  </script>\n*/\n(function($, gettext, document) {\n\n  var Marky = {\n    createSimpleToolbar: function(toolbarSel, textareaSel, options) {\n      var defaults = {\n        cannedResponses: false,\n        privateMessaging: false\n      };\n\n      var settings = $.extend({}, defaults, options);\n\n      var SB = Marky.SimpleButton;\n      var buttons = [\n        new SB(gettext('Bold'), \"'''\", \"'''\", gettext('bold text'),\n          'btn-bold'),\n        new SB(gettext('Italic'), \"''\", \"''\", gettext('italic text'),\n          'btn-italic'),\n        new Marky.Separator(),\n        new Marky.LinkButton(),\n        new Marky.Separator(),\n        new SB(gettext('Numbered List'), '# ', '',\n          gettext('Numbered list item'), 'btn-ol', true),\n        new SB(gettext('Bulleted List'), '* ', '',\n          gettext('Bulleted list item'), 'btn-ul', true)\n      ];\n      if (settings.mediaButton) {\n        buttons.splice(4, 0, new Marky.MediaButton());\n      }\n      if (settings.cannedResponses) {\n        buttons.push(new Marky.Separator(),\n          new Marky.CannedResponsesButton());\n      }\n      if (settings.privateMessaging) {\n        buttons.push(new Marky.Separator(),\n          new Marky.QuoteButton());\n      }\n\n      Marky.createCustomToolbar(toolbarSel, textareaSel, buttons);\n    },\n    createFullToolbar: function(toolbarSel, textareaSel) {\n      var SB = Marky.SimpleButton,\n        buttons = Marky.allButtons();\n      Marky.createCustomToolbar(toolbarSel, textareaSel, buttons);\n    },\n    createCustomToolbar: function(toolbarSel, textareaSel, partsArray) {\n      var $toolbar = $(toolbarSel || '.editor-tools'),\n        textarea = $(textareaSel || '#reply-content, #id_content')[0];\n      for (var i = 0, l = partsArray.length; i < l; i++) {\n        $toolbar.append(partsArray[i].bind(textarea).node());\n      }\n    },\n    allButtons: function() {\n      var SB = Marky.SimpleButton;\n      return [\n        new SB(gettext('Bold'), \"'''\", \"'''\", gettext('bold text'),\n          'btn-bold'),\n        new SB(gettext('Italic'), \"''\", \"''\", gettext('italic text'),\n          'btn-italic'),\n        new Marky.Separator(),\n        new Marky.LinkButton(),\n        new Marky.MediaButton(),\n        new Marky.Separator(),\n        new SB(gettext('Numbered List'), '# ', '',\n          gettext('Numbered list item'), 'btn-ol', true),\n        new SB(gettext('Bulleted List'), '* ', '',\n          gettext('Bulleted list item'), 'btn-ul', true),\n        new Marky.Separator(),\n        new SB(gettext('Heading 1'), '=', '=', gettext('Heading 1'),\n          'btn-h1', true),\n        new SB(gettext('Heading 2'), '==', '==', gettext('Heading 2'),\n          'btn-h2', true),\n        new SB(gettext('Heading 3'), '===', '===', gettext('Heading 3'),\n          'btn-h3', true)\n      ];\n    }\n  };\n\n\n  /*\n   * A simple button.\n   * Note: `everyline` is a boolean value that says whether or not the selected\n   *       text should be broken into multiple lines and have the markup applied\n   *       to each line or not. Default is false (do not apply this behavior).\n   *       `classes` is a list of classes to include in the output\n   */\n  Marky.SimpleButton = function(name, openTag, closeTag, defaultText,\n                                classes, everyline) {\n    this.name = name;\n    this.classes = '';\n    this.openTag = openTag;\n    this.closeTag = closeTag;\n    this.defaultText = defaultText;\n    this.everyline = everyline;\n    if (undefined !== classes) {\n      this.classes = classes;\n    }\n\n    this.html = '<button class=\"markup-toolbar-button\" />';\n  };\n\n  Marky.SimpleButton.prototype = {\n    // Binds the button to a textarea (DOM node).\n    bind: function(textarea) {\n      this.textarea = textarea;\n      return this;\n    },\n    // Renders the html.\n    render: function() {\n      var $out = $(this.html).attr({\n        title: this.name\n      }).html(this.name);\n      $out.addClass(this.classes);\n      return $out;\n    },\n    // Gets the DOM node for the button.\n    node: function() {\n      var me = this,\n        $btn = this.render();\n      $btn.click(function(e) {\n        me.handleClick(e);\n      });\n      return $btn[0];\n    },\n    // Get selected text\n    getSelectedText: function() {\n      var selText = '';\n      if (window.codemirror && window.highlighting.isEnabled()) {\n        var editor = window.highlighting.editor;\n        return editor.getSelection();\n      }\n\n      if (document.selection && document.selection.createRange) {\n        // IE/Opera\n        selText = document.selection.createRange().text;\n      } else if (this.textarea.selectionStart ||\n        parseInt(this.textarea.selectionStart) === 0) {\n        // Firefox/Safari/Chrome/etc.\n        selText = this.textarea.value.substring(\n          this.textarea.selectionStart, this.textarea.selectionEnd);\n      }\n      return selText;\n    },\n    // Handles the button click.\n    handleClick: function(e) {\n      var selText, selStart, selEnd, splitText, range,\n        textarea = this.textarea,\n        scrollTop = $(textarea).scrollTop(),\n        editor = window.highlighting && window.highlighting.editor;\n\n      if (window.codemirror && window.highlighting && window.highlighting.isEnabled()) {\n        selText = (editor.somethingSelected()) ? editor.getSelection() : this.defaultText;\n        selText = this.openTag + selText + this.closeTag;\n        editor.replaceSelection(selText);\n        editor.focus();\n        e.preventDefault();\n        return false;\n      }\n\n      textarea.focus();\n\n      if (document.selection && document.selection.createRange) {\n        // IE/Opera\n        range = document.selection.createRange();\n        selText = range.text;\n        if (!selText.length) {\n          selText = this.defaultText;\n        }\n\n        if (this.everyline && -~selText.indexOf('\\n')) {\n          splitText = this._applyEveryLine(this.openTag, this.closeTag,\n            selText);\n          range.text = splitText.join('\\n');\n        } else {\n          range.text = this.openTag + selText + this.closeTag;\n\n          if (range.moveStart) {\n            range.moveStart('character', (-1 * this.openTag.length) -\n              selText.length);\n            range.moveEnd('character', (-1 * this.closeTag.length));\n          }\n        }\n\n        range.select();\n      } else if (textarea.selectionStart || parseInt(textarea.selectionStart) === 0) {\n        // Firefox/Safari/Chrome/etc.\n        selStart = textarea.selectionStart;\n        selEnd = textarea.selectionEnd;\n        selText = textarea.value.substring(selStart, selEnd);\n        if (!selText.length) {\n          selText = this.defaultText;\n        }\n\n        if (this.everyline && -~selText.indexOf('\\n')) {\n          splitText = this._applyEveryLine(this.openTag, this.closeTag,\n            selText).join('\\n');\n          textarea.value =\n            textarea.value.substring(0, textarea.selectionStart) +\n            splitText +\n            textarea.value.substring(textarea.selectionEnd);\n\n          textarea.selectionStart = selStart;\n          textarea.selectionEnd = textarea.selectionStart +\n            splitText.length;\n        } else {\n          textarea.value =\n            textarea.value.substring(0, textarea.selectionStart) +\n            this.openTag + selText + this.closeTag +\n            textarea.value.substring(textarea.selectionEnd);\n\n          textarea.selectionStart = selStart + this.openTag.length;\n          textarea.selectionEnd = textarea.selectionStart +\n            selText.length;\n        }\n      }\n      $(textarea).scrollTop(scrollTop);\n      e.preventDefault();\n      return false;\n    },\n    _applyEveryLine: function(opentag, closetag, block) {\n      return $.map(block.split('\\n'), function(line) {\n        return (line.replace(/\\s+/, '').length ?\n          opentag + line + closetag : line);\n      });\n    }\n  };\n\n  /*\n   * A button separator.\n   */\n  Marky.Separator = function() {\n    this.html = '<span class=\"separator\"></span>';\n  };\n\n  Marky.Separator.prototype = {\n    node: function() {\n      return $(this.html)[0];\n    },\n    bind: function() {\n      return this;\n    }\n  };\n\n  /*\n   * The link helper.\n   */\n  Marky.LinkButton = function() {\n    this.name = gettext('Insert a link...');\n    this.classes = 'btn-link';\n    this.openTag = '[http://example.com ';\n    this.closeTag = ']';\n    this.defaultText = gettext('link text');\n    this.everyline = false;\n\n    this.origOpenTag = this.openTag;\n    this.origCloseTag = this.closeTag;\n    this.origDefaultText = this.defaultText;\n\n    this.html = '<button class=\"markup-toolbar-button\" />';\n  };\n\n  Marky.LinkButton.prototype = $.extend({}, Marky.SimpleButton.prototype, {\n    // Gets the DOM node for the button.\n    node: function() {\n      var me = this,\n        $btn = this.render();\n      $btn.click(function(e) {\n        me.openModal(e);\n      });\n      return $btn[0];\n    },\n    reset: function() {\n      this.openTag = this.origOpenTag;\n      this.closeTag = this.origCloseTag;\n      this.defaultText = this.origDefaultText;\n    },\n    openModal: function(ev) {\n      var me = this,\n      // TODO: look at using a js template solution (jquery-tmpl?)\n        $html = $(\n            '<section class=\"marky\">' +\n            '<label>' + gettext('Link text:') + '</label>' +\n            '<input type=\"text\" name=\"link-text\" />' +\n            '<label>' + gettext('Link target:') + '</label>' +\n            '<ol><li><label><input type=\"radio\" name=\"link-type\" value=\"internal\" /> ' +\n            gettext('Support article:') + '</label> ' +\n            '<input type=\"text\" name=\"internal\" placeholder=\"' +\n            gettext('Enter the name of the article') + '\" /></li>' +\n            '<li><label><input type=\"radio\" name=\"link-type\" value=\"external\" /> ' +\n            gettext('External link:') + '</label> ' +\n            '<input type=\"text\" name=\"external\" placeholder=\"' +\n            gettext('Enter the URL of the external link') + '\" /></li>' +\n            '</ol><div class=\"submit\"><button type=\"button\" class=\"btn btn-important\"></button>' +\n            '<a href=\"#cancel\" class=\"kbox-cancel\">' + gettext('Cancel') +\n            '</a></div></section>' // whew, yuck!?\n        ),\n        selectedText = me.getSelectedText(),\n        kbox;\n\n      $html.find('li input[type=\"text\"]').focus(function() {\n        $(this).closest('li').find('input[type=\"radio\"]').click();\n      });\n\n      // Perform a query for the sections of an article if\n      // last character is a pound:\n      var performSectionSearch = function(request) {\n        return (request.term.indexOf('#') === request.term.length - 1);\n      };\n\n      var results = [];\n\n      // Get the article URL by providing the article name:\n      var getArticleURL = function(name) {\n        for (var i = 0; i < results.length; i++) {\n          if (name === results[i].label) {\n            return results[i].url;\n          }\n        }\n\n        return null;\n      };\n\n      var articleSearch = function(request, response) {\n        results = [];\n        $.ajax({\n          url: '/en-US/search',\n          data: {\n            format: 'json',\n            q: request.term,\n            a: 1,\n            w: 1,\n            language: $('html').attr('lang')\n          },\n          dataType: 'json',\n          success: function(data, textStatus) {\n            $.map(data.results, function(val, i) {\n              results.push({\n                label: val.title,\n                url: val.url\n              });\n            });\n            response(results);\n          }\n        });\n      };\n\n      var sectionSearch = function(request, response) {\n        var articleName = request.term.split('#')[0];\n        var articleURL = getArticleURL(articleName);\n\n        if (!articleURL) {\n          return;\n        }\n\n        $.ajax({\n          url: articleURL,\n          dataType: 'text',\n          success: function(data, status) {\n            var headings = $(\"[id^='w_']\", data);\n            var array = [];\n\n            if (headings.length === 0) {\n              array.push({\n                label: gettext('No sections found'),\n                value: request.term.replace('#', ''),\n                target: ''\n              });\n            }\n\n            headings.each(function() {\n              var element = this.nodeName;\n              var level = element.substring(1);\n              var label = $(this).text();\n              var target = $(this).attr('id');\n              var value = request.term + target;\n\n              array.push({\n                label: label,\n                value: value,\n                target: target\n              });\n            });\n            response(array);\n          }\n        });\n      };\n\n      $html.find('input[name=\"internal\"]').autocomplete({\n        source: function(request, response) {\n          if (performSectionSearch(request)) {\n            sectionSearch(request, response);\n          } else {\n            articleSearch(request, response);\n          }\n        },\n        select: function(event, ui) {\n          if (!ui.item.target) {\n            return;\n          }\n\n          var $linktext = $html.find('input[name=link-text]');\n          if ($linktext.val() === '') {\n            $linktext.val(ui.item.label);\n          }\n        }\n      });\n\n      $html.find('button').text(gettext('Insert Link')).click(function(e) {\n        // Generate the wiki markup based on what the user has selected\n        // (interval vs external links) and entered into the textboxes,\n        // if anything.\n        var val = $html.find('input[type=\"radio\"]:checked').val(),\n          text = $html.find('input[name=link-text]').val(),\n          $internal = $html.find('input[name=\"internal\"]'),\n          $external = $html.find('input[name=\"external\"]');\n        me.reset();\n        if (val === 'internal') {\n          var title = $internal.val();\n          if (title) {\n            if (title === selectedText) {\n              // The title wasn't changed, so lets keep it selected.\n              me.openTag = '[[';\n              me.closeTag = ']]';\n              if (text) {\n                me.closeTag = '|' + text + me.closeTag;\n              }\n            } else {\n              // The title changed, so lets insert link before the cursor.\n              me.openTag = '[[' + title;\n              if (text) {\n                me.openTag += '|' + text;\n              }\n              me.openTag += ']] ';\n              me.closeTag = '';\n              me.defaultText = '';\n            }\n          } else {\n            me.openTag = '[[';\n            me.closeTag = ']]';\n            if (text) {\n              me.closeTag = '|' + text + ']]';\n            }\n            me.defaultText = gettext('Knowledge Base Article');\n          }\n        } else {\n          var link = $external.val();\n          if (link) {\n            if (link.indexOf('http') !== 0) {\n              link = 'http://' + link;\n            }\n            me.openTag = '[' + link + ' ';\n            if (text) {\n              me.openTag += text + '] ';\n              me.closeTag = '';\n              me.defaultText = '';\n            }\n          } else if (text) {\n            me.defaultText = text;\n          }\n        }\n\n        me.handleClick(e);\n        kbox.close();\n      });\n\n      if (selectedText) {\n        // If there user has selected text, lets default to it being\n        // the Article Title.\n        $html.find('input[name=\"internal\"]').val(selectedText).focus();\n      }\n\n      kbox = new KBox($html, {\n        title: this.name,\n        destroy: true,\n        modal: true,\n        id: 'link-modal',\n        container: $('body')\n      });\n      kbox.open();\n\n      ev.preventDefault();\n      return false;\n    }\n  });\n\n  /*\n   * The media helper.\n   */\n  Marky.MediaButton = function() {\n    this.name = gettext('Insert media...');\n    this.classes = 'btn-media';\n    this.openTag = '';\n    this.closeTag = '';\n    this.defaultText = gettext('media');\n    this.everyline = false;\n\n    this.html = '<button class=\"markup-toolbar-button\" />';\n  };\n\n  Marky.MediaButton.prototype = $.extend({}, Marky.SimpleButton.prototype, {\n    // Gets the DOM node for the button.\n    node: function() {\n      var me = this,\n        $btn = this.render();\n      $btn.click(function(e) {\n        me.openModal(e);\n      });\n      return $btn[0];\n    },\n    reset: function() {\n      this.openTag = '';\n      this.closeTag = '';\n      this.defaultText = '';\n    },\n    openModal: function(ev) {\n      var me = this,\n        $editor = $(me.textarea).closest('.editor'),\n        mediaSearchUrl = $editor.data('media-search-url'),\n        galleryUrl = $editor.data('media-gallery-url'),\n      // TODO: look at using a js template solution (jquery-tmpl?)\n        $html = $(\n            '<section class=\"marky\">' +\n            '<div class=\"filter cf\">' +\n            '<form class=\"simple-search-form\" id=\"gallery-modal-search\"><input type=\"text\" name=\"q\" class=\"searchbox\"' +\n            'placeholder=\"' + gettext('Search Gallery') + '\" />' +\n            '<button type=\"submit\" class=\"submit-button\" title=\"' + gettext('Search Gallery') + '\">' +\n            gettext('Search Gallery') + '</button></form>' +\n            '<div class=\"type\">' +\n            '<span>' + gettext('Show:') + '</span>' +\n            '<ol><li data-type=\"image\" class=\"selected\">' + gettext('Images') + '</li>' +\n            '<li data-type=\"video\">' + gettext('Videos') + '</li></ol></div>' +\n            '<div class=\"locale-filter\">' + gettext('Show media for:') + ' <select /></div></div>' +\n            '<div class=\"placeholder\" /><div class=\"submit\">' +\n            '<button class=\"btn btn-important\">' + gettext('Insert Media') + '</button>' +\n            '<a href=\"' + galleryUrl + '#upload\" class=\"upload\" target=\"_blank\">' +\n            gettext('Upload Media') + '</a>' +\n            '<a href=\"#cancel\" class=\"kbox-cancel\">' + gettext('Cancel') + '</a></div>' +\n            '</section>'\n        ),\n        selectedText = me.getSelectedText(),\n        mediaType = $html.find('div.type li.selected').data('type'),\n        mediaQ = '',\n        mediaLocale = $('html').attr('lang'),\n        mediaPage = 1,\n        kbox;\n\n      // Handle Images/Videos filter\n      $html.find('div.type li').click(function(e) {\n        var $this = $(this);\n        if (!$this.is('.selected')) {\n          $html.find('div.type li.selected').removeClass('selected');\n          $this.addClass('selected');\n          mediaType = $this.data('type');\n          mediaPage = 1;\n          updateResults();\n        }\n        e.preventDefault();\n        return false;\n      });\n\n      // Handle locale filter\n      var $lf = $html.find('div.locale-filter select');\n      $lf.html($('#_languages-select-box').html());\n      $lf.on('change', function() {\n        mediaPage = 1;\n        mediaLocale = $(this).val();\n        updateResults();\n      });\n\n      // Handle Search\n      $html.find('form#gallery-modal-search').submit(function(e) {\n        mediaQ = $html.find('input[name=\"q\"]').val();\n        mediaPage = 1;\n        updateResults();\n        e.preventDefault();\n        return false;\n      });\n\n      // Handle Upload link\n      $html.find('a.upload').click(function(e) {\n        // Close the modal. The link itself will open gallery in new tab/window.\n        kbox.close();\n      });\n\n      // Handle pagination\n      $html.delegate('ol.pagination a', 'click', function(e) {\n        mediaPage = parseInt($(this).attr('href').split('&page=')[1], 10);\n        updateResults();\n        e.preventDefault();\n        return false;\n      });\n\n      // Handle 'Insert Media' button click\n      $html.find('div.submit button').click(function(e) {\n        // Generate the wiki markup based on what the user has selected.\n        me.reset();\n\n        var $selected = $html.find('#media-list > li.selected');\n        if ($selected.length < 1) {\n          alert(gettext('Please select an image or video to insert.')); // eslint-disable-line\n          return false;\n        }\n\n        me.openTag = '[[';\n        me.openTag += (mediaType === 'image') ? 'Image' : 'Video';\n        me.openTag += ':' + $selected.find('a').attr('title') + ']] ';\n\n        me.handleClick(e);\n        kbox.close();\n      });\n\n      updateResults();\n\n      // Update the media list via ajax call.\n      function updateResults(type, q) {\n        $html.addClass('processing');\n        $.ajax({\n          url: mediaSearchUrl,\n          type: 'GET',\n          data: {type: mediaType, q: mediaQ, page: mediaPage,\n            locale: mediaLocale},\n          dataType: 'html',\n          success: function(html) {\n            $html.find('div.placeholder').html(html);\n            $html.find('#media-list > li').click(function(e) {\n              var $this = $(this),\n                $mediaList = $(this).parent();\n              $mediaList.find('li.selected').removeClass('selected');\n              $this.addClass('selected');\n              e.preventDefault();\n              return false;\n            });\n          },\n          error: function() {\n            var message = gettext('Oops, there was an error.');\n            $html.find('div.placeholder').html('<div class=\"msg\">' +\n              message + '</div>');\n          },\n          complete: function() {\n            $html.removeClass('processing');\n          }\n        });\n      }\n\n      kbox = new KBox($html, {\n        title: this.name,\n        destroy: true,\n        modal: true,\n        id: 'media-modal',\n        container: $('body'),\n        position: 'none'\n      });\n      kbox.open();\n\n      ev.preventDefault();\n      return false;\n    }\n  });\n\n  /*\n   * The canned responses helper\n   */\n  Marky.CannedResponsesButton = function() {\n    this.name = gettext('Common responses');\n    this.classes = 'btn-cannedresponses';\n    this.openTag = '';\n    this.closeTag = '';\n    this.defaultText = gettext('cannedresponses');\n    this.everyline = false;\n\n    this.html = '<a class=\"markup-toolbar-link\" href=\"#\"/>';\n  };\n\n  Marky.CannedResponsesButton.prototype = $.extend({}, Marky.SimpleButton.prototype, {\n    // Gets the DOM node for the button.\n    node: function() {\n      var me = this,\n        $btn = this.render();\n      $btn.click(function(e) {\n        me.openModal(e);\n      });\n\n      me.getPermissionBits();\n\n      return $btn[0];\n    },\n    reset: function() {\n      this.openTag = '';\n      this.closeTag = '';\n      this.defaultText = '';\n    },\n    openModal: function(e) {\n      var me = this,\n        $editor = $(me.textarea).closest('.editor'),\n      // TODO: look at using a js template solution (jquery-tmpl?)\n        $html = $(\n            '<section class=\"marky\">' +\n            '<div class=\"search simple-search-form\">' +\n            '<input type=\"text\" name=\"q\" id=\"filter-responses-field\" placeholder=\"' +\n            gettext('Search for common responses') + '\" class=\"searchbox\"/>' +\n            '</div></div>' +\n            '<div class=\"area\">' +\n            '<div id=\"responses-area\">' +\n            '<h2 class=\"heading-label\">' + gettext('Categories') + '</h2>' +\n            '<ul class=\"category-list sidebar-nav\">' +\n            '<li class=\"status-indicator busy\">' + gettext('Loading...') + '</li>' +\n            '</ul></div>' +\n            '<div id=\"response-list-area\">' +\n            '<h2 class=\"heading-label\">' + gettext('Responses') + '</h2>' +\n            '<h4 class=\"nocat-label\">' + gettext('Please select a category from the previous column or start a search.') + '</h4>' +\n            '<p class=\"response-list\"/>' +\n            '</div>' +\n            '<div id=\"response-content-area\">' +\n            '<h2 class=\"heading-label preview-label\">' + gettext('Response editor') + '</h2>' +\n            '<button class=\"toggle-view btn\">' + gettext('Switch to preview mode') + '</button>' +\n            '<p class=\"response-preview\">' +\n            '<textarea id=\"response-content\">' +\n            '</textarea></p>' +\n            '<p class=\"response-preview-rendered\"></p>' +\n            '</div>' +\n            '</div>' +\n            '</div>' +\n            '<div class=\"placeholder\" /><div class=\"submit\" id=\"response-submit-area\">' +\n            '<button id=\"insert-response\" class=\"btn btn-important\">' + gettext('Insert Response') + '</button>' +\n            '<a href=\"#cancel\" class=\"kbox-cancel\">' + gettext('Cancel') + '</a>' +\n            '</div>' +\n            '</section>'\n        ),\n        selectedText = me.getSelectedText(),\n        kbox;\n\n      var cannedResponsesUrl = '/kb/common-forum-responses';\n      var previewUrl = 'answer-preview-async';\n\n      function updatePreview() {\n        var response = $('#response-content').val();\n        var token = $('[name=csrfmiddlewaretoken]').attr('value');\n\n        toggleThrobber(true);\n\n        $.ajax({\n          type: 'POST',\n          url: previewUrl,\n          data: {\n            content: response,\n            csrfmiddlewaretoken: token\n          },\n          dataType: 'html',\n          success: function(html) {\n            var $container = $('.response-preview-rendered');\n            var $response_preview = $(html).find('.main-content');\n            $container.html($response_preview);\n          },\n          complete: function() {\n            toggleThrobber(false);\n          }\n        });\n      }\n\n      function getContent(articleUrl) {\n        // If the article doesn't exist, it has /new in its URL\n        // Don't query nonexisting articles\n        if (!articleUrl || articleUrl.indexOf('/new') !== -1) {\n          return;\n        }\n\n        toggleThrobber(true);\n\n        $.ajax({\n          url: articleUrl + '/edit',\n          dataType: 'html',\n          success: function(data, status) {\n            var article_src = $('#id_content', data).val();\n            var $textbox = $('#response-content');\n            $textbox.val(article_src);\n            $textbox.data('slug', articleUrl);\n            updatePreview();\n          },\n          complete: function() {\n            toggleThrobber(false);\n          }\n        });\n      }\n\n      function toggleThrobber(busy) {\n        var $label = $('.preview-label');\n        if (busy) {\n          $label.addClass('busy');\n        } else {\n          $label.removeClass('busy');\n        }\n      }\n\n      function isAllowedToUseResponse(response_target) {\n        if (response_target.indexOf('#') === -1) {\n          // No permission markers: Everyone's allowed\n          return true;\n        }\n\n        var articleUrl = response_target.split('#')[0];\n        var permBits = response_target.split('#')[1];\n        response_target = articleUrl;\n\n        for (var i = 0; i < permBits.length; i++) {\n          var bit = permBits[i];\n          if (me.permissionBits.indexOf(bit) !== -1) {\n            return true;\n          }\n        }\n        return false;\n      }\n\n      function insertResponse() {\n        var sourceContent = $('#response-content').val();\n        var slug = $('#response-content').data('slug');\n        var $responseTextbox = $('#id_content');\n        var targetContent = $responseTextbox.val();\n\n        trackEvent('Canned response usage', slug);\n\n        $responseTextbox.val(targetContent + sourceContent);\n      }\n\n      function searchResponses(term) {\n        term = term.toLowerCase().trim();\n        var $searchHeading = $html.find('#response-list-area .heading-label');\n        var $noCategorySelected = $html.find('.nocat-label');\n        var $responseLists = $html.find('.response-list ul');\n        var $responses = $html.find('.response');\n        var $responseListArea = $html.find('#response-list-area');\n        var $responsesArea = $html.find('#responses-area');\n\n        if (term === '') {\n          $searchHeading.text(gettext('Responses'));\n          $responseListArea.removeClass('filtered');\n          $responsesArea.removeClass('filtered');\n          $noCategorySelected.show();\n          $responses.show();\n          $responseLists.hide();\n          return;\n        }\n\n        $responseListArea.addClass('filtered');\n        $responsesArea.addClass('filtered');\n        $searchHeading.text(gettext('Matching responses'));\n        $noCategorySelected.hide();\n        $responseLists.show();\n\n        $responses.each(function() {\n          var text = $(this).text().toLowerCase();\n          if (text.indexOf(term) === -1) {\n            $(this).hide();\n          } else {\n            $(this).show();\n          }\n        });\n      }\n\n      function loadCannedResponses() {\n        var siteLanguage = window.location.pathname.split('/')[1];\n        var targetUrl = '/' + siteLanguage + cannedResponsesUrl;\n\n        $.ajax({\n          url: targetUrl,\n          type: 'GET',\n          dataType: 'html',\n          success: function(html) {\n            var $categoryList = $('.category-list'),\n              $responsesList = $('.response-list'),\n              $categories = $(html).find('[id^=w_]');\n\n            $categoryList.empty();\n            $responsesList.empty();\n\n            $categories.each(function() {\n              var label = $(this).text(),\n                $headingItem = $(document.createElement('li')),\n                $responses = $(document.createElement('ul')).addClass('sidebar-nav').hide(),\n                $catResponses = $(this).nextUntil('[id^=w_]').find('a'),\n                $noCatLabel = $html.find('.nocat-label'),\n                $otherResponses,\n                $otherHeadings;\n\n              $catResponses.each(function() {\n                var $response = $(document.createElement('li')).addClass('response').text($(this).text());\n                var response_target = $(this).attr('href');\n                var canUseResponse = isAllowedToUseResponse(response_target);\n                response_target = response_target.split('#')[0];\n\n                if (canUseResponse) {\n                  $response.click(function() {\n                    $('.response-list li').not($(this)).removeClass('selected');\n                    $(this).addClass('selected');\n                    getContent(response_target);\n                  });\n\n                  $responses.append($response);\n                }\n              });\n\n              $headingItem.addClass('response-heading').text(label)\n                .on('click', function() {\n                  $noCatLabel.hide();\n                  $otherResponses = $responsesList.find('ul').not($responses);\n                  $otherResponses.hide();\n\n                  $otherHeadings = $categoryList.find('.response-heading').not($headingItem);\n                  $otherHeadings.removeClass('selected');\n\n                  $(this).addClass('selected');\n                  $responses.show();\n                });\n\n              $categoryList.append($headingItem);\n              $responsesList.append($responses);\n            });\n          },\n          error: function() {\n            var statusIndicator = $('.status-indicator');\n            statusIndicator.removeClass('busy');\n            statusIndicator.text(gettext('There was an error checking for canned responses.'));\n          }\n        });\n\n        // return true so that the kbox actually opens:\n        return true;\n      }\n\n      kbox = new KBox($html, {\n        title: this.name,\n        destroy: true,\n        modal: true,\n        id: 'media-modal',\n        container: $('body'),\n        position: 'none',\n        preOpen: loadCannedResponses\n      });\n\n      kbox.open();\n\n      $html.find('#insert-response').click(function() {\n        insertResponse();\n        kbox.close();\n      });\n\n      $html.find('#filter-responses-field').keyup(function() {\n        var term = $(this).val();\n        searchResponses(term);\n      });\n\n      var $previewLabel = $html.find('.preview-label');\n      var $contentArea = $html.find('.response-preview');\n      var $renderedPreview = $html.find('.response-preview-rendered');\n\n      $html.find('.toggle-view').toggle(\n        function() {\n          updatePreview();\n          $previewLabel.text(gettext('Response preview'));\n          $(this).text(gettext('Switch to edit mode'));\n\n          $contentArea.hide();\n          $renderedPreview.show();\n        },\n        function() {\n          $previewLabel.text(gettext('Response editor'));\n          $(this).text(gettext('Switch to preview mode'));\n\n          $contentArea.show();\n          $renderedPreview.hide();\n        });\n\n      e.preventDefault();\n      return false;\n    },\n\n    permissionBits: [],\n\n    getPermissionBits: function() {\n      var profile_link = $('#aux-nav .user').attr('href'),\n        me = this;\n      if (!profile_link || profile_link === '') {\n        return;\n      }\n\n      $.ajax({\n        url: profile_link,\n        dataType: 'html',\n        success: function(data, status) {\n          var userGroups = $('#groups li', data);\n          userGroups.each(function() {\n            var group = $(this).text();\n\n            // Contributors:\n            if (group === 'Contributors') {\n              me.permissionBits.push('c');\n            }\n\n            // Moderators:\n            if (group === 'Forum Moderators') {\n              me.permissionBits.push('m');\n            }\n\n            // Administrators:\n            if (group === 'Administrators') {\n              me.permissionBits.push('a');\n            }\n          });\n        }\n      });\n    }\n  });\n\n  /*\n   * The quote button helper\n   */\n  Marky.QuoteButton = function() {\n    var name = gettext('Quote previous message...');\n    var previousContent = $('#read-message').attr('data-message-content');\n    var previousAuthor = $('.from a').text();\n    var previousAuthorLink = $('.from a').attr('href');\n    var quote = '[' + previousAuthorLink + ' ' + previousAuthor + '] ' +\n      gettext('said') + '\\r\\n';\n    quote += '<blockquote>\\r\\n';\n    quote += previousContent + '\\r\\n';\n    quote += '</blockquote>\\r\\n';\n\n    return new Marky.SimpleButton(name, quote, '', '', 'btn-quote', true);\n  };\n\n  window.Marky = Marky;\n\n})(jQuery, gettext, document);\n"
      ]
    },
    "mtime": 1561057444000
  },
  "{\"filename\":\"/app/kitsune/sumo/static/sumo/js/questions.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":2,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "/* globals trackEvent:false, k:false, _:false, Marky:false, AAQSystemInfo:false, KBox:false, gettext:false, template:false, jQuery:false */\n/*\n* questions.js\n* Scripts for the questions app.\n*/\n\n// TODO: Figure out how to break out the functionality here into\n'use strict';\n\n(function ($) {\n\n  function init() {\n    var $body = $('body');\n\n    if ($body.is('.new-question')) {\n      initNewQuestion();\n\n      if (window.location.search.indexOf('step=aaq-register') > -1) {\n        trackEvent('Ask A Question Flow', 'step 1 page');\n      } else if (window.location.search.indexOf('step=aaq-question') > -1) {\n        trackEvent('Ask A Question Flow', 'step 2 page');\n      }\n    }\n\n    if ($body.is('.questions')) {\n      initTagFilterToggle();\n\n      $('#flag-filter input[type=\"checkbox\"]').on('click', function () {\n        window.location = $(this).data('url');\n      });\n\n      if (window.location.pathname.indexOf('questions/new/confirm') > -1) {\n        trackEvent('Ask A Question Flow', 'step 3 confirm page');\n      }\n    }\n\n    if ($body.is('.answers')) {\n      var takeQuestion = function takeQuestion() {\n        if ($(this).val().length > 0) {\n          var $form = $(this).closest('form');\n          var url = $form.data('take-question-url');\n          var csrftoken = $('input[name=csrfmiddlewaretoken]').val();\n          $.ajax({\n            url: url,\n            method: 'POST',\n            beforeSend: function beforeSend(xhr, settings) {\n              xhr.setRequestHeader('X-CSRFToken', csrftoken);\n            }\n          });\n        }\n      };\n\n      // Put last search query into search box\n      $('#support-search input[name=q]').val(k.unquote($.cookie('last_search')));\n\n      $('#id_content').on('keyup', _.throttle(takeQuestion, 1000));\n\n      $(document).on('click', '#details-edit', function (ev) {\n        ev.preventDefault();\n        $('#question-details').addClass('editing');\n      });\n\n      initHaveThisProblemTooAjax();\n      initHelpfulVote();\n      initCrashIdLinking();\n      initEditDetails();\n      addReferrerAndQueryToVoteForm();\n      initReplyToAnswer();\n      new k.AjaxPreview($('#preview')); // eslint-disable-line\n    }\n\n    Marky.createSimpleToolbar('.editor-tools', '#reply-content, #id_content', { cannedResponses: !$body.is('.new-question') });\n\n    // product selector page reloading\n    $('#product-selector select').on('change', function () {\n      var val = $(this).val();\n      var queryParams = k.getQueryParamsAsDict(document.location.toString());\n\n      if (val === '') {\n        delete queryParams.product;\n      } else {\n        queryParams.product = val;\n      }\n      document.location = document.location.pathname + '?' + $.param(queryParams);\n    });\n\n    // topic selector page reloading\n    $('#topic-selector select').on('change', function () {\n      var val = $(this).val();\n      var queryParams = k.getQueryParamsAsDict(document.location.toString());\n\n      if (val === '') {\n        delete queryParams.topic;\n      } else {\n        queryParams.topic = val;\n      }\n      document.location = document.location.pathname + '?' + $.param(queryParams);\n    });\n  }\n\n  /*\n  * Initialize the new question page/form\n  */\n  function initNewQuestion() {\n    var $questionForm = $('#question-form');\n    var aaq = new AAQSystemInfo($questionForm);\n    hideDetails($questionForm, aaq);\n  }\n\n  function isLoggedIn() {\n    return $('#greeting span.user').length > 0;\n  }\n\n  // Handle changes to the details for a question\n  function initEditDetails() {\n    $('#details-product').on('change', function () {\n      var $selected;\n\n      $(this).children().each(function () {\n        if (this.selected) {\n          $selected = $(this);\n        }\n      });\n\n      $('#details-topic').children().remove();\n      $('#details-submit').prop('disabled', true);\n\n      $.ajax($selected.data('url'), {\n        'dataType': 'json',\n        'success': function success(data) {\n          for (var i = 0; i < data.topics.length; i++) {\n            var topic = data.topics[i];\n            var $opt = $('<option />');\n\n            $opt.attr('value', topic.id);\n            $opt.text(topic.title);\n\n            $('#details-topic').append($opt);\n          }\n          $('#details-submit').prop('disabled', false);\n        }\n      });\n    });\n  }\n\n  // Hide the browser/system details for users on FF with js enabled\n  // and are submitting a question for FF on desktop.\n  function hideDetails($form, aaq) {\n    $form.find('ul').addClass('hide-details');\n    $form.find('a.show, a.hide').click(function (ev) {\n      ev.preventDefault();\n      $(this).closest('li').toggleClass('show').toggleClass('hide').closest('ul').toggleClass('show-details');\n    });\n\n    if (!aaq.isDesktopFF() && !aaq.isMobileFF() && !aaq.isFirefoxOS()) {\n      $form.find('li.system-details-info').hide();\n    }\n  }\n\n  /*\n  * Ajaxify any \"I have this problem too\" forms (may be multiple per page)\n  */\n  function initHaveThisProblemTooAjax() {\n    var $container = $('#question div.me-too, .question-tools div.me-too');\n\n    // ajaxify each form individually so the resulting kbox attaches to\n    // the correct DOM element\n    $container.each(function () {\n      initAjaxForm($(this), 'form', '#vote-thanks');\n    });\n\n    $container.find('input').click(function () {\n      $(this).attr('disabled', 'disabled');\n    });\n\n    // closing or cancelling the kbox on any of the forms should remove\n    // all of them\n    $container.delegate('.kbox-close, .kbox-cancel', 'click', function (ev) {\n      ev.preventDefault();\n      $container.unbind().remove();\n    });\n  }\n\n  function addReferrerAndQueryToVoteForm() {\n    // Add the source/referrer and query terms to the helpful vote form\n    var urlParams = k.getQueryParamsAsDict(),\n        referrer = k.getReferrer(urlParams),\n        query = k.getSearchQuery(urlParams, referrer);\n    $('form.helpful, .me-too form').append($('<input type=\"hidden\" name=\"referrer\"/>').attr('value', referrer)).append($('<input type=\"hidden\" name=\"query\"/>').attr('value', query));\n  }\n\n  /*\n  * Ajaxify the Helpful/Not Helpful form\n  */\n  function initHelpfulVote() {\n    $('li.answer div.side-section, .answer-tools').each(function () {\n      new k.AjaxVote($(this).find('form.helpful'), { // eslint-disable-line\n        positionMessage: true,\n        removeForm: true\n      });\n    });\n  }\n\n  // Helper\n  function initAjaxForm($container, formSelector, boxSelector, onKboxClose) {\n    $container.delegate(formSelector, 'submit', function (ev) {\n      ev.preventDefault();\n      var $form = $(this);\n      var url = $form.attr('action');\n      var data = $form.serialize();\n\n      $.ajax({\n        url: url,\n        type: 'POST',\n        data: data,\n        dataType: 'json',\n        success: function success(response) {\n          if (response.html) {\n            if ($(boxSelector).length === 0) {\n              // We don't have a modal set up yet.\n              var kbox = new KBox(response.html, {\n                container: $container,\n                preClose: onKboxClose\n              });\n              kbox.open();\n            } else {\n              $(boxSelector).html($(response.html).children());\n            }\n          } else if (response.message) {\n            var html = '<div class=\"msg\"></div>';\n            $(boxSelector).html(html).find('.msg').text(response.message);\n          }\n\n          if (!response.ignored) {\n            // Trigger a document event for others to listen for.\n            $(document).trigger('vote', $.extend(data, { url: url }));\n          }\n        },\n        error: function error() {\n          var message = gettext('There was an error.');\n          alert(message); // eslint-disable-line\n        }\n      });\n\n      return false;\n    });\n  }\n\n  function initTagFilterToggle() {\n    $('#toggle-tag-filter').click(function (e) {\n      e.preventDefault();\n      $('#tag-filter').slideToggle('fast'); // CSS3: Y U NO TRANSITION TO `height: auto;`?\n      $(this).toggleClass('off');\n    });\n  }\n\n  /*\n  * Links all crash IDs found in the passed HTML container elements\n  */\n  function linkCrashIds(container) {\n    if (!container) {\n      return;\n    }\n    var crashIDRegex = new RegExp('(bp-[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12})', 'g');\n    var crashStatsBase = 'https://crash-stats.mozilla.com/report/index/';\n    var helpingWithCrashesArticle = '/kb/helping-crashes';\n    var iconPath = $('body').data('static-url') + 'sumo/img/questions/icon.questionmark.png';\n    var crashReportContainer = \"<span class='crash-report'>\" + \"<a href='\" + crashStatsBase + \"$1' target='_blank'>$1</a>\" + \"<a href='\" + helpingWithCrashesArticle + \"' target='_blank'>\" + \"<img src='\" + iconPath + \"'></img></a></span>\";\n\n    container.html(container.html().replace(crashIDRegex, crashReportContainer));\n  }\n\n  // For testing purposes only:\n  k.linkCrashIds = linkCrashIds;\n\n  /*\n  * Initialize the automatic linking of crash IDs\n  */\n  function initCrashIdLinking() {\n    var postContents = $('.question .main-content, .answer .main-content, #more-system-details');\n    postContents.each(function () {\n      linkCrashIds($(this));\n    });\n  }\n\n  function initReplyToAnswer() {\n    $('a.quoted-reply').click(function () {\n      var contentId = $(this).data('content-id'),\n          $content = $('#' + contentId),\n          text = $content.find('.content-raw').text(),\n          user = $content.find('.author-name').text(),\n          reply = template(\"''{user} [[#{contentId}|{said}]]''\\n<blockquote>\\n{text}\\n</blockquote>\\n\\n\"),\n          reply_text,\n          $textarea = $('#id_content'),\n          oldtext = $textarea.val();\n\n      reply_text = reply({ 'user': user, 'contentId': contentId, 'text': text, 'said': gettext('said') });\n\n      $textarea.val(oldtext + reply_text);\n\n      setTimeout(function () {\n        $textarea.focus();\n      }, 10);\n\n      return true;\n    });\n  }\n\n  $(document).ready(init);\n})(jQuery);\n// testable parts.\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9hcHAva2l0c3VuZS9zdW1vL3N0YXRpYy9zdW1vL2pzL3F1ZXN0aW9ucy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFTQSxDQUFDLFVBQVMsQ0FBQyxFQUFFOztBQUVYLFdBQVMsSUFBSSxHQUFHO0FBQ2QsUUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDOztBQUV0QixRQUFJLEtBQUssQ0FBQyxFQUFFLENBQUMsZUFBZSxDQUFDLEVBQUU7QUFDN0IscUJBQWUsRUFBRSxDQUFDOztBQUVsQixVQUFJLE1BQU0sQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFO0FBQzVELGtCQUFVLENBQUMscUJBQXFCLEVBQUUsYUFBYSxDQUFDLENBQUM7T0FDbEQsTUFBTSxJQUFJLE1BQU0sQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFO0FBQ25FLGtCQUFVLENBQUMscUJBQXFCLEVBQUUsYUFBYSxDQUFDLENBQUM7T0FDbEQ7S0FDRjs7QUFFRCxRQUFJLEtBQUssQ0FBQyxFQUFFLENBQUMsWUFBWSxDQUFDLEVBQUU7QUFDMUIseUJBQW1CLEVBQUUsQ0FBQzs7QUFFdEIsT0FBQyxDQUFDLHFDQUFxQyxDQUFDLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxZQUFXO0FBQzlELGNBQU0sQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztPQUN2QyxDQUFDLENBQUM7O0FBRUgsVUFBSSxNQUFNLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsdUJBQXVCLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRTtBQUNsRSxrQkFBVSxDQUFDLHFCQUFxQixFQUFFLHFCQUFxQixDQUFDLENBQUM7T0FDMUQ7S0FDRjs7QUFF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QztDQUV6QixDQUFBLENBQUUsTUFBTSxDQUFDLENBQUMiLCJmaWxlIjoiL2FwcC9raXRzdW5lL3N1bW8vc3RhdGljL3N1bW8vanMvcXVlc3Rpb25zLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogZ2xvYmFscyB0cmFja0V2ZW50OmZhbHNlLCBrOmZhbHNlLCBfOmZhbHNlLCBNYXJreTpmYWxzZSwgQUFRU3lzdGVtSW5mbzpmYWxzZSwgS0JveDpmYWxzZSwgZ2V0dGV4dDpmYWxzZSwgdGVtcGxhdGU6ZmFsc2UsIGpRdWVyeTpmYWxzZSAqL1xuLypcbiogcXVlc3Rpb25zLmpzXG4qIFNjcmlwdHMgZm9yIHRoZSBxdWVzdGlvbnMgYXBwLlxuKi9cblxuLy8gVE9ETzogRmlndXJlIG91dCBob3cgdG8gYnJlYWsgb3V0IHRoZSBmdW5jdGlvbmFsaXR5IGhlcmUgaW50b1xuLy8gdGVzdGFibGUgcGFydHMuXG5cbihmdW5jdGlvbigkKSB7XG5cbiAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICB2YXIgJGJvZHkgPSAkKCdib2R5Jyk7XG5cbiAgICBpZiAoJGJvZHkuaXMoJy5uZXctcXVlc3Rpb24nKSkge1xuICAgICAgaW5pdE5ld1F1ZXN0aW9uKCk7XG5cbiAgICAgIGlmICh3aW5kb3cubG9jYXRpb24uc2VhcmNoLmluZGV4T2YoJ3N0ZXA9YWFxLXJlZ2lzdGVyJykgPiAtMSkge1xuICAgICAgICB0cmFja0V2ZW50KCdBc2sgQSBRdWVzdGlvbiBGbG93JywgJ3N0ZXAgMSBwYWdlJyk7XG4gICAgICB9IGVsc2UgaWYgKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guaW5kZXhPZignc3RlcD1hYXEtcXVlc3Rpb24nKSA+IC0xKSB7XG4gICAgICAgIHRyYWNrRXZlbnQoJ0FzayBBIFF1ZXN0aW9uIEZsb3cnLCAnc3RlcCAyIHBhZ2UnKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoJGJvZHkuaXMoJy5xdWVzdGlvbnMnKSkge1xuICAgICAgaW5pdFRhZ0ZpbHRlclRvZ2dsZSgpO1xuXG4gICAgICAkKCcjZmxhZy1maWx0ZXIgaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbiA9ICQodGhpcykuZGF0YSgndXJsJyk7XG4gICAgICB9KTtcblxuICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCdxdWVzdGlvbnMvbmV3L2NvbmZpcm0nKSA+IC0xKSB7XG4gICAgICAgIHRyYWNrRXZlbnQoJ0FzayBBIFF1ZXN0aW9uIEZsb3cnLCAnc3RlcCAzIGNvbmZpcm0gcGFnZScpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICgkYm9keS5pcygnLmFuc3dlcnMnKSkge1xuICAgICAgLy8gUHV0IGxhc3Qgc2VhcmNoIHF1ZXJ5IGludG8gc2VhcmNoIGJveFxuICAgICAgJCgnI3N1cHBvcnQtc2VhcmNoIGlucHV0W25hbWU9cV0nKVxuICAgICAgLnZhbChrLnVucXVvdGUoJC5jb29raWUoJ2xhc3Rfc2VhcmNoJykpKTtcblxuICAgICAgZnVuY3Rpb24gdGFrZVF1ZXN0aW9uKCkge1xuICAgICAgICBpZiAoJCh0aGlzKS52YWwoKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgdmFyICRmb3JtID0gJCh0aGlzKS5jbG9zZXN0KCdmb3JtJyk7XG4gICAgICAgICAgdmFyIHVybCA9ICRmb3JtLmRhdGEoJ3Rha2UtcXVlc3Rpb24tdXJsJyk7XG4gICAgICAgICAgdmFyIGNzcmZ0b2tlbiA9ICQoJ2lucHV0W25hbWU9Y3NyZm1pZGRsZXdhcmV0b2tlbl0nKS52YWwoKTtcbiAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGJlZm9yZVNlbmQ6IGZ1bmN0aW9uKHhociwgc2V0dGluZ3MpIHtcbiAgICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ1gtQ1NSRlRva2VuJywgY3NyZnRva2VuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAkKCcjaWRfY29udGVudCcpLm9uKCdrZXl1cCcsIF8udGhyb3R0bGUodGFrZVF1ZXN0aW9uLCAxMDAwKSk7XG5cbiAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcjZGV0YWlscy1lZGl0JywgZnVuY3Rpb24oZXYpIHtcbiAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgJCgnI3F1ZXN0aW9uLWRldGFpbHMnKS5hZGRDbGFzcygnZWRpdGluZycpO1xuICAgICAgfSk7XG5cbiAgICAgIGluaXRIYXZlVGhpc1Byb2JsZW1Ub29BamF4KCk7XG4gICAgICBpbml0SGVscGZ1bFZvdGUoKTtcbiAgICAgIGluaXRDcmFzaElkTGlua2luZygpO1xuICAgICAgaW5pdEVkaXREZXRhaWxzKCk7XG4gICAgICBhZGRSZWZlcnJlckFuZFF1ZXJ5VG9Wb3RlRm9ybSgpO1xuICAgICAgaW5pdFJlcGx5VG9BbnN3ZXIoKTtcbiAgICAgIG5ldyBrLkFqYXhQcmV2aWV3KCQoJyNwcmV2aWV3JykpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgfVxuXG4gICAgTWFya3kuY3JlYXRlU2ltcGxlVG9vbGJhcignLmVkaXRvci10b29scycsICcjcmVwbHktY29udGVudCwgI2lkX2NvbnRlbnQnLCB7Y2FubmVkUmVzcG9uc2VzOiAhJGJvZHkuaXMoJy5uZXctcXVlc3Rpb24nKX0pO1xuXG4gICAgLy8gcHJvZHVjdCBzZWxlY3RvciBwYWdlIHJlbG9hZGluZ1xuICAgICQoJyNwcm9kdWN0LXNlbGVjdG9yIHNlbGVjdCcpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbigpIHtcbiAgICAgIHZhciB2YWwgPSAkKHRoaXMpLnZhbCgpO1xuICAgICAgdmFyIHF1ZXJ5UGFyYW1zID0gay5nZXRRdWVyeVBhcmFtc0FzRGljdChkb2N1bWVudC5sb2NhdGlvbi50b1N0cmluZygpKTtcblxuICAgICAgaWYgKHZhbCA9PT0gJycpIHtcbiAgICAgICAgZGVsZXRlIHF1ZXJ5UGFyYW1zLnByb2R1Y3Q7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBxdWVyeVBhcmFtcy5wcm9kdWN0ID0gdmFsO1xuICAgICAgfVxuICAgICAgZG9jdW1lbnQubG9jYXRpb24gPSBkb2N1bWVudC5sb2NhdGlvbi5wYXRobmFtZSArICc/JyArICQucGFyYW0ocXVlcnlQYXJhbXMpO1xuICAgIH0pO1xuXG4gICAgLy8gdG9waWMgc2VsZWN0b3IgcGFnZSByZWxvYWRpbmdcbiAgICAkKCcjdG9waWMtc2VsZWN0b3Igc2VsZWN0Jykub24oJ2NoYW5nZScsIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHZhbCA9ICQodGhpcykudmFsKCk7XG4gICAgICB2YXIgcXVlcnlQYXJhbXMgPSBrLmdldFF1ZXJ5UGFyYW1zQXNEaWN0KGRvY3VtZW50LmxvY2F0aW9uLnRvU3RyaW5nKCkpO1xuXG4gICAgICBpZiAodmFsID09PSAnJykge1xuICAgICAgICBkZWxldGUgcXVlcnlQYXJhbXMudG9waWM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBxdWVyeVBhcmFtcy50b3BpYyA9IHZhbDtcbiAgICAgIH1cbiAgICAgIGRvY3VtZW50LmxvY2F0aW9uID0gZG9jdW1lbnQubG9jYXRpb24ucGF0aG5hbWUgKyAnPycgKyAkLnBhcmFtKHF1ZXJ5UGFyYW1zKTtcbiAgICB9KTtcblxuICB9XG5cbiAgLypcbiAgKiBJbml0aWFsaXplIHRoZSBuZXcgcXVlc3Rpb24gcGFnZS9mb3JtXG4gICovXG4gIGZ1bmN0aW9uIGluaXROZXdRdWVzdGlvbigpIHtcbiAgICB2YXIgJHF1ZXN0aW9uRm9ybSA9ICQoJyNxdWVzdGlvbi1mb3JtJyk7XG4gICAgdmFyIGFhcSA9IG5ldyBBQVFTeXN0ZW1JbmZvKCRxdWVzdGlvbkZvcm0pO1xuICAgIGhpZGVEZXRhaWxzKCRxdWVzdGlvbkZvcm0sIGFhcSk7XG4gIH1cblxuICBmdW5jdGlvbiBpc0xvZ2dlZEluKCkge1xuICAgIHJldHVybiAkKCcjZ3JlZXRpbmcgc3Bhbi51c2VyJykubGVuZ3RoID4gMDtcbiAgfVxuXG4gIC8vIEhhbmRsZSBjaGFuZ2VzIHRvIHRoZSBkZXRhaWxzIGZvciBhIHF1ZXN0aW9uXG4gIGZ1bmN0aW9uIGluaXRFZGl0RGV0YWlscygpIHtcbiAgICAkKCcjZGV0YWlscy1wcm9kdWN0Jykub24oJ2NoYW5nZScsIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyICRzZWxlY3RlZDtcblxuICAgICAgJCh0aGlzKS5jaGlsZHJlbigpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGVkKSB7XG4gICAgICAgICAgJHNlbGVjdGVkID0gJCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgICQoJyNkZXRhaWxzLXRvcGljJykuY2hpbGRyZW4oKS5yZW1vdmUoKTtcbiAgICAgICQoJyNkZXRhaWxzLXN1Ym1pdCcpLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XG5cbiAgICAgICQuYWpheCgkc2VsZWN0ZWQuZGF0YSgndXJsJyksIHtcbiAgICAgICAgJ2RhdGFUeXBlJzogJ2pzb24nLFxuICAgICAgICAnc3VjY2Vzcyc6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEudG9waWNzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgdG9waWMgPSBkYXRhLnRvcGljc1tpXTtcbiAgICAgICAgICAgIHZhciAkb3B0ID0gJCgnPG9wdGlvbiAvPicpO1xuXG4gICAgICAgICAgICAkb3B0LmF0dHIoJ3ZhbHVlJywgdG9waWMuaWQpO1xuICAgICAgICAgICAgJG9wdC50ZXh0KHRvcGljLnRpdGxlKTtcblxuICAgICAgICAgICAgJCgnI2RldGFpbHMtdG9waWMnKS5hcHBlbmQoJG9wdCk7XG4gICAgICAgICAgfVxuICAgICAgICAgICQoJyNkZXRhaWxzLXN1Ym1pdCcpLnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIEhpZGUgdGhlIGJyb3dzZXIvc3lzdGVtIGRldGFpbHMgZm9yIHVzZXJzIG9uIEZGIHdpdGgganMgZW5hYmxlZFxuICAvLyBhbmQgYXJlIHN1Ym1pdHRpbmcgYSBxdWVzdGlvbiBmb3IgRkYgb24gZGVza3RvcC5cbiAgZnVuY3Rpb24gaGlkZURldGFpbHMoJGZvcm0sIGFhcSkge1xuICAgICRmb3JtLmZpbmQoJ3VsJykuYWRkQ2xhc3MoJ2hpZGUtZGV0YWlscycpO1xuICAgICRmb3JtLmZpbmQoJ2Euc2hvdywgYS5oaWRlJykuY2xpY2soZnVuY3Rpb24oZXYpIHtcbiAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAkKHRoaXMpLmNsb3Nlc3QoJ2xpJylcbiAgICAgIC50b2dnbGVDbGFzcygnc2hvdycpXG4gICAgICAudG9nZ2xlQ2xhc3MoJ2hpZGUnKVxuICAgICAgLmNsb3Nlc3QoJ3VsJylcbiAgICAgIC50b2dnbGVDbGFzcygnc2hvdy1kZXRhaWxzJyk7XG4gICAgfSk7XG5cbiAgICBpZiAoIWFhcS5pc0Rlc2t0b3BGRigpICYmICFhYXEuaXNNb2JpbGVGRigpICYmICFhYXEuaXNGaXJlZm94T1MoKSkge1xuICAgICAgJGZvcm0uZmluZCgnbGkuc3lzdGVtLWRldGFpbHMtaW5mbycpLmhpZGUoKTtcbiAgICB9XG4gIH1cblxuICAvKlxuICAqIEFqYXhpZnkgYW55IFwiSSBoYXZlIHRoaXMgcHJvYmxlbSB0b29cIiBmb3JtcyAobWF5IGJlIG11bHRpcGxlIHBlciBwYWdlKVxuICAqL1xuICBmdW5jdGlvbiBpbml0SGF2ZVRoaXNQcm9ibGVtVG9vQWpheCgpIHtcbiAgICB2YXIgJGNvbnRhaW5lciA9ICQoJyNxdWVzdGlvbiBkaXYubWUtdG9vLCAucXVlc3Rpb24tdG9vbHMgZGl2Lm1lLXRvbycpO1xuXG4gICAgLy8gYWpheGlmeSBlYWNoIGZvcm0gaW5kaXZpZHVhbGx5IHNvIHRoZSByZXN1bHRpbmcga2JveCBhdHRhY2hlcyB0b1xuICAgIC8vIHRoZSBjb3JyZWN0IERPTSBlbGVtZW50XG4gICAgJGNvbnRhaW5lci5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgaW5pdEFqYXhGb3JtKCQodGhpcyksICdmb3JtJywgJyN2b3RlLXRoYW5rcycpO1xuICAgIH0pO1xuXG4gICAgJGNvbnRhaW5lci5maW5kKCdpbnB1dCcpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgJCh0aGlzKS5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuICAgIH0pO1xuXG4gICAgLy8gY2xvc2luZyBvciBjYW5jZWxsaW5nIHRoZSBrYm94IG9uIGFueSBvZiB0aGUgZm9ybXMgc2hvdWxkIHJlbW92ZVxuICAgIC8vIGFsbCBvZiB0aGVtXG4gICAgJGNvbnRhaW5lci5kZWxlZ2F0ZSgnLmtib3gtY2xvc2UsIC5rYm94LWNhbmNlbCcsICdjbGljaycsIGZ1bmN0aW9uKGV2KSB7XG4gICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgJGNvbnRhaW5lci51bmJpbmQoKS5yZW1vdmUoKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZFJlZmVycmVyQW5kUXVlcnlUb1ZvdGVGb3JtKCkge1xuICAgIC8vIEFkZCB0aGUgc291cmNlL3JlZmVycmVyIGFuZCBxdWVyeSB0ZXJtcyB0byB0aGUgaGVscGZ1bCB2b3RlIGZvcm1cbiAgICB2YXIgdXJsUGFyYW1zID0gay5nZXRRdWVyeVBhcmFtc0FzRGljdCgpLFxuICAgICAgcmVmZXJyZXIgPSBrLmdldFJlZmVycmVyKHVybFBhcmFtcyksXG4gICAgICBxdWVyeSA9IGsuZ2V0U2VhcmNoUXVlcnkodXJsUGFyYW1zLCByZWZlcnJlcik7XG4gICAgJCgnZm9ybS5oZWxwZnVsLCAubWUtdG9vIGZvcm0nKVxuICAgIC5hcHBlbmQoJCgnPGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwicmVmZXJyZXJcIi8+JylcbiAgICAuYXR0cigndmFsdWUnLCByZWZlcnJlcikpXG4gICAgLmFwcGVuZCgkKCc8aW5wdXQgdHlwZT1cImhpZGRlblwiIG5hbWU9XCJxdWVyeVwiLz4nKVxuICAgIC5hdHRyKCd2YWx1ZScsIHF1ZXJ5KSk7XG4gIH1cblxuICAvKlxuICAqIEFqYXhpZnkgdGhlIEhlbHBmdWwvTm90IEhlbHBmdWwgZm9ybVxuICAqL1xuICBmdW5jdGlvbiBpbml0SGVscGZ1bFZvdGUoKSB7XG4gICAgJCgnbGkuYW5zd2VyIGRpdi5zaWRlLXNlY3Rpb24sIC5hbnN3ZXItdG9vbHMnKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgbmV3IGsuQWpheFZvdGUoJCh0aGlzKS5maW5kKCdmb3JtLmhlbHBmdWwnKSwgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgIHBvc2l0aW9uTWVzc2FnZTogdHJ1ZSxcbiAgICAgICAgcmVtb3ZlRm9ybTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvLyBIZWxwZXJcbiAgZnVuY3Rpb24gaW5pdEFqYXhGb3JtKCRjb250YWluZXIsIGZvcm1TZWxlY3RvciwgYm94U2VsZWN0b3IsIG9uS2JveENsb3NlKSB7XG4gICAgJGNvbnRhaW5lci5kZWxlZ2F0ZShmb3JtU2VsZWN0b3IsICdzdWJtaXQnLCBmdW5jdGlvbihldikge1xuICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHZhciAkZm9ybSA9ICQodGhpcyk7XG4gICAgICB2YXIgdXJsID0gJGZvcm0uYXR0cignYWN0aW9uJyk7XG4gICAgICB2YXIgZGF0YSA9ICRmb3JtLnNlcmlhbGl6ZSgpO1xuXG4gICAgICAkLmFqYXgoe1xuICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgIGlmIChyZXNwb25zZS5odG1sKSB7XG4gICAgICAgICAgICBpZiAoJChib3hTZWxlY3RvcikubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgIC8vIFdlIGRvbid0IGhhdmUgYSBtb2RhbCBzZXQgdXAgeWV0LlxuICAgICAgICAgICAgICB2YXIga2JveCA9IG5ldyBLQm94KHJlc3BvbnNlLmh0bWwsIHtcbiAgICAgICAgICAgICAgICBjb250YWluZXI6ICRjb250YWluZXIsXG4gICAgICAgICAgICAgICAgcHJlQ2xvc2U6IG9uS2JveENsb3NlXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBrYm94Lm9wZW4oKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICQoYm94U2VsZWN0b3IpLmh0bWwoJChyZXNwb25zZS5odG1sKS5jaGlsZHJlbigpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLm1lc3NhZ2UpIHtcbiAgICAgICAgICAgIHZhciBodG1sID0gJzxkaXYgY2xhc3M9XCJtc2dcIj48L2Rpdj4nO1xuICAgICAgICAgICAgJChib3hTZWxlY3RvcilcbiAgICAgICAgICAgIC5odG1sKGh0bWwpXG4gICAgICAgICAgICAuZmluZCgnLm1zZycpLnRleHQocmVzcG9uc2UubWVzc2FnZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5pZ25vcmVkKSB7XG4gICAgICAgICAgICAvLyBUcmlnZ2VyIGEgZG9jdW1lbnQgZXZlbnQgZm9yIG90aGVycyB0byBsaXN0ZW4gZm9yLlxuICAgICAgICAgICAgJChkb2N1bWVudCkudHJpZ2dlcigndm90ZScsICQuZXh0ZW5kKGRhdGEsIHt1cmw6IHVybH0pKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVycm9yOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgbWVzc2FnZSA9IGdldHRleHQoJ1RoZXJlIHdhcyBhbiBlcnJvci4nKTtcbiAgICAgICAgICBhbGVydChtZXNzYWdlKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdFRhZ0ZpbHRlclRvZ2dsZSgpIHtcbiAgICAkKCcjdG9nZ2xlLXRhZy1maWx0ZXInKS5jbGljayhmdW5jdGlvbihlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAkKCcjdGFnLWZpbHRlcicpLnNsaWRlVG9nZ2xlKCdmYXN0Jyk7ICAvLyBDU1MzOiBZIFUgTk8gVFJBTlNJVElPTiBUTyBgaGVpZ2h0OiBhdXRvO2A/XG4gICAgICAkKHRoaXMpLnRvZ2dsZUNsYXNzKCdvZmYnKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qXG4gICogTGlua3MgYWxsIGNyYXNoIElEcyBmb3VuZCBpbiB0aGUgcGFzc2VkIEhUTUwgY29udGFpbmVyIGVsZW1lbnRzXG4gICovXG4gIGZ1bmN0aW9uIGxpbmtDcmFzaElkcyhjb250YWluZXIpIHtcbiAgICBpZiAoIWNvbnRhaW5lcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgY3Jhc2hJRFJlZ2V4ID0gbmV3IFJlZ0V4cCgnKGJwLVthLWYwLTldezh9LVthLWYwLTldezR9LVthLWYwLTldezR9LVthLWYwLTldezR9LVthLWYwLTldezEyfSknLCAnZycpO1xuICAgIHZhciBjcmFzaFN0YXRzQmFzZSA9ICdodHRwczovL2NyYXNoLXN0YXRzLm1vemlsbGEuY29tL3JlcG9ydC9pbmRleC8nO1xuICAgIHZhciBoZWxwaW5nV2l0aENyYXNoZXNBcnRpY2xlID0gJy9rYi9oZWxwaW5nLWNyYXNoZXMnO1xuICAgIHZhciBpY29uUGF0aCA9ICQoJ2JvZHknKS5kYXRhKCdzdGF0aWMtdXJsJykgKyAnc3Vtby9pbWcvcXVlc3Rpb25zL2ljb24ucXVlc3Rpb25tYXJrLnBuZyc7XG4gICAgdmFyIGNyYXNoUmVwb3J0Q29udGFpbmVyID1cbiAgICBcIjxzcGFuIGNsYXNzPSdjcmFzaC1yZXBvcnQnPlwiICtcbiAgICBcIjxhIGhyZWY9J1wiICsgY3Jhc2hTdGF0c0Jhc2UgKyBcIiQxJyB0YXJnZXQ9J19ibGFuayc+JDE8L2E+XCIgK1xuICAgIFwiPGEgaHJlZj0nXCIgKyBoZWxwaW5nV2l0aENyYXNoZXNBcnRpY2xlICsgXCInIHRhcmdldD0nX2JsYW5rJz5cIiArXG4gICAgXCI8aW1nIHNyYz0nXCIgKyBpY29uUGF0aCArIFwiJz48L2ltZz48L2E+PC9zcGFuPlwiO1xuXG4gICAgY29udGFpbmVyLmh0bWwoY29udGFpbmVyLmh0bWwoKS5yZXBsYWNlKGNyYXNoSURSZWdleCwgY3Jhc2hSZXBvcnRDb250YWluZXIpKTtcbiAgfVxuXG4gIC8vIEZvciB0ZXN0aW5nIHB1cnBvc2VzIG9ubHk6XG4gIGsubGlua0NyYXNoSWRzID0gbGlua0NyYXNoSWRzO1xuXG4gIC8qXG4gICogSW5pdGlhbGl6ZSB0aGUgYXV0b21hdGljIGxpbmtpbmcgb2YgY3Jhc2ggSURzXG4gICovXG4gIGZ1bmN0aW9uIGluaXRDcmFzaElkTGlua2luZygpIHtcbiAgICB2YXIgcG9zdENvbnRlbnRzID0gJCgnLnF1ZXN0aW9uIC5tYWluLWNvbnRlbnQsIC5hbnN3ZXIgLm1haW4tY29udGVudCwgI21vcmUtc3lzdGVtLWRldGFpbHMnKTtcbiAgICBwb3N0Q29udGVudHMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgIGxpbmtDcmFzaElkcygkKHRoaXMpKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXRSZXBseVRvQW5zd2VyKCkge1xuICAgICQoJ2EucXVvdGVkLXJlcGx5JykuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgY29udGVudElkID0gJCh0aGlzKS5kYXRhKCdjb250ZW50LWlkJyksXG4gICAgICAgICRjb250ZW50ID0gJCgnIycgKyBjb250ZW50SWQpLFxuICAgICAgICB0ZXh0ID0gJGNvbnRlbnQuZmluZCgnLmNvbnRlbnQtcmF3JykudGV4dCgpLFxuICAgICAgICB1c2VyID0gJGNvbnRlbnQuZmluZCgnLmF1dGhvci1uYW1lJykudGV4dCgpLFxuICAgICAgICByZXBseSA9IHRlbXBsYXRlKFwiJyd7dXNlcn0gW1sje2NvbnRlbnRJZH18e3NhaWR9XV0nJ1xcbjxibG9ja3F1b3RlPlxcbnt0ZXh0fVxcbjwvYmxvY2txdW90ZT5cXG5cXG5cIiksXG4gICAgICAgIHJlcGx5X3RleHQsXG4gICAgICAgICR0ZXh0YXJlYSA9ICQoJyNpZF9jb250ZW50JyksXG4gICAgICAgIG9sZHRleHQgPSAkdGV4dGFyZWEudmFsKCk7XG5cbiAgICAgIHJlcGx5X3RleHQgPSByZXBseSh7J3VzZXInOiB1c2VyLCAnY29udGVudElkJzogY29udGVudElkLCAndGV4dCc6IHRleHQsICdzYWlkJzogZ2V0dGV4dCgnc2FpZCcpfSk7XG5cbiAgICAgICR0ZXh0YXJlYS52YWwob2xkdGV4dCArIHJlcGx5X3RleHQpO1xuXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAkdGV4dGFyZWEuZm9jdXMoKTtcbiAgICAgIH0sIDEwKTtcblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSk7XG4gIH1cblxuICAkKGRvY3VtZW50KS5yZWFkeShpbml0KTtcblxufSkoalF1ZXJ5KTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/app/kitsune/sumo/static/sumo/js/questions.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/app/kitsune/sumo/static/sumo/js/questions.js",
      "sourcesContent": [
        "/* globals trackEvent:false, k:false, _:false, Marky:false, AAQSystemInfo:false, KBox:false, gettext:false, template:false, jQuery:false */\n/*\n* questions.js\n* Scripts for the questions app.\n*/\n\n// TODO: Figure out how to break out the functionality here into\n// testable parts.\n\n(function($) {\n\n  function init() {\n    var $body = $('body');\n\n    if ($body.is('.new-question')) {\n      initNewQuestion();\n\n      if (window.location.search.indexOf('step=aaq-register') > -1) {\n        trackEvent('Ask A Question Flow', 'step 1 page');\n      } else if (window.location.search.indexOf('step=aaq-question') > -1) {\n        trackEvent('Ask A Question Flow', 'step 2 page');\n      }\n    }\n\n    if ($body.is('.questions')) {\n      initTagFilterToggle();\n\n      $('#flag-filter input[type=\"checkbox\"]').on('click', function() {\n        window.location = $(this).data('url');\n      });\n\n      if (window.location.pathname.indexOf('questions/new/confirm') > -1) {\n        trackEvent('Ask A Question Flow', 'step 3 confirm page');\n      }\n    }\n\n    if ($body.is('.answers')) {\n      // Put last search query into search box\n      $('#support-search input[name=q]')\n      .val(k.unquote($.cookie('last_search')));\n\n      function takeQuestion() {\n        if ($(this).val().length > 0) {\n          var $form = $(this).closest('form');\n          var url = $form.data('take-question-url');\n          var csrftoken = $('input[name=csrfmiddlewaretoken]').val();\n          $.ajax({\n            url: url,\n            method: 'POST',\n            beforeSend: function(xhr, settings) {\n              xhr.setRequestHeader('X-CSRFToken', csrftoken);\n            }\n          });\n        }\n      }\n\n      $('#id_content').on('keyup', _.throttle(takeQuestion, 1000));\n\n      $(document).on('click', '#details-edit', function(ev) {\n        ev.preventDefault();\n        $('#question-details').addClass('editing');\n      });\n\n      initHaveThisProblemTooAjax();\n      initHelpfulVote();\n      initCrashIdLinking();\n      initEditDetails();\n      addReferrerAndQueryToVoteForm();\n      initReplyToAnswer();\n      new k.AjaxPreview($('#preview')); // eslint-disable-line\n    }\n\n    Marky.createSimpleToolbar('.editor-tools', '#reply-content, #id_content', {cannedResponses: !$body.is('.new-question')});\n\n    // product selector page reloading\n    $('#product-selector select').on('change', function() {\n      var val = $(this).val();\n      var queryParams = k.getQueryParamsAsDict(document.location.toString());\n\n      if (val === '') {\n        delete queryParams.product;\n      } else {\n        queryParams.product = val;\n      }\n      document.location = document.location.pathname + '?' + $.param(queryParams);\n    });\n\n    // topic selector page reloading\n    $('#topic-selector select').on('change', function() {\n      var val = $(this).val();\n      var queryParams = k.getQueryParamsAsDict(document.location.toString());\n\n      if (val === '') {\n        delete queryParams.topic;\n      } else {\n        queryParams.topic = val;\n      }\n      document.location = document.location.pathname + '?' + $.param(queryParams);\n    });\n\n  }\n\n  /*\n  * Initialize the new question page/form\n  */\n  function initNewQuestion() {\n    var $questionForm = $('#question-form');\n    var aaq = new AAQSystemInfo($questionForm);\n    hideDetails($questionForm, aaq);\n  }\n\n  function isLoggedIn() {\n    return $('#greeting span.user').length > 0;\n  }\n\n  // Handle changes to the details for a question\n  function initEditDetails() {\n    $('#details-product').on('change', function() {\n      var $selected;\n\n      $(this).children().each(function() {\n        if (this.selected) {\n          $selected = $(this);\n        }\n      });\n\n      $('#details-topic').children().remove();\n      $('#details-submit').prop('disabled', true);\n\n      $.ajax($selected.data('url'), {\n        'dataType': 'json',\n        'success': function(data) {\n          for (var i = 0; i < data.topics.length; i++) {\n            var topic = data.topics[i];\n            var $opt = $('<option />');\n\n            $opt.attr('value', topic.id);\n            $opt.text(topic.title);\n\n            $('#details-topic').append($opt);\n          }\n          $('#details-submit').prop('disabled', false);\n        }\n      });\n    });\n  }\n\n  // Hide the browser/system details for users on FF with js enabled\n  // and are submitting a question for FF on desktop.\n  function hideDetails($form, aaq) {\n    $form.find('ul').addClass('hide-details');\n    $form.find('a.show, a.hide').click(function(ev) {\n      ev.preventDefault();\n      $(this).closest('li')\n      .toggleClass('show')\n      .toggleClass('hide')\n      .closest('ul')\n      .toggleClass('show-details');\n    });\n\n    if (!aaq.isDesktopFF() && !aaq.isMobileFF() && !aaq.isFirefoxOS()) {\n      $form.find('li.system-details-info').hide();\n    }\n  }\n\n  /*\n  * Ajaxify any \"I have this problem too\" forms (may be multiple per page)\n  */\n  function initHaveThisProblemTooAjax() {\n    var $container = $('#question div.me-too, .question-tools div.me-too');\n\n    // ajaxify each form individually so the resulting kbox attaches to\n    // the correct DOM element\n    $container.each(function() {\n      initAjaxForm($(this), 'form', '#vote-thanks');\n    });\n\n    $container.find('input').click(function() {\n      $(this).attr('disabled', 'disabled');\n    });\n\n    // closing or cancelling the kbox on any of the forms should remove\n    // all of them\n    $container.delegate('.kbox-close, .kbox-cancel', 'click', function(ev) {\n      ev.preventDefault();\n      $container.unbind().remove();\n    });\n  }\n\n  function addReferrerAndQueryToVoteForm() {\n    // Add the source/referrer and query terms to the helpful vote form\n    var urlParams = k.getQueryParamsAsDict(),\n      referrer = k.getReferrer(urlParams),\n      query = k.getSearchQuery(urlParams, referrer);\n    $('form.helpful, .me-too form')\n    .append($('<input type=\"hidden\" name=\"referrer\"/>')\n    .attr('value', referrer))\n    .append($('<input type=\"hidden\" name=\"query\"/>')\n    .attr('value', query));\n  }\n\n  /*\n  * Ajaxify the Helpful/Not Helpful form\n  */\n  function initHelpfulVote() {\n    $('li.answer div.side-section, .answer-tools').each(function() {\n      new k.AjaxVote($(this).find('form.helpful'), { // eslint-disable-line\n        positionMessage: true,\n        removeForm: true\n      });\n    });\n  }\n\n  // Helper\n  function initAjaxForm($container, formSelector, boxSelector, onKboxClose) {\n    $container.delegate(formSelector, 'submit', function(ev) {\n      ev.preventDefault();\n      var $form = $(this);\n      var url = $form.attr('action');\n      var data = $form.serialize();\n\n      $.ajax({\n        url: url,\n        type: 'POST',\n        data: data,\n        dataType: 'json',\n        success: function(response) {\n          if (response.html) {\n            if ($(boxSelector).length === 0) {\n              // We don't have a modal set up yet.\n              var kbox = new KBox(response.html, {\n                container: $container,\n                preClose: onKboxClose\n              });\n              kbox.open();\n            } else {\n              $(boxSelector).html($(response.html).children());\n            }\n          } else if (response.message) {\n            var html = '<div class=\"msg\"></div>';\n            $(boxSelector)\n            .html(html)\n            .find('.msg').text(response.message);\n          }\n\n          if (!response.ignored) {\n            // Trigger a document event for others to listen for.\n            $(document).trigger('vote', $.extend(data, {url: url}));\n          }\n        },\n        error: function() {\n          var message = gettext('There was an error.');\n          alert(message); // eslint-disable-line\n        }\n      });\n\n      return false;\n    });\n  }\n\n  function initTagFilterToggle() {\n    $('#toggle-tag-filter').click(function(e) {\n      e.preventDefault();\n      $('#tag-filter').slideToggle('fast');  // CSS3: Y U NO TRANSITION TO `height: auto;`?\n      $(this).toggleClass('off');\n    });\n  }\n\n  /*\n  * Links all crash IDs found in the passed HTML container elements\n  */\n  function linkCrashIds(container) {\n    if (!container) {\n      return;\n    }\n    var crashIDRegex = new RegExp('(bp-[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12})', 'g');\n    var crashStatsBase = 'https://crash-stats.mozilla.com/report/index/';\n    var helpingWithCrashesArticle = '/kb/helping-crashes';\n    var iconPath = $('body').data('static-url') + 'sumo/img/questions/icon.questionmark.png';\n    var crashReportContainer =\n    \"<span class='crash-report'>\" +\n    \"<a href='\" + crashStatsBase + \"$1' target='_blank'>$1</a>\" +\n    \"<a href='\" + helpingWithCrashesArticle + \"' target='_blank'>\" +\n    \"<img src='\" + iconPath + \"'></img></a></span>\";\n\n    container.html(container.html().replace(crashIDRegex, crashReportContainer));\n  }\n\n  // For testing purposes only:\n  k.linkCrashIds = linkCrashIds;\n\n  /*\n  * Initialize the automatic linking of crash IDs\n  */\n  function initCrashIdLinking() {\n    var postContents = $('.question .main-content, .answer .main-content, #more-system-details');\n    postContents.each(function() {\n      linkCrashIds($(this));\n    });\n  }\n\n  function initReplyToAnswer() {\n    $('a.quoted-reply').click(function() {\n      var contentId = $(this).data('content-id'),\n        $content = $('#' + contentId),\n        text = $content.find('.content-raw').text(),\n        user = $content.find('.author-name').text(),\n        reply = template(\"''{user} [[#{contentId}|{said}]]''\\n<blockquote>\\n{text}\\n</blockquote>\\n\\n\"),\n        reply_text,\n        $textarea = $('#id_content'),\n        oldtext = $textarea.val();\n\n      reply_text = reply({'user': user, 'contentId': contentId, 'text': text, 'said': gettext('said')});\n\n      $textarea.val(oldtext + reply_text);\n\n      setTimeout(function() {\n        $textarea.focus();\n      }, 10);\n\n      return true;\n    });\n  }\n\n  $(document).ready(init);\n\n})(jQuery);\n"
      ]
    },
    "mtime": 1561057444000
  },
  "{\"filename\":\"/app/kitsune/sumo/static/sumo/js/nunjucks.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":2,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "/* global nunjucks:false, gettext:false, ngettext:false, interpolate:false, k:false, jQuery:false */\n'use strict';\n\n(function ($) {\n  window.k = window.k || {};\n\n  var env = nunjucks.configure({ autoescape: true });\n\n  env.addGlobal('_', gettext);\n  env.addGlobal('ngettext', window.ngettext);\n\n  env.addFilter('f', function (fmt, obj, named) {\n    var keys = Object.keys(obj);\n    var escape = env.getFilter('escape');\n\n    for (var i = 0; i < keys.length; i++) {\n      obj[keys[i]] = escape(obj[keys[i]]);\n    }\n\n    return interpolate(fmt, obj, named);\n  });\n\n  env.addFilter('urlparams', function (url, params) {\n    if (url) {\n      var i;\n      var base = url.split('?')[0];\n      var qs = url.split('?')[1] || '';\n      qs = qs.split('&');\n\n      var old_params = {};\n      for (i = 0; i < qs.length; i++) {\n        var s = qs[i].split('=');\n        old_params[s.shift()] = s.join('=');\n      }\n\n      params = $.extend({}, old_params, params);\n\n      url = base;\n      var keys = Object.keys(params);\n      for (i = 0; i < keys.length; i++) {\n        url += url.indexOf('?') === -1 ? '?' : '&';\n        url += keys[i];\n        var val = params[keys[i]];\n        if (val !== undefined && val !== null && val !== '') {\n          url += '=' + val;\n        }\n      }\n\n      return url;\n    }\n  });\n\n  env.addFilter('class_selected', function (v1, v2) {\n    if (v1 === v2) {\n      return ' class=\"selected\" ';\n    }\n    return '';\n  });\n\n  env.addFilter('stringify', function (obj) {\n    return JSON.stringify(obj);\n  });\n\n  env.addFilter('encodeURI', function (uri) {\n    return encodeURI(uri);\n  });\n\n  k.nunjucksEnv = env;\n})(jQuery);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9hcHAva2l0c3VuZS9zdW1vL3N0YXRpYy9zdW1vL2pzL251bmp1Y2tzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUNBLENBQUMsVUFBUyxDQUFDLEVBQUU7QUFDWCxRQUFNLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDOztBQUUxQixNQUFJLEdBQUcsR0FBRyxRQUFRLENBQUMsU0FBUyxDQUFDLEVBQUMsVUFBVSxFQUFFLElBQUksRUFBQyxDQUFDLENBQUM7O0FBRWpELEtBQUcsQ0FBQyxTQUFTLENBQUMsR0FBRyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQzVCLEtBQUcsQ0FBQyxTQUFTLENBQUMsVUFBVSxFQUFFLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQzs7QUFFM0MsS0FBRyxDQUFDLFNBQVMsQ0FBQyxHQUFHLEVBQUUsVUFBUyxHQUFHLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRTtBQUMzQyxRQUFJLElBQUksR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQzVCLFFBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLENBQUM7O0FBRXJDLFNBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO0FBQ3BDLFNBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7S0FDckM7O0FBRUQsV0FBTyxXQUFXLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQztHQUNyQyxDQUFDLENBQUM7O0FBRUgsS0FBRyxDQUFDLFNBQVMsQ0FBQyxXQUFXLEVBQUUsVUFBUyxHQUFHLEVBQUUsTUFBTSxFQUFFO0FBQy9DLFFBQUksR0FBRyxFQUFFO0FBQ1AsVUFBSSxDQUFDLENBQUM7QUFDTixVQUFJLElBQUksR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQzdCLFVBQUksRUFBRSxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ2pDLFFBQUUsR0FBRyxFQUFFLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDOztBQUVuQixVQUFJLFVBQVUsR0FBRyxFQUFFLENBQUM7QUFDcEIsV0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO0FBQzlCLFlBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDekIsa0JBQVUsQ0FBQyxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO09BQ3JDOztBQUVELFlBQU0sR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLEVBQUUsRUFBRSxVQUFVLEVBQUUsTUFBTSxDQUFDLENBQUM7O0FBRTFDLFNBQUcsR0FBRyxJQUFJLENBQUM7QUFDWCxVQUFJLElBQUksR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQy9CLFdBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUNoQyxXQUFHLElBQUksQUFBQyxHQUFHLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFJLEdBQUcsR0FBRyxHQUFHLENBQUM7QUFDN0MsV0FBRyxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNmLFlBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUMxQixZQUFJLEdBQUcsS0FBSyxTQUFTLElBQUksR0FBRyxLQUFLLElBQUksSUFBSSxHQUFHLEtBQUssRUFBRSxFQUFFO0FBQ25ELGFBQUcsSUFBSSxHQUFHLEdBQUcsR0FBRyxDQUFDO1NBQ2xCO09BQ0Y7O0FBRUQsYUFBTyxHQUFHLENBQUM7S0FDWjtHQUNGLENBQUMsQ0FBQzs7QUFFSCxLQUFHLENBQUMsU0FBUyxDQUFDLGdCQUFnQixFQUFFLFVBQVMsRUFBRSxFQUFFLEVBQUUsRUFBRTtBQUMvQyxRQUFJLEVBQUUsS0FBSyxFQUFFLEVBQUU7QUFDYixhQUFPLG9CQUFvQixDQUFDO0tBQzdCO0FBQ0QsV0FBTyxFQUFFLENBQUM7R0FDWCxDQUFDLENBQUM7O0FBRUgsS0FBRyxDQUFDLFNBQVMsQ0FBQyxXQUFXLEVBQUUsVUFBUyxHQUFHLEVBQUU7QUFDdkMsV0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0dBQzVCLENBQUMsQ0FBQzs7QUFFSCxLQUFHLENBQUMsU0FBUyxDQUFDLFdBQVcsRUFBRSxVQUFTLEdBQUcsRUFBRTtBQUN2QyxXQUFPLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQztHQUN2QixDQUFDLENBQUM7O0FBRUgsR0FBQyxDQUFDLFdBQVcsR0FBRyxHQUFHLENBQUM7Q0FDckIsQ0FBQSxDQUFFLE1BQU0sQ0FBQyxDQUFDIiwiZmlsZSI6Ii9hcHAva2l0c3VuZS9zdW1vL3N0YXRpYy9zdW1vL2pzL251bmp1Y2tzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogZ2xvYmFsIG51bmp1Y2tzOmZhbHNlLCBnZXR0ZXh0OmZhbHNlLCBuZ2V0dGV4dDpmYWxzZSwgaW50ZXJwb2xhdGU6ZmFsc2UsIGs6ZmFsc2UsIGpRdWVyeTpmYWxzZSAqL1xuKGZ1bmN0aW9uKCQpIHtcbiAgd2luZG93LmsgPSB3aW5kb3cuayB8fCB7fTtcblxuICB2YXIgZW52ID0gbnVuanVja3MuY29uZmlndXJlKHthdXRvZXNjYXBlOiB0cnVlfSk7XG5cbiAgZW52LmFkZEdsb2JhbCgnXycsIGdldHRleHQpO1xuICBlbnYuYWRkR2xvYmFsKCduZ2V0dGV4dCcsIHdpbmRvdy5uZ2V0dGV4dCk7XG5cbiAgZW52LmFkZEZpbHRlcignZicsIGZ1bmN0aW9uKGZtdCwgb2JqLCBuYW1lZCkge1xuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgICB2YXIgZXNjYXBlID0gZW52LmdldEZpbHRlcignZXNjYXBlJyk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIG9ialtrZXlzW2ldXSA9IGVzY2FwZShvYmpba2V5c1tpXV0pO1xuICAgIH1cblxuICAgIHJldHVybiBpbnRlcnBvbGF0ZShmbXQsIG9iaiwgbmFtZWQpO1xuICB9KTtcblxuICBlbnYuYWRkRmlsdGVyKCd1cmxwYXJhbXMnLCBmdW5jdGlvbih1cmwsIHBhcmFtcykge1xuICAgIGlmICh1cmwpIHtcbiAgICAgIHZhciBpO1xuICAgICAgdmFyIGJhc2UgPSB1cmwuc3BsaXQoJz8nKVswXTtcbiAgICAgIHZhciBxcyA9IHVybC5zcGxpdCgnPycpWzFdIHx8ICcnO1xuICAgICAgcXMgPSBxcy5zcGxpdCgnJicpO1xuXG4gICAgICB2YXIgb2xkX3BhcmFtcyA9IHt9O1xuICAgICAgZm9yIChpID0gMDsgaSA8IHFzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBzID0gcXNbaV0uc3BsaXQoJz0nKTtcbiAgICAgICAgb2xkX3BhcmFtc1tzLnNoaWZ0KCldID0gcy5qb2luKCc9Jyk7XG4gICAgICB9XG5cbiAgICAgIHBhcmFtcyA9ICQuZXh0ZW5kKHt9LCBvbGRfcGFyYW1zLCBwYXJhbXMpO1xuXG4gICAgICB1cmwgPSBiYXNlO1xuICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhwYXJhbXMpO1xuICAgICAgZm9yIChpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdXJsICs9ICh1cmwuaW5kZXhPZignPycpID09PSAtMSkgPyAnPycgOiAnJic7XG4gICAgICAgIHVybCArPSBrZXlzW2ldO1xuICAgICAgICB2YXIgdmFsID0gcGFyYW1zW2tleXNbaV1dO1xuICAgICAgICBpZiAodmFsICE9PSB1bmRlZmluZWQgJiYgdmFsICE9PSBudWxsICYmIHZhbCAhPT0gJycpIHtcbiAgICAgICAgICB1cmwgKz0gJz0nICsgdmFsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB1cmw7XG4gICAgfVxuICB9KTtcblxuICBlbnYuYWRkRmlsdGVyKCdjbGFzc19zZWxlY3RlZCcsIGZ1bmN0aW9uKHYxLCB2Mikge1xuICAgIGlmICh2MSA9PT0gdjIpIHtcbiAgICAgIHJldHVybiAnIGNsYXNzPVwic2VsZWN0ZWRcIiAnO1xuICAgIH1cbiAgICByZXR1cm4gJyc7XG4gIH0pO1xuXG4gIGVudi5hZGRGaWx0ZXIoJ3N0cmluZ2lmeScsIGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShvYmopO1xuICB9KTtcblxuICBlbnYuYWRkRmlsdGVyKCdlbmNvZGVVUkknLCBmdW5jdGlvbih1cmkpIHtcbiAgICByZXR1cm4gZW5jb2RlVVJJKHVyaSk7XG4gIH0pO1xuXG4gIGsubnVuanVja3NFbnYgPSBlbnY7XG59KShqUXVlcnkpO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/app/kitsune/sumo/static/sumo/js/nunjucks.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/app/kitsune/sumo/static/sumo/js/nunjucks.js",
      "sourcesContent": [
        "/* global nunjucks:false, gettext:false, ngettext:false, interpolate:false, k:false, jQuery:false */\n(function($) {\n  window.k = window.k || {};\n\n  var env = nunjucks.configure({autoescape: true});\n\n  env.addGlobal('_', gettext);\n  env.addGlobal('ngettext', window.ngettext);\n\n  env.addFilter('f', function(fmt, obj, named) {\n    var keys = Object.keys(obj);\n    var escape = env.getFilter('escape');\n\n    for (var i = 0; i < keys.length; i++) {\n      obj[keys[i]] = escape(obj[keys[i]]);\n    }\n\n    return interpolate(fmt, obj, named);\n  });\n\n  env.addFilter('urlparams', function(url, params) {\n    if (url) {\n      var i;\n      var base = url.split('?')[0];\n      var qs = url.split('?')[1] || '';\n      qs = qs.split('&');\n\n      var old_params = {};\n      for (i = 0; i < qs.length; i++) {\n        var s = qs[i].split('=');\n        old_params[s.shift()] = s.join('=');\n      }\n\n      params = $.extend({}, old_params, params);\n\n      url = base;\n      var keys = Object.keys(params);\n      for (i = 0; i < keys.length; i++) {\n        url += (url.indexOf('?') === -1) ? '?' : '&';\n        url += keys[i];\n        var val = params[keys[i]];\n        if (val !== undefined && val !== null && val !== '') {\n          url += '=' + val;\n        }\n      }\n\n      return url;\n    }\n  });\n\n  env.addFilter('class_selected', function(v1, v2) {\n    if (v1 === v2) {\n      return ' class=\"selected\" ';\n    }\n    return '';\n  });\n\n  env.addFilter('stringify', function(obj) {\n    return JSON.stringify(obj);\n  });\n\n  env.addFilter('encodeURI', function(uri) {\n    return encodeURI(uri);\n  });\n\n  k.nunjucksEnv = env;\n})(jQuery);\n"
      ]
    },
    "mtime": 1561057444000
  },
  "{\"filename\":\"/app/kitsune/sumo/static/sumo/js/i18n.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":2,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "/* globals gettext:true, ngettext:true, interpolate:true */\n/*\n* JavaScript localization fallback for when, say, our messages.[po/mo] are\n* broken.\n*\n* These are largely copied from Django's jsi18n, except they don't reply on\n* the catalog global variable.\n*\n* Include this __after__ the Django script.\n*/\n'use strict';\n\nif (typeof window.gettext === 'undefined') {\n  window.gettext = function (msgid) {\n    return msgid;\n  };\n}\nif (typeof window.ngettext === 'undefined') {\n  window.ngettext = function (singular, plural, count) {\n    return count === 1 ? singular : plural;\n  };\n}\nif (typeof window.interpolate === 'undefined') {\n  window.interpolate = function (fmt, obj, named) {\n    if (named) {\n      return fmt.replace(/%\\(\\w+\\)s/g, function (match) {\n        return String(obj[match.slice(2, -2)]);\n      });\n    } else {\n      return fmt.replace(/%s/g, function (match) {\n        return String(obj.shift());\n      });\n    }\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9hcHAva2l0c3VuZS9zdW1vL3N0YXRpYy9zdW1vL2pzL2kxOG4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBVUEsSUFBSSxPQUFPLE1BQU0sQ0FBQyxPQUFPLEtBQUssV0FBVyxFQUFFO0FBQ3pDLFFBQU0sQ0FBQyxPQUFPLEdBQUcsVUFBVSxLQUFLLEVBQUU7QUFDaEMsV0FBTyxLQUFLLENBQUM7R0FDZCxDQUFDO0NBQ0g7QUFDRCxJQUFJLE9BQU8sTUFBTSxDQUFDLFFBQVEsS0FBSyxXQUFXLEVBQUU7QUFDMUMsUUFBTSxDQUFDLFFBQVEsR0FBRyxVQUFVLFFBQVEsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFO0FBQ25ELFdBQU8sQUFBQyxLQUFLLEtBQUssQ0FBQyxHQUFJLFFBQVEsR0FBRyxNQUFNLENBQUM7R0FDMUMsQ0FBQztDQUNIO0FBQ0QsSUFBSSxPQUFPLE1BQU0sQ0FBQyxXQUFXLEtBQUssV0FBVyxFQUFFO0FBQzdDLFFBQU0sQ0FBQyxXQUFXLEdBQUcsVUFBVSxHQUFHLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRTtBQUM5QyxRQUFJLEtBQUssRUFBRTtBQUNULGFBQU8sR0FBRyxDQUFDLE9BQU8sQ0FBQyxZQUFZLEVBQUUsVUFBUyxLQUFLLEVBQUU7QUFDL0MsZUFBTyxNQUFNLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO09BQ3hDLENBQUMsQ0FBQztLQUNKLE1BQU07QUFDTCxhQUFPLEdBQUcsQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLFVBQVMsS0FBSyxFQUFFO0FBQ3hDLGVBQU8sTUFBTSxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDO09BQzVCLENBQUMsQ0FBQztLQUNKO0dBQ0YsQ0FBQztDQUNIIiwiZmlsZSI6Ii9hcHAva2l0c3VuZS9zdW1vL3N0YXRpYy9zdW1vL2pzL2kxOG4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBnbG9iYWxzIGdldHRleHQ6dHJ1ZSwgbmdldHRleHQ6dHJ1ZSwgaW50ZXJwb2xhdGU6dHJ1ZSAqL1xuLypcbiogSmF2YVNjcmlwdCBsb2NhbGl6YXRpb24gZmFsbGJhY2sgZm9yIHdoZW4sIHNheSwgb3VyIG1lc3NhZ2VzLltwby9tb10gYXJlXG4qIGJyb2tlbi5cbipcbiogVGhlc2UgYXJlIGxhcmdlbHkgY29waWVkIGZyb20gRGphbmdvJ3MganNpMThuLCBleGNlcHQgdGhleSBkb24ndCByZXBseSBvblxuKiB0aGUgY2F0YWxvZyBnbG9iYWwgdmFyaWFibGUuXG4qXG4qIEluY2x1ZGUgdGhpcyBfX2FmdGVyX18gdGhlIERqYW5nbyBzY3JpcHQuXG4qL1xuaWYgKHR5cGVvZiB3aW5kb3cuZ2V0dGV4dCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgd2luZG93LmdldHRleHQgPSBmdW5jdGlvbiAobXNnaWQpIHtcbiAgICByZXR1cm4gbXNnaWQ7XG4gIH07XG59XG5pZiAodHlwZW9mIHdpbmRvdy5uZ2V0dGV4dCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgd2luZG93Lm5nZXR0ZXh0ID0gZnVuY3Rpb24gKHNpbmd1bGFyLCBwbHVyYWwsIGNvdW50KSB7XG4gICAgcmV0dXJuIChjb3VudCA9PT0gMSkgPyBzaW5ndWxhciA6IHBsdXJhbDtcbiAgfTtcbn1cbmlmICh0eXBlb2Ygd2luZG93LmludGVycG9sYXRlID09PSAndW5kZWZpbmVkJykge1xuICB3aW5kb3cuaW50ZXJwb2xhdGUgPSBmdW5jdGlvbiAoZm10LCBvYmosIG5hbWVkKSB7XG4gICAgaWYgKG5hbWVkKSB7XG4gICAgICByZXR1cm4gZm10LnJlcGxhY2UoLyVcXChcXHcrXFwpcy9nLCBmdW5jdGlvbihtYXRjaCkge1xuICAgICAgICByZXR1cm4gU3RyaW5nKG9ialttYXRjaC5zbGljZSgyLCAtMildKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZm10LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uKG1hdGNoKSB7XG4gICAgICAgIHJldHVybiBTdHJpbmcob2JqLnNoaWZ0KCkpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xufVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/app/kitsune/sumo/static/sumo/js/i18n.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;;;;;AAUA,IAAI,OAAO,MAAM,CAAC,OAAO,KAAK,WAAW,EAAE;AACzC,QAAM,CAAC,OAAO,GAAG,UAAU,KAAK,EAAE;AAChC,WAAO,KAAK,CAAC;GACd,CAAC;CACH;AACD,IAAI,OAAO,MAAM,CAAC,QAAQ,KAAK,WAAW,EAAE;AAC1C,QAAM,CAAC,QAAQ,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE,KAAK,EAAE;AACnD,WAAO,AAAC,KAAK,KAAK,CAAC,GAAI,QAAQ,GAAG,MAAM,CAAC;GAC1C,CAAC;CACH;AACD,IAAI,OAAO,MAAM,CAAC,WAAW,KAAK,WAAW,EAAE;AAC7C,QAAM,CAAC,WAAW,GAAG,UAAU,GAAG,EAAE,GAAG,EAAE,KAAK,EAAE;AAC9C,QAAI,KAAK,EAAE;AACT,aAAO,GAAG,CAAC,OAAO,CAAC,YAAY,EAAE,UAAS,KAAK,EAAE;AAC/C,eAAO,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;OACxC,CAAC,CAAC;KACJ,MAAM;AACL,aAAO,GAAG,CAAC,OAAO,CAAC,KAAK,EAAE,UAAS,KAAK,EAAE;AACxC,eAAO,MAAM,CAAC,GAAG,CAAC,KAAK,EAAE,CAAC,CAAC;OAC5B,CAAC,CAAC;KACJ;GACF,CAAC;CACH",
      "file": "/app/kitsune/sumo/static/sumo/js/i18n.js",
      "sourcesContent": [
        "/* globals gettext:true, ngettext:true, interpolate:true */\n/*\n* JavaScript localization fallback for when, say, our messages.[po/mo] are\n* broken.\n*\n* These are largely copied from Django's jsi18n, except they don't reply on\n* the catalog global variable.\n*\n* Include this __after__ the Django script.\n*/\nif (typeof window.gettext === 'undefined') {\n  window.gettext = function (msgid) {\n    return msgid;\n  };\n}\nif (typeof window.ngettext === 'undefined') {\n  window.ngettext = function (singular, plural, count) {\n    return (count === 1) ? singular : plural;\n  };\n}\nif (typeof window.interpolate === 'undefined') {\n  window.interpolate = function (fmt, obj, named) {\n    if (named) {\n      return fmt.replace(/%\\(\\w+\\)s/g, function(match) {\n        return String(obj[match.slice(2, -2)]);\n      });\n    } else {\n      return fmt.replace(/%s/g, function(match) {\n        return String(obj.shift());\n      });\n    }\n  };\n}\n"
      ]
    },
    "mtime": 1561057444000
  },
  "{\"filename\":\"/app/kitsune/sumo/static/sumo/js/search_utils.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":2,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "/* globals k:false, jQuery:false */\n'use strict';\n\n(function ($, _) {\n  window.k = k || {};\n\n  var cxhr = new k.CachedXHR();\n\n  function Search(baseUrl, params) {\n    this.baseUrl = baseUrl;\n    this.params = $.extend({}, params);\n  }\n\n  Search.prototype._buildQueryUrl = function (query, params) {\n    var url = this.baseUrl + '?q=' + query;\n    if (params) {\n      url += '&' + params;\n    }\n    return url;\n  };\n\n  Search.prototype.setParam = function (key, value) {\n    this.params[key] = value;\n    return this;\n  };\n\n  Search.prototype.setParams = function (params) {\n    $.extend(this.params, params);\n    return this;\n  };\n\n  Search.prototype.getParam = function (key) {\n    return this.params[key];\n  };\n\n  Search.prototype.unsetParam = function (key) {\n    delete this.params[key];\n    return this;\n  };\n\n  Search.prototype.clearLastQuery = function () {\n    this.lastQuery = '';\n    this.lastParams = '';\n  };\n\n  Search.prototype.hasLastQuery = function () {\n    return !!this.lastQuery;\n  };\n\n  Search.prototype.lastQueryUrl = function () {\n    return this._buildQueryUrl(this.lastQuery, this.lastParams);\n  };\n\n  Search.prototype.queryUrl = function (query) {\n    return this._buildQueryUrl(this.lastQuery, this.serializeParams());\n  };\n\n  Search.prototype.serializeParams = function (extra) {\n    var params = $.extend({}, this.params, extra);\n    var keys = Object.keys(params);\n    var paramStrings = [];\n    $(keys).each(function () {\n      paramStrings.push(this + '=' + params[this]);\n    });\n    return paramStrings.join('&');\n  };\n\n  Search.prototype.query = function (string, callback) {\n    var data = $.extend({}, this.params, { q: string });\n\n    this.lastQuery = string;\n    this.lastParams = this.serializeParams({ q: string });\n\n    cxhr.request(this.baseUrl, {\n      cacheKey: this.lastParams,\n      data: data,\n      dataType: 'json',\n      success: callback\n    });\n\n    return this;\n  };\n\n  k.Search = Search;\n})(jQuery, k.nunjucksEnv);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9hcHAva2l0c3VuZS9zdW1vL3N0YXRpYy9zdW1vL2pzL3NlYXJjaF91dGlscy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFDQSxDQUFDLFVBQVMsQ0FBQyxFQUFFLENBQUMsRUFBRTtBQUNkLFFBQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQzs7QUFFbkIsTUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLENBQUMsU0FBUyxFQUFFLENBQUM7O0FBRTdCLFdBQVMsTUFBTSxDQUFDLE9BQU8sRUFBRSxNQUFNLEVBQUU7QUFDL0IsUUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7QUFDdkIsUUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLEVBQUUsRUFBRSxNQUFNLENBQUMsQ0FBQztHQUNwQzs7QUFFRCxRQUFNLENBQUMsU0FBUyxDQUFDLGNBQWMsR0FBRyxVQUFTLEtBQUssRUFBRSxNQUFNLEVBQUU7QUFDeEQsUUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLE9BQU8sR0FBRyxLQUFLLEdBQUcsS0FBSyxDQUFDO0FBQ3ZDLFFBQUksTUFBTSxFQUFFO0FBQ1YsU0FBRyxJQUFJLEdBQUcsR0FBRyxNQUFNLENBQUM7S0FDckI7QUFDRCxXQUFPLEdBQUcsQ0FBQztHQUNaLENBQUM7O0FBRUYsUUFBTSxDQUFDLFNBQVMsQ0FBQyxRQUFRLEdBQUcsVUFBUyxHQUFHLEVBQUUsS0FBSyxFQUFFO0FBQy9DLFFBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxDQUFDO0FBQ3pCLFdBQU8sSUFBSSxDQUFDO0dBQ2IsQ0FBQzs7QUFFRixRQUFNLENBQUMsU0FBUyxDQUFDLFNBQVMsR0FBRyxVQUFTLE1BQU0sRUFBRTtBQUM1QyxLQUFDLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLENBQUM7QUFDOUIsV0FBTyxJQUFJLENBQUM7R0FDYixDQUFDOztBQUVGLFFBQU0sQ0FBQyxTQUFTLENBQUMsUUFBUSxHQUFHLFVBQVMsR0FBRyxFQUFFO0FBQ3hDLFdBQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztHQUN6QixDQUFDOztBQUVGLFFBQU0sQ0FBQyxTQUFTLENBQUMsVUFBVSxHQUFHLFVBQVMsR0FBRyxFQUFFO0FBQzFDLFdBQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUN4QixXQUFPLElBQUksQ0FBQztHQUNiLENBQUM7O0FBRUYsUUFBTSxDQUFDLFNBQVMsQ0FBQyxjQUFjLEdBQUcsWUFBVztBQUMzQyxRQUFJLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQztBQUNwQixRQUFJLENBQUMsVUFBVSxHQUFHLEVBQUUsQ0FBQztHQUN0QixDQUFDOztBQUVGLFFBQU0sQ0FBQyxTQUFTLENBQUMsWUFBWSxHQUFHLFlBQVc7QUFDekMsV0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQztHQUN6QixDQUFDOztBQUVGLFFBQU0sQ0FBQyxTQUFTLENBQUMsWUFBWSxHQUFHLFlBQVc7QUFDekMsV0FBTyxJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0dBQzdELENBQUM7O0FBRUYsUUFBTSxDQUFDLFNBQVMsQ0FBQyxRQUFRLEdBQUcsVUFBUyxLQUFLLEVBQUU7QUFDMUMsV0FBTyxJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDLENBQUM7R0FDcEUsQ0FBQzs7QUFFRixRQUFNLENBQUMsU0FBUyxDQUFDLGVBQWUsR0FBRyxVQUFTLEtBQUssRUFBRTtBQUNqRCxRQUFJLE1BQU0sR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDO0FBQzlDLFFBQUksSUFBSSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDL0IsUUFBSSxZQUFZLEdBQUcsRUFBRSxDQUFDO0FBQ3RCLEtBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsWUFBVztBQUN0QixrQkFBWSxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsR0FBRyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0tBQzlDLENBQUMsQ0FBQztBQUNILFdBQU8sWUFBWSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztHQUMvQixDQUFDOztBQUVGLFFBQU0sQ0FBQyxTQUFTLENBQUMsS0FBSyxHQUFHLFVBQVMsTUFBTSxFQUFFLFFBQVEsRUFBRTtBQUNsRCxRQUFJLElBQUksR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsTUFBTSxFQUFFLEVBQUMsQ0FBQyxFQUFFLE1BQU0sRUFBQyxDQUFDLENBQUM7O0FBRWxELFFBQUksQ0FBQyxTQUFTLEdBQUcsTUFBTSxDQUFDO0FBQ3hCLFFBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxFQUFDLENBQUMsRUFBRSxNQUFNLEVBQUMsQ0FBQyxDQUFDOztBQUVwRCxRQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUU7QUFDekIsY0FBUSxFQUFFLElBQUksQ0FBQyxVQUFVO0FBQ3pCLFVBQUksRUFBRSxJQUFJO0FBQ1YsY0FBUSxFQUFFLE1BQU07QUFDaEIsYUFBTyxFQUFFLFFBQVE7S0FDbEIsQ0FBQyxDQUFDOztBQUVILFdBQU8sSUFBSSxDQUFDO0dBQ2IsQ0FBQzs7QUFFRixHQUFDLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztDQUNuQixDQUFBLENBQUUsTUFBTSxFQUFFLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQyIsImZpbGUiOiIvYXBwL2tpdHN1bmUvc3Vtby9zdGF0aWMvc3Vtby9qcy9zZWFyY2hfdXRpbHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBnbG9iYWxzIGs6ZmFsc2UsIGpRdWVyeTpmYWxzZSAqL1xuKGZ1bmN0aW9uKCQsIF8pIHtcbiAgd2luZG93LmsgPSBrIHx8IHt9O1xuXG4gIHZhciBjeGhyID0gbmV3IGsuQ2FjaGVkWEhSKCk7XG5cbiAgZnVuY3Rpb24gU2VhcmNoKGJhc2VVcmwsIHBhcmFtcykge1xuICAgIHRoaXMuYmFzZVVybCA9IGJhc2VVcmw7XG4gICAgdGhpcy5wYXJhbXMgPSAkLmV4dGVuZCh7fSwgcGFyYW1zKTtcbiAgfVxuXG4gIFNlYXJjaC5wcm90b3R5cGUuX2J1aWxkUXVlcnlVcmwgPSBmdW5jdGlvbihxdWVyeSwgcGFyYW1zKSB7XG4gICAgdmFyIHVybCA9IHRoaXMuYmFzZVVybCArICc/cT0nICsgcXVlcnk7XG4gICAgaWYgKHBhcmFtcykge1xuICAgICAgdXJsICs9ICcmJyArIHBhcmFtcztcbiAgICB9XG4gICAgcmV0dXJuIHVybDtcbiAgfTtcblxuICBTZWFyY2gucHJvdG90eXBlLnNldFBhcmFtID0gZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgIHRoaXMucGFyYW1zW2tleV0gPSB2YWx1ZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBTZWFyY2gucHJvdG90eXBlLnNldFBhcmFtcyA9IGZ1bmN0aW9uKHBhcmFtcykge1xuICAgICQuZXh0ZW5kKHRoaXMucGFyYW1zLCBwYXJhbXMpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIFNlYXJjaC5wcm90b3R5cGUuZ2V0UGFyYW0gPSBmdW5jdGlvbihrZXkpIHtcbiAgICByZXR1cm4gdGhpcy5wYXJhbXNba2V5XTtcbiAgfTtcblxuICBTZWFyY2gucHJvdG90eXBlLnVuc2V0UGFyYW0gPSBmdW5jdGlvbihrZXkpIHtcbiAgICBkZWxldGUgdGhpcy5wYXJhbXNba2V5XTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBTZWFyY2gucHJvdG90eXBlLmNsZWFyTGFzdFF1ZXJ5ID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5sYXN0UXVlcnkgPSAnJztcbiAgICB0aGlzLmxhc3RQYXJhbXMgPSAnJztcbiAgfTtcblxuICBTZWFyY2gucHJvdG90eXBlLmhhc0xhc3RRdWVyeSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAhIXRoaXMubGFzdFF1ZXJ5O1xuICB9O1xuXG4gIFNlYXJjaC5wcm90b3R5cGUubGFzdFF1ZXJ5VXJsID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX2J1aWxkUXVlcnlVcmwodGhpcy5sYXN0UXVlcnksIHRoaXMubGFzdFBhcmFtcyk7XG4gIH07XG5cbiAgU2VhcmNoLnByb3RvdHlwZS5xdWVyeVVybCA9IGZ1bmN0aW9uKHF1ZXJ5KSB7XG4gICAgcmV0dXJuIHRoaXMuX2J1aWxkUXVlcnlVcmwodGhpcy5sYXN0UXVlcnksIHRoaXMuc2VyaWFsaXplUGFyYW1zKCkpO1xuICB9O1xuXG4gIFNlYXJjaC5wcm90b3R5cGUuc2VyaWFsaXplUGFyYW1zID0gZnVuY3Rpb24oZXh0cmEpIHtcbiAgICB2YXIgcGFyYW1zID0gJC5leHRlbmQoe30sIHRoaXMucGFyYW1zLCBleHRyYSk7XG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhwYXJhbXMpO1xuICAgIHZhciBwYXJhbVN0cmluZ3MgPSBbXTtcbiAgICAkKGtleXMpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICBwYXJhbVN0cmluZ3MucHVzaCh0aGlzICsgJz0nICsgcGFyYW1zW3RoaXNdKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcGFyYW1TdHJpbmdzLmpvaW4oJyYnKTtcbiAgfTtcblxuICBTZWFyY2gucHJvdG90eXBlLnF1ZXJ5ID0gZnVuY3Rpb24oc3RyaW5nLCBjYWxsYmFjaykge1xuICAgIHZhciBkYXRhID0gJC5leHRlbmQoe30sIHRoaXMucGFyYW1zLCB7cTogc3RyaW5nfSk7XG5cbiAgICB0aGlzLmxhc3RRdWVyeSA9IHN0cmluZztcbiAgICB0aGlzLmxhc3RQYXJhbXMgPSB0aGlzLnNlcmlhbGl6ZVBhcmFtcyh7cTogc3RyaW5nfSk7XG5cbiAgICBjeGhyLnJlcXVlc3QodGhpcy5iYXNlVXJsLCB7XG4gICAgICBjYWNoZUtleTogdGhpcy5sYXN0UGFyYW1zLFxuICAgICAgZGF0YTogZGF0YSxcbiAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICBzdWNjZXNzOiBjYWxsYmFja1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgay5TZWFyY2ggPSBTZWFyY2g7XG59KShqUXVlcnksIGsubnVuanVja3NFbnYpO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/app/kitsune/sumo/static/sumo/js/search_utils.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/app/kitsune/sumo/static/sumo/js/search_utils.js",
      "sourcesContent": [
        "/* globals k:false, jQuery:false */\n(function($, _) {\n  window.k = k || {};\n\n  var cxhr = new k.CachedXHR();\n\n  function Search(baseUrl, params) {\n    this.baseUrl = baseUrl;\n    this.params = $.extend({}, params);\n  }\n\n  Search.prototype._buildQueryUrl = function(query, params) {\n    var url = this.baseUrl + '?q=' + query;\n    if (params) {\n      url += '&' + params;\n    }\n    return url;\n  };\n\n  Search.prototype.setParam = function(key, value) {\n    this.params[key] = value;\n    return this;\n  };\n\n  Search.prototype.setParams = function(params) {\n    $.extend(this.params, params);\n    return this;\n  };\n\n  Search.prototype.getParam = function(key) {\n    return this.params[key];\n  };\n\n  Search.prototype.unsetParam = function(key) {\n    delete this.params[key];\n    return this;\n  };\n\n  Search.prototype.clearLastQuery = function() {\n    this.lastQuery = '';\n    this.lastParams = '';\n  };\n\n  Search.prototype.hasLastQuery = function() {\n    return !!this.lastQuery;\n  };\n\n  Search.prototype.lastQueryUrl = function() {\n    return this._buildQueryUrl(this.lastQuery, this.lastParams);\n  };\n\n  Search.prototype.queryUrl = function(query) {\n    return this._buildQueryUrl(this.lastQuery, this.serializeParams());\n  };\n\n  Search.prototype.serializeParams = function(extra) {\n    var params = $.extend({}, this.params, extra);\n    var keys = Object.keys(params);\n    var paramStrings = [];\n    $(keys).each(function() {\n      paramStrings.push(this + '=' + params[this]);\n    });\n    return paramStrings.join('&');\n  };\n\n  Search.prototype.query = function(string, callback) {\n    var data = $.extend({}, this.params, {q: string});\n\n    this.lastQuery = string;\n    this.lastParams = this.serializeParams({q: string});\n\n    cxhr.request(this.baseUrl, {\n      cacheKey: this.lastParams,\n      data: data,\n      dataType: 'json',\n      success: callback\n    });\n\n    return this;\n  };\n\n  k.Search = Search;\n})(jQuery, k.nunjucksEnv);\n"
      ]
    },
    "mtime": 1561057444000
  },
  "{\"filename\":\"/app/kitsune/sumo/static/sumo/js/instant_search.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":2,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "/* globals k:false, jQuery:false, trackEvent:false */\n'use strict';\n\n(function ($) {\n  var searchTimeout;\n  var locale = $('html').attr('lang');\n\n  var search = new k.Search('/' + locale + '/search');\n  var cxhr = new k.CachedXHR();\n\n  function hideContent() {\n    $('#main-content').hide();\n    $('#main-content').siblings('aside').hide();\n    $('#main-breadcrumbs').hide();\n\n    if ($('#support-search-wiki:visible').length === 0) {\n      $('.support-search-main').show();\n      $('.support-search-main').find('input[name=q]').focus();\n    }\n  }\n\n  function showContent() {\n    $('.support-search-main').hide();\n    $('#main-content').show();\n    $('#main-content').siblings('aside').show();\n    $('#main-breadcrumbs').show();\n    $('#instant-search-content').remove();\n    $('.search-form-large:visible').find('input[name=q]').focus().val('');\n    $('#support-search').find('input[name=q]').val('');\n  }\n\n  function render(data) {\n    var context = $.extend({}, data);\n    var base_url = search.lastQueryUrl();\n    var $searchContent;\n    context.base_url = base_url;\n\n    if ($('#instant-search-content').length) {\n      $searchContent = $('#instant-search-content');\n    } else {\n      $searchContent = $('<div />').attr('id', 'instant-search-content');\n      $('#main-content').after($searchContent);\n    }\n\n    $searchContent.html(k.nunjucksEnv.render('search-results.html', context));\n  }\n\n  window.k.InstantSearchSettings = {\n    hideContent: hideContent,\n    showContent: showContent,\n    render: render,\n    searchClient: search\n  };\n\n  $(document).on('submit', '[data-instant-search=\"form\"]', function (ev) {\n    ev.preventDefault();\n  });\n\n  $(document).on('keyup', '[data-instant-search=\"form\"] input[type=\"search\"]', function (ev) {\n    var $this = $(this);\n    var $form = $this.closest('form');\n    var formId = $form.attr('id');\n    var params = {\n      format: 'json'\n    };\n\n    if ($this.val().length === 0) {\n      if (searchTimeout) {\n        window.clearTimeout(searchTimeout);\n      }\n\n      window.k.InstantSearchSettings.showContent();\n    } else if ($this.val() !== search.lastQuery) {\n      if (searchTimeout) {\n        window.clearTimeout(searchTimeout);\n      }\n\n      $form.find('input').each(function () {\n        if ($(this).attr('type') === 'submit') {\n          return true;\n        }\n        if ($(this).attr('type') === 'button') {\n          return true;\n        }\n        if ($(this).attr('name') === 'q') {\n          var value = $(this).val();\n\n          if (formId === 'support-search-results') {\n            $('#support-search').find('input[name=q]').val(value);\n          } else if (formId === 'support-search') {\n            $('.search-form-large').find('input[name=q]').val(value);\n          } else {\n            $('#support-search').find('input[name=q]').val(value);\n            $('#support-search-results').find('input[name=q]').val(value);\n          }\n\n          return true;\n        }\n        params[$(this).attr('name')] = $(this).val();\n      });\n\n      searchTimeout = setTimeout(function () {\n        if (search.hasLastQuery) {\n          trackEvent('Instant Search', 'Exit Search', search.lastQueryUrl());\n        }\n        search.setParams(params);\n        search.query($this.val(), k.InstantSearchSettings.render);\n        trackEvent('Instant Search', 'Search', search.lastQueryUrl());\n      }, 200);\n\n      k.InstantSearchSettings.hideContent();\n    }\n  });\n\n  $(document).on('click', '[data-instant-search=\"link\"]', function (ev) {\n    ev.preventDefault();\n\n    var $this = $(this);\n\n    if (search.hasLastQuery) {\n      trackEvent('Instant Search', 'Exit Search', search.queryUrl(search.lastQuery));\n    }\n\n    var setParams = $this.data('instant-search-set-params');\n    if (setParams) {\n      setParams = setParams.split('&');\n      $(setParams).each(function () {\n        var p = this.split('=');\n        search.setParam(p.shift(), p.join('='));\n      });\n    }\n\n    var unsetParams = $this.data('instant-search-unset-params');\n    if (unsetParams) {\n      unsetParams = unsetParams.split('&');\n      $(unsetParams).each(function () {\n        search.unsetParam(this);\n      });\n    }\n\n    trackEvent('Instant Search', 'Search', $this.data('href'));\n\n    cxhr.request($this.data('href'), {\n      data: { format: 'json' },\n      dataType: 'json',\n      success: k.InstantSearchSettings.render\n    });\n  });\n})(jQuery);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9hcHAva2l0c3VuZS9zdW1vL3N0YXRpYy9zdW1vL2pzL2luc3RhbnRfc2VhcmNoLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUNBLENBQUMsVUFBUyxDQUFDLEVBQUU7QUFDWCxNQUFJLGFBQWEsQ0FBQztBQUNsQixNQUFJLE1BQU0sR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDOztBQUVwQyxNQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUMsR0FBRyxHQUFHLE1BQU0sR0FBRyxTQUFTLENBQUMsQ0FBQztBQUNwRCxNQUFJLElBQUksR0FBRyxJQUFJLENBQUMsQ0FBQyxTQUFTLEVBQUUsQ0FBQzs7QUFFN0IsV0FBUyxXQUFXLEdBQUc7QUFDckIsS0FBQyxDQUFDLGVBQWUsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO0FBQzFCLEtBQUMsQ0FBQyxlQUFlLENBQUMsQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDNUMsS0FBQyxDQUFDLG1CQUFtQixDQUFDLENBQUMsSUFBSSxFQUFFLENBQUM7O0FBRTlCLFFBQUksQ0FBQyxDQUFDLDhCQUE4QixDQUFDLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtBQUNsRCxPQUFDLENBQUMsc0JBQXNCLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNqQyxPQUFDLENBQUMsc0JBQXNCLENBQUMsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUM7S0FDekQ7R0FDRjs7QUFFRCxXQUFTLFdBQVcsR0FBRztBQUNyQixLQUFDLENBQUMsc0JBQXNCLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNqQyxLQUFDLENBQUMsZUFBZSxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDMUIsS0FBQyxDQUFDLGVBQWUsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FB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UUFBUSxDQUFDLENBQUMsQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7T0FDekMsQ0FBQyxDQUFDO0tBQ0o7O0FBRUQsUUFBSSxXQUFXLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyw2QkFBNkIsQ0FBQyxDQUFDO0FBQzVELFFBQUksV0FBVyxFQUFFO0FBQ2YsaUJBQVcsR0FBRyxXQUFXLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ3JDLE9BQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxJQUFJLENBQUMsWUFBVztBQUM3QixjQUFNLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO09BQ3pCLENBQUMsQ0FBQztLQUNKOztBQUVELGNBQVUsQ0FBQyxnQkFBZ0IsRUFBRSxRQUFRLEVBQUUsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDOztBQUUzRCxRQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUU7QUFDL0IsVUFBSSxFQUFFLEVBQUMsTUFBTSxFQUFFLE1BQU0sRUFBQztBQUN0QixjQUFRLEVBQUUsTUFBTTtBQUNoQixhQUFPLEVBQUUsQ0FBQyxDQUFDLHFCQUFxQixDQUFDLE1BQU07S0FDeEMsQ0FBQyxDQUFDO0dBQ0osQ0FBQyxDQUFDO0NBQ0osQ0FBQSxDQUFFLE1BQU0sQ0FBQyxDQUFDIiwiZmlsZSI6Ii9hcHAva2l0c3VuZS9zdW1vL3N0YXRpYy9zdW1vL2pzL2luc3RhbnRfc2VhcmNoLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogZ2xvYmFscyBrOmZhbHNlLCBqUXVlcnk6ZmFsc2UsIHRyYWNrRXZlbnQ6ZmFsc2UgKi9cbihmdW5jdGlvbigkKSB7XG4gIHZhciBzZWFyY2hUaW1lb3V0O1xuICB2YXIgbG9jYWxlID0gJCgnaHRtbCcpLmF0dHIoJ2xhbmcnKTtcblxuICB2YXIgc2VhcmNoID0gbmV3IGsuU2VhcmNoKCcvJyArIGxvY2FsZSArICcvc2VhcmNoJyk7XG4gIHZhciBjeGhyID0gbmV3IGsuQ2FjaGVkWEhSKCk7XG5cbiAgZnVuY3Rpb24gaGlkZUNvbnRlbnQoKSB7XG4gICAgJCgnI21haW4tY29udGVudCcpLmhpZGUoKTtcbiAgICAkKCcjbWFpbi1jb250ZW50Jykuc2libGluZ3MoJ2FzaWRlJykuaGlkZSgpO1xuICAgICQoJyNtYWluLWJyZWFkY3J1bWJzJykuaGlkZSgpO1xuXG4gICAgaWYgKCQoJyNzdXBwb3J0LXNlYXJjaC13aWtpOnZpc2libGUnKS5sZW5ndGggPT09IDApIHtcbiAgICAgICQoJy5zdXBwb3J0LXNlYXJjaC1tYWluJykuc2hvdygpO1xuICAgICAgJCgnLnN1cHBvcnQtc2VhcmNoLW1haW4nKS5maW5kKCdpbnB1dFtuYW1lPXFdJykuZm9jdXMoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzaG93Q29udGVudCgpIHtcbiAgICAkKCcuc3VwcG9ydC1zZWFyY2gtbWFpbicpLmhpZGUoKTtcbiAgICAkKCcjbWFpbi1jb250ZW50Jykuc2hvdygpO1xuICAgICQoJyNtYWluLWNvbnRlbnQnKS5zaWJsaW5ncygnYXNpZGUnKS5zaG93KCk7XG4gICAgJCgnI21haW4tYnJlYWRjcnVtYnMnKS5zaG93KCk7XG4gICAgJCgnI2luc3RhbnQtc2VhcmNoLWNvbnRlbnQnKS5yZW1vdmUoKTtcbiAgICAkKCcuc2VhcmNoLWZvcm0tbGFyZ2U6dmlzaWJsZScpLmZpbmQoJ2lucHV0W25hbWU9cV0nKS5mb2N1cygpLnZhbCgnJyk7XG4gICAgJCgnI3N1cHBvcnQtc2VhcmNoJykuZmluZCgnaW5wdXRbbmFtZT1xXScpLnZhbCgnJyk7XG4gIH1cblxuICBmdW5jdGlvbiByZW5kZXIoZGF0YSkge1xuICAgIHZhciBjb250ZXh0ID0gJC5leHRlbmQoe30sIGRhdGEpO1xuICAgIHZhciBiYXNlX3VybCA9IHNlYXJjaC5sYXN0UXVlcnlVcmwoKTtcbiAgICB2YXIgJHNlYXJjaENvbnRlbnQ7XG4gICAgY29udGV4dC5iYXNlX3VybCA9IGJhc2VfdXJsO1xuXG4gICAgaWYgKCQoJyNpbnN0YW50LXNlYXJjaC1jb250ZW50JykubGVuZ3RoKSB7XG4gICAgICAkc2VhcmNoQ29udGVudCA9ICQoJyNpbnN0YW50LXNlYXJjaC1jb250ZW50Jyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICRzZWFyY2hDb250ZW50ID0gJCgnPGRpdiAvPicpLmF0dHIoJ2lkJywgJ2luc3RhbnQtc2VhcmNoLWNvbnRlbnQnKTtcbiAgICAgICQoJyNtYWluLWNvbnRlbnQnKS5hZnRlcigkc2VhcmNoQ29udGVudCk7XG4gICAgfVxuXG4gICAgJHNlYXJjaENvbnRlbnQuaHRtbChrLm51bmp1Y2tzRW52LnJlbmRlcignc2VhcmNoLXJlc3VsdHMuaHRtbCcsIGNvbnRleHQpKTtcbiAgfVxuXG4gIHdpbmRvdy5rLkluc3RhbnRTZWFyY2hTZXR0aW5ncyA9IHtcbiAgICBoaWRlQ29udGVudDogaGlkZUNvbnRlbnQsXG4gICAgc2hvd0NvbnRlbnQ6IHNob3dDb250ZW50LFxuICAgIHJlbmRlcjogcmVuZGVyLFxuICAgIHNlYXJjaENsaWVudDogc2VhcmNoXG4gIH07XG5cbiAgJChkb2N1bWVudCkub24oJ3N1Ym1pdCcsICdbZGF0YS1pbnN0YW50LXNlYXJjaD1cImZvcm1cIl0nLCBmdW5jdGlvbihldikge1xuICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gIH0pO1xuXG4gICQoZG9jdW1lbnQpLm9uKCdrZXl1cCcsICdbZGF0YS1pbnN0YW50LXNlYXJjaD1cImZvcm1cIl0gaW5wdXRbdHlwZT1cInNlYXJjaFwiXScsIGZ1bmN0aW9uKGV2KSB7XG4gICAgdmFyICR0aGlzID0gJCh0aGlzKTtcbiAgICB2YXIgJGZvcm0gPSAkdGhpcy5jbG9zZXN0KCdmb3JtJyk7XG4gICAgdmFyIGZvcm1JZCA9ICRmb3JtLmF0dHIoJ2lkJyk7XG4gICAgdmFyIHBhcmFtcyA9IHtcbiAgICAgIGZvcm1hdDogJ2pzb24nXG4gICAgfTtcblxuICAgIGlmICgkdGhpcy52YWwoKS5sZW5ndGggPT09IDApIHtcbiAgICAgIGlmIChzZWFyY2hUaW1lb3V0KSB7XG4gICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQoc2VhcmNoVGltZW91dCk7XG4gICAgICB9XG5cbiAgICAgIHdpbmRvdy5rLkluc3RhbnRTZWFyY2hTZXR0aW5ncy5zaG93Q29udGVudCgpO1xuICAgIH0gZWxzZSBpZiAoJHRoaXMudmFsKCkgIT09IHNlYXJjaC5sYXN0UXVlcnkpIHtcbiAgICAgIGlmIChzZWFyY2hUaW1lb3V0KSB7XG4gICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQoc2VhcmNoVGltZW91dCk7XG4gICAgICB9XG5cbiAgICAgICRmb3JtLmZpbmQoJ2lucHV0JykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICgkKHRoaXMpLmF0dHIoJ3R5cGUnKSA9PT0gJ3N1Ym1pdCcpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoJCh0aGlzKS5hdHRyKCd0eXBlJykgPT09ICdidXR0b24nKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCQodGhpcykuYXR0cignbmFtZScpID09PSAncScpIHtcbiAgICAgICAgICB2YXIgdmFsdWUgPSAkKHRoaXMpLnZhbCgpO1xuXG4gICAgICAgICAgaWYgKGZvcm1JZCA9PT0gJ3N1cHBvcnQtc2VhcmNoLXJlc3VsdHMnKSB7XG4gICAgICAgICAgICAkKCcjc3VwcG9ydC1zZWFyY2gnKS5maW5kKCdpbnB1dFtuYW1lPXFdJykudmFsKHZhbHVlKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGZvcm1JZCA9PT0gJ3N1cHBvcnQtc2VhcmNoJykge1xuICAgICAgICAgICAgJCgnLnNlYXJjaC1mb3JtLWxhcmdlJykuZmluZCgnaW5wdXRbbmFtZT1xXScpLnZhbCh2YWx1ZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICQoJyNzdXBwb3J0LXNlYXJjaCcpLmZpbmQoJ2lucHV0W25hbWU9cV0nKS52YWwodmFsdWUpO1xuICAgICAgICAgICAgJCgnI3N1cHBvcnQtc2VhcmNoLXJlc3VsdHMnKS5maW5kKCdpbnB1dFtuYW1lPXFdJykudmFsKHZhbHVlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBwYXJhbXNbJCh0aGlzKS5hdHRyKCduYW1lJyldID0gJCh0aGlzKS52YWwoKTtcbiAgICAgIH0pO1xuXG4gICAgICBzZWFyY2hUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChzZWFyY2guaGFzTGFzdFF1ZXJ5KSB7XG4gICAgICAgICAgdHJhY2tFdmVudCgnSW5zdGFudCBTZWFyY2gnLCAnRXhpdCBTZWFyY2gnLCBzZWFyY2gubGFzdFF1ZXJ5VXJsKCkpO1xuICAgICAgICB9XG4gICAgICAgIHNlYXJjaC5zZXRQYXJhbXMocGFyYW1zKTtcbiAgICAgICAgc2VhcmNoLnF1ZXJ5KCR0aGlzLnZhbCgpLCBrLkluc3RhbnRTZWFyY2hTZXR0aW5ncy5yZW5kZXIpO1xuICAgICAgICB0cmFja0V2ZW50KCdJbnN0YW50IFNlYXJjaCcsICdTZWFyY2gnLCBzZWFyY2gubGFzdFF1ZXJ5VXJsKCkpO1xuICAgICAgfSwgMjAwKTtcblxuICAgICAgay5JbnN0YW50U2VhcmNoU2V0dGluZ3MuaGlkZUNvbnRlbnQoKTtcbiAgICB9XG4gIH0pO1xuXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICdbZGF0YS1pbnN0YW50LXNlYXJjaD1cImxpbmtcIl0nLCBmdW5jdGlvbihldikge1xuICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xuXG4gICAgaWYgKHNlYXJjaC5oYXNMYXN0UXVlcnkpIHtcbiAgICAgIHRyYWNrRXZlbnQoJ0luc3RhbnQgU2VhcmNoJywgJ0V4aXQgU2VhcmNoJywgc2VhcmNoLnF1ZXJ5VXJsKHNlYXJjaC5sYXN0UXVlcnkpKTtcbiAgICB9XG5cbiAgICB2YXIgc2V0UGFyYW1zID0gJHRoaXMuZGF0YSgnaW5zdGFudC1zZWFyY2gtc2V0LXBhcmFtcycpO1xuICAgIGlmIChzZXRQYXJhbXMpIHtcbiAgICAgIHNldFBhcmFtcyA9IHNldFBhcmFtcy5zcGxpdCgnJicpO1xuICAgICAgJChzZXRQYXJhbXMpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBwID0gdGhpcy5zcGxpdCgnPScpO1xuICAgICAgICBzZWFyY2guc2V0UGFyYW0ocC5zaGlmdCgpLCBwLmpvaW4oJz0nKSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB2YXIgdW5zZXRQYXJhbXMgPSAkdGhpcy5kYXRhKCdpbnN0YW50LXNlYXJjaC11bnNldC1wYXJhbXMnKTtcbiAgICBpZiAodW5zZXRQYXJhbXMpIHtcbiAgICAgIHVuc2V0UGFyYW1zID0gdW5zZXRQYXJhbXMuc3BsaXQoJyYnKTtcbiAgICAgICQodW5zZXRQYXJhbXMpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgIHNlYXJjaC51bnNldFBhcmFtKHRoaXMpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdHJhY2tFdmVudCgnSW5zdGFudCBTZWFyY2gnLCAnU2VhcmNoJywgJHRoaXMuZGF0YSgnaHJlZicpKTtcblxuICAgIGN4aHIucmVxdWVzdCgkdGhpcy5kYXRhKCdocmVmJyksIHtcbiAgICAgIGRhdGE6IHtmb3JtYXQ6ICdqc29uJ30sXG4gICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgc3VjY2Vzczogay5JbnN0YW50U2VhcmNoU2V0dGluZ3MucmVuZGVyXG4gICAgfSk7XG4gIH0pO1xufSkoalF1ZXJ5KTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/app/kitsune/sumo/static/sumo/js/instant_search.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/app/kitsune/sumo/static/sumo/js/instant_search.js",
      "sourcesContent": [
        "/* globals k:false, jQuery:false, trackEvent:false */\n(function($) {\n  var searchTimeout;\n  var locale = $('html').attr('lang');\n\n  var search = new k.Search('/' + locale + '/search');\n  var cxhr = new k.CachedXHR();\n\n  function hideContent() {\n    $('#main-content').hide();\n    $('#main-content').siblings('aside').hide();\n    $('#main-breadcrumbs').hide();\n\n    if ($('#support-search-wiki:visible').length === 0) {\n      $('.support-search-main').show();\n      $('.support-search-main').find('input[name=q]').focus();\n    }\n  }\n\n  function showContent() {\n    $('.support-search-main').hide();\n    $('#main-content').show();\n    $('#main-content').siblings('aside').show();\n    $('#main-breadcrumbs').show();\n    $('#instant-search-content').remove();\n    $('.search-form-large:visible').find('input[name=q]').focus().val('');\n    $('#support-search').find('input[name=q]').val('');\n  }\n\n  function render(data) {\n    var context = $.extend({}, data);\n    var base_url = search.lastQueryUrl();\n    var $searchContent;\n    context.base_url = base_url;\n\n    if ($('#instant-search-content').length) {\n      $searchContent = $('#instant-search-content');\n    } else {\n      $searchContent = $('<div />').attr('id', 'instant-search-content');\n      $('#main-content').after($searchContent);\n    }\n\n    $searchContent.html(k.nunjucksEnv.render('search-results.html', context));\n  }\n\n  window.k.InstantSearchSettings = {\n    hideContent: hideContent,\n    showContent: showContent,\n    render: render,\n    searchClient: search\n  };\n\n  $(document).on('submit', '[data-instant-search=\"form\"]', function(ev) {\n    ev.preventDefault();\n  });\n\n  $(document).on('keyup', '[data-instant-search=\"form\"] input[type=\"search\"]', function(ev) {\n    var $this = $(this);\n    var $form = $this.closest('form');\n    var formId = $form.attr('id');\n    var params = {\n      format: 'json'\n    };\n\n    if ($this.val().length === 0) {\n      if (searchTimeout) {\n        window.clearTimeout(searchTimeout);\n      }\n\n      window.k.InstantSearchSettings.showContent();\n    } else if ($this.val() !== search.lastQuery) {\n      if (searchTimeout) {\n        window.clearTimeout(searchTimeout);\n      }\n\n      $form.find('input').each(function () {\n        if ($(this).attr('type') === 'submit') {\n          return true;\n        }\n        if ($(this).attr('type') === 'button') {\n          return true;\n        }\n        if ($(this).attr('name') === 'q') {\n          var value = $(this).val();\n\n          if (formId === 'support-search-results') {\n            $('#support-search').find('input[name=q]').val(value);\n          } else if (formId === 'support-search') {\n            $('.search-form-large').find('input[name=q]').val(value);\n          } else {\n            $('#support-search').find('input[name=q]').val(value);\n            $('#support-search-results').find('input[name=q]').val(value);\n          }\n\n          return true;\n        }\n        params[$(this).attr('name')] = $(this).val();\n      });\n\n      searchTimeout = setTimeout(function () {\n        if (search.hasLastQuery) {\n          trackEvent('Instant Search', 'Exit Search', search.lastQueryUrl());\n        }\n        search.setParams(params);\n        search.query($this.val(), k.InstantSearchSettings.render);\n        trackEvent('Instant Search', 'Search', search.lastQueryUrl());\n      }, 200);\n\n      k.InstantSearchSettings.hideContent();\n    }\n  });\n\n  $(document).on('click', '[data-instant-search=\"link\"]', function(ev) {\n    ev.preventDefault();\n\n    var $this = $(this);\n\n    if (search.hasLastQuery) {\n      trackEvent('Instant Search', 'Exit Search', search.queryUrl(search.lastQuery));\n    }\n\n    var setParams = $this.data('instant-search-set-params');\n    if (setParams) {\n      setParams = setParams.split('&');\n      $(setParams).each(function() {\n        var p = this.split('=');\n        search.setParam(p.shift(), p.join('='));\n      });\n    }\n\n    var unsetParams = $this.data('instant-search-unset-params');\n    if (unsetParams) {\n      unsetParams = unsetParams.split('&');\n      $(unsetParams).each(function() {\n        search.unsetParam(this);\n      });\n    }\n\n    trackEvent('Instant Search', 'Search', $this.data('href'));\n\n    cxhr.request($this.data('href'), {\n      data: {format: 'json'},\n      dataType: 'json',\n      success: k.InstantSearchSettings.render\n    });\n  });\n})(jQuery);\n"
      ]
    },
    "mtime": 1561057444000
  },
  "{\"filename\":\"/app/kitsune/sumo/static/sumo/js/kbox.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":2,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "/* globals jQuery:false */\n'use strict';\n\n(function ($) {\n\n  'use strict'; // Giving this a shot!\n\n  var TEMPLATE = '<div class=\"kbox-container\">' + '<a href=\"#close\" class=\"kbox-close\">&#x2716;</a>' + '<div class=\"kbox-title\"></div>' + '<div class=\"kbox-wrap\"><div class=\"kbox-placeholder\"/></div>' + '</div>',\n      OVERLAY = '<div id=\"kbox-overlay\"></div>';\n\n  // The KBox type\n  function KBox(el, options) {\n    KBox.prototype.init.call(this, el, options);\n  }\n\n  KBox.prototype = {\n    init: function init(el, options) {\n      var self = this;\n      self.el = el;\n      self.html = typeof el === 'string' && el;\n      self.$el = $(el);\n      options = $.extend({\n        // defaults\n        clickTarget: self.$el.data('target'),\n        closeOnEsc: self.$el.data('close-on-esc') === undefined ? true : !!self.$el.data('close-on-esc'),\n        closeOnOutClick: !!self.$el.data('close-on-out-click'),\n        container: self.html && $('body'),\n        // TODO: maxHeight: self.$el.data('max-height') || 'window',\n        destroy: !!self.$el.data('destroy'),\n        id: self.$el.data('id'),\n        modal: !!self.$el.data('modal'),\n        position: self.$el.data('position') || 'center',\n        preOpen: false,\n        preClose: false,\n        template: TEMPLATE,\n        title: self.$el.attr('title') || self.$el.attr('data-title')\n      }, options);\n      self.options = options;\n      self.$clickTarget = options.clickTarget && $(options.clickTarget);\n      self.$container = options.container && $(options.container);\n      self.rendered = false; // did we render out yet?\n      self.$ph = false; // placeholder used if we need to move self.$el in the DOM.\n      self.$kbox = $();\n      self.isOpen = false;\n\n      // Make the instance accessible from the DOM element.\n      self.$el.data('kbox', self);\n\n      // If we have a click target, open the kbox when it is clicked.\n      if (self.$clickTarget) {\n        self.$clickTarget.click(function (ev) {\n          ev.preventDefault();\n          self.open();\n        });\n      }\n    },\n    updateOptions: function updateOptions(options) {\n      // Ability to update options programmatically after kbox creation.\n      var self = this;\n      self.options = $.extend(self.options, options);\n      self.$clickTarget = options.clickTarget && $(options.clickTarget);\n      self.$container = options.container && $(options.container);\n    },\n    render: function render() {\n      var self = this;\n      self.$kbox = $(self.options.template);\n\n      if (self.$container) {\n        // The kbox will be appended to the container.\n        if (self.$el.parent().length) {\n          // If we are attached to the DOM, save our place there\n          // for putting everything back in place later.\n          self.$ph = self.$el.before('<div style=\"display:none;\"/>').prev();\n        }\n        self.$kbox.appendTo(self.$container);\n      } else {\n        // The kbox will go right where $el is.\n        self.$el.before(self.$kbox);\n      }\n\n      // Set the id if it was specified\n      if (self.options.id) {\n        self.$kbox.attr('id', self.options.id);\n      }\n\n      // Set the title if it was specified.\n      if (self.options.title) {\n        self.$kbox.find('.kbox-title').text(self.options.title);\n      }\n\n      // Insert the content.\n      self.$kbox.find('.kbox-placeholder').replaceWith(self.$el.detach());\n\n      // Handle close events\n      self.$kbox.delegate('.kbox-close, .kbox-cancel', 'click', function (ev) {\n        ev.preventDefault();\n        self.close();\n      });\n\n      self.rendered = true;\n    },\n    open: function open() {\n      var self = this;\n      if (self.options.preOpen && !self.options.preOpen.call(self)) {\n        // If we have a preOpen callback and it returns false,\n        // we don't open anything.\n        return;\n      }\n      if (self.isOpen) {\n        return;\n      }\n      self.isOpen = true;\n      if (!self.rendered) {\n        self.render();\n      }\n      self.$kbox.addClass('kbox-open');\n      self.setPosition();\n      if (self.options.modal) {\n        self.createOverlay();\n      }\n\n      // Handle ESC\n      if (self.options.closeOnEsc) {\n        self.keypressHandler = function (ev) {\n          if (ev.keyCode === 27) {\n            self.close();\n          }\n        };\n        $(document).keypress(self.keypressHandler);\n      }\n\n      // Handle outside clicks\n      if (self.options.closeOnOutClick) {\n        self.clickHandler = function (ev) {\n          if ($(ev.target).closest('.kbox-container').length === 0) {\n            // The click isn't inside the kbox, so lets close it.\n            self.close();\n          }\n        };\n        setTimeout(function () {\n          // so it doesn't get triggered on this click\n          $('body').click(self.clickHandler);\n        }, 0);\n      }\n    },\n    setPosition: function setPosition(position) {\n      var self = this,\n          toX,\n          toY,\n          $parent,\n          parentOffset,\n          minX,\n          minY,\n          scrollL,\n          scrollT;\n      if (!position) {\n        position = self.options.position;\n      }\n      if (position === 'none' || !self.$kbox.length) {\n        return;\n      }\n      if (position === 'center') {\n        $parent = self.$kbox.offsetParent();\n        parentOffset = $parent.offset();\n        scrollL = $(window).scrollLeft();\n        scrollT = $(window).scrollTop();\n        minX = -parentOffset.left + scrollL;\n        minY = -parentOffset.top + scrollT;\n        toX = ($(window).width() - self.$kbox.outerWidth()) / 2 - parentOffset.left + scrollL;\n        toY = ($(window).height() - self.$kbox.outerHeight()) / 2 - parentOffset.top + scrollT;\n        if (toX < minX) {\n          toX = minX;\n        }\n        if (toY < minY) {\n          toY = minY;\n        }\n        self.$kbox.css({\n          'left': toX,\n          'top': toY,\n          'right': 'inherit',\n          'bottom': 'inherit'\n        });\n      }\n    },\n    close: function close() {\n      var self = this;\n      if (self.options.preClose && !self.options.preClose.call(self)) {\n        // If we have a preClose callback and it returns false,\n        // we don't open anything.\n        return;\n      }\n      if (!self.isOpen) {\n        return;\n      }\n      self.isOpen = false;\n      self.$kbox.removeClass('kbox-open');\n      if (self.options.modal) {\n        self.destroyOverlay();\n      }\n      if (self.options.destroy) {\n        self.destroy();\n      }\n      if (self.options.closeOnEsc) {\n        $('body').unbind('keypress', self.keypressHandler);\n      }\n      if (self.options.closeOnOutClick) {\n        $('body').unbind('click', self.clickHandler);\n      }\n    },\n    destroy: function destroy() {\n      // return DOM to how it was originally, if possible.\n      var self = this;\n      if (self.$container && self.$ph) {\n        self.$ph.replaceWith(self.$el.detach());\n      }\n      self.$kbox.remove();\n    },\n    createOverlay: function createOverlay() {\n      var self = this;\n      self.$overlay = $(OVERLAY);\n      self.$kbox.before(self.$overlay);\n    },\n    destroyOverlay: function destroyOverlay() {\n      if (this.$overlay) {\n        this.$overlay.remove();\n        delete this.$overlay;\n      }\n    }\n  };\n\n  // Create the jQuery plugin.\n  $.fn.kbox = function (options) {\n    return this.each(function () {\n      new KBox(this, options); // eslint-disable-line\n    });\n  };\n\n  // Expose KBox to the world, in case they don't want to use the plugin.\n  window.KBox = KBox;\n\n  // Initialize declared kboxes.\n  $('.kbox').kbox();\n})(jQuery);\n/**\n * A KBox type and a corresponding jQuery plugin.\n *\n * So, what is a kbox?\n * A kbox can be a modal dialog or a (dhtml, not window) popup or a ...\n * The kbox can be configured programatically or using data-* attributes.\n * Default styles are in kbox.css.\n *\n * Usage\n *      Declarative:\n *      <a id=\"example-id\" ...>Click here to show modal</a>\n *      <div class=\"kbox\" title=\"A modal dialog\" data-target=\"#example-id\" data-modal=\"true\">\n *          .... modal content ....\n *      </div>\n *\n *      Programatic:\n *      var kbox = new KBox('<p>Some content</p>', {\n *          title: 'KBox Title'\n *      });\n *      kbox.open();\n *\n *      Mixed:\n *      [HTML]\n *      <a id=\"a-id\" ...>Click ...</a>\n *      <div id=\"kbox-id\" class=\"kbox\" data-target=\"#a-id\">...content...</div>\n *      [JavaScript]\n *      var kbox = $('kbox-id').data('kbox'); // Gets the kbox instance.\n *      kbox.updateOptions({\n *          preOpen: function() {\n *              // If isFormValid() returns false, the kbox doesn't open;\n *              return isFormValid();\n *          }\n *      });\n *\n * Options\n *      clickTarget / data-target:\n *          jQuery or DOM elements or CSS Selector to target(s)\n *          that will trigger the kbox to open on click. Optional.\n *      closeOnEsc / data-close-on-esc:\n *          Close the kbox on ESC. Default: true.\n *      closeOnOutClick: / data-close-on-out-click:\n *          Close the kbox on any click outside of it. Default: false.\n *      container / data-container:\n *          jQuery or DOM element for appending the kbox. Optional.\n *          If html string is passed as the content of the kbox, container\n *          will default to $('body').\n *      destroy / data-destroy:\n *          Clean up DOM changes on close. Default: false.\n *      id / data-id:\n *          An id for the kbox container. Optional.\n *      modal / data-modal:\n *          Do we need to make the kbox modal? Adds a background overlay.\n *          Default: false.\n *      position / data-position:\n *          Where to position the kbox.\n *              'center': (default) centers the kbox in the window\n *              'none': doesn't do any positioning so you can do it in CSS\n *              (TODO:) 'force-center': keeps kbox center as window scrolls\n *      preOpen:\n *          A function to call before opening the kbox. If the function\n *          returns false, the kbox isn't opened. Optional.\n *      preClose:\n *          A function to call before closing the kbox. If the function\n *          returns false, the kbox isn't closed. Optional.\n *      template:\n *          Override the template to use for creating the modal.\n *      title:\n *          The kbox's title.\n */\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9hcHAva2l0c3VuZS9zdW1vL3N0YXRpYy9zdW1vL2pzL2tib3guanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBdUVBLENBQUMsVUFBUyxDQUFDLEVBQUU7O0FBRVgsY0FBWSxDQUFDOztBQUViLE1BQUksUUFBUSxHQUNSLDhCQUE4QixHQUM5QixrREFBa0QsR0FDbEQsZ0NBQWdDLEdBQ2hDLDhEQUE4RCxHQUM5RCxRQUFRLEFBQ1Q7TUFDRCxPQUFPLEdBQUcsK0JBQStCLENBQUM7OztBQUc1QyxXQUFTLElBQUksQ0FBQyxFQUFFLEVBQUUsT0FBTyxFQUFFO0FBQ3pCLFFBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsRUFBRSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0dBQzdDOztBQUVELE1BQUksQ0FBQyxTQUFTLEdBQUc7QUFDZixRQUFJLEVBQUUsY0FBUyxFQUFFLEVBQUUsT0FBTyxFQUFFO0FBQzFCLFVBQUksSUFBSSxHQUFHLElBQUksQ0FBQztBQUNoQixVQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQztBQUNiLFVBQUksQ0FBQyxJQUFJLEdBQUcsT0FBTyxFQUFFLEtBQUssUUFBUSxJQUFJLEVBQUUsQ0FBQztBQUN6QyxVQUFJLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUNqQixhQUFPLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQzs7QUFFakIsbUJBQVcsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUM7QUFDcEMsa0JBQVUsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsS0FBSyxTQUFTLEdBQ3ZELElBQUksR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDO0FBQ3RDLHVCQUFlLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxD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Q0QsV0FBTyxFQUFFLG1CQUFXOztBQUVsQixVQUFJLElBQUksR0FBRyxJQUFJLENBQUM7QUFDaEIsVUFBSSxJQUFJLENBQUMsVUFBVSxJQUFJLElBQUksQ0FBQyxHQUFHLEVBQUU7QUFDL0IsWUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDO09BQ3pDO0FBQ0QsVUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQztLQUNyQjtBQUNELGlCQUFhLEVBQUUseUJBQVc7QUFDeEIsVUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDO0FBQ2hCLFVBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0FBQzNCLFVBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztLQUNsQztBQUNELGtCQUFjLEVBQUUsMEJBQVc7QUFDekIsVUFBSSxJQUFJLENBQUMsUUFBUSxFQUFFO0FBQ2pCLFlBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxFQUFFLENBQUM7QUFDdkIsZUFBTyxJQUFJLENBQUMsUUFBUSxDQUFDO09BQ3RCO0tBQ0Y7R0FDRixDQUFDOzs7QUFHRixHQUFDLENBQUMsRUFBRSxDQUFDLElBQUksR0FBRyxVQUFTLE9BQU8sRUFBRTtBQUM1QixXQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBVztBQUMxQixVQUFJLElBQUksQ0FBQyxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUM7S0FDekIsQ0FBQyxDQUFDO0dBQ0osQ0FBQzs7O0FBR0YsUUFBTSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7OztBQUduQixHQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUM7Q0FFbkIsQ0FBQSxDQUFFLE1BQU0sQ0FBQyxDQUFDIiwiZmlsZSI6Ii9hcHAva2l0c3VuZS9zdW1vL3N0YXRpYy9zdW1vL2pzL2tib3guanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBnbG9iYWxzIGpRdWVyeTpmYWxzZSAqL1xuLyoqXG4gKiBBIEtCb3ggdHlwZSBhbmQgYSBjb3JyZXNwb25kaW5nIGpRdWVyeSBwbHVnaW4uXG4gKlxuICogU28sIHdoYXQgaXMgYSBrYm94P1xuICogQSBrYm94IGNhbiBiZSBhIG1vZGFsIGRpYWxvZyBvciBhIChkaHRtbCwgbm90IHdpbmRvdykgcG9wdXAgb3IgYSAuLi5cbiAqIFRoZSBrYm94IGNhbiBiZSBjb25maWd1cmVkIHByb2dyYW1hdGljYWxseSBvciB1c2luZyBkYXRhLSogYXR0cmlidXRlcy5cbiAqIERlZmF1bHQgc3R5bGVzIGFyZSBpbiBrYm94LmNzcy5cbiAqXG4gKiBVc2FnZVxuICogICAgICBEZWNsYXJhdGl2ZTpcbiAqICAgICAgPGEgaWQ9XCJleGFtcGxlLWlkXCIgLi4uPkNsaWNrIGhlcmUgdG8gc2hvdyBtb2RhbDwvYT5cbiAqICAgICAgPGRpdiBjbGFzcz1cImtib3hcIiB0aXRsZT1cIkEgbW9kYWwgZGlhbG9nXCIgZGF0YS10YXJnZXQ9XCIjZXhhbXBsZS1pZFwiIGRhdGEtbW9kYWw9XCJ0cnVlXCI+XG4gKiAgICAgICAgICAuLi4uIG1vZGFsIGNvbnRlbnQgLi4uLlxuICogICAgICA8L2Rpdj5cbiAqXG4gKiAgICAgIFByb2dyYW1hdGljOlxuICogICAgICB2YXIga2JveCA9IG5ldyBLQm94KCc8cD5Tb21lIGNvbnRlbnQ8L3A+Jywge1xuICogICAgICAgICAgdGl0bGU6ICdLQm94IFRpdGxlJ1xuICogICAgICB9KTtcbiAqICAgICAga2JveC5vcGVuKCk7XG4gKlxuICogICAgICBNaXhlZDpcbiAqICAgICAgW0hUTUxdXG4gKiAgICAgIDxhIGlkPVwiYS1pZFwiIC4uLj5DbGljayAuLi48L2E+XG4gKiAgICAgIDxkaXYgaWQ9XCJrYm94LWlkXCIgY2xhc3M9XCJrYm94XCIgZGF0YS10YXJnZXQ9XCIjYS1pZFwiPi4uLmNvbnRlbnQuLi48L2Rpdj5cbiAqICAgICAgW0phdmFTY3JpcHRdXG4gKiAgICAgIHZhciBrYm94ID0gJCgna2JveC1pZCcpLmRhdGEoJ2tib3gnKTsgLy8gR2V0cyB0aGUga2JveCBpbnN0YW5jZS5cbiAqICAgICAga2JveC51cGRhdGVPcHRpb25zKHtcbiAqICAgICAgICAgIHByZU9wZW46IGZ1bmN0aW9uKCkge1xuICogICAgICAgICAgICAgIC8vIElmIGlzRm9ybVZhbGlkKCkgcmV0dXJucyBmYWxzZSwgdGhlIGtib3ggZG9lc24ndCBvcGVuO1xuICogICAgICAgICAgICAgIHJldHVybiBpc0Zvcm1WYWxpZCgpO1xuICogICAgICAgICAgfVxuICogICAgICB9KTtcbiAqXG4gKiBPcHRpb25zXG4gKiAgICAgIGNsaWNrVGFyZ2V0IC8gZGF0YS10YXJnZXQ6XG4gKiAgICAgICAgICBqUXVlcnkgb3IgRE9NIGVsZW1lbnRzIG9yIENTUyBTZWxlY3RvciB0byB0YXJnZXQocylcbiAqICAgICAgICAgIHRoYXQgd2lsbCB0cmlnZ2VyIHRoZSBrYm94IHRvIG9wZW4gb24gY2xpY2suIE9wdGlvbmFsLlxuICogICAgICBjbG9zZU9uRXNjIC8gZGF0YS1jbG9zZS1vbi1lc2M6XG4gKiAgICAgICAgICBDbG9zZSB0aGUga2JveCBvbiBFU0MuIERlZmF1bHQ6IHRydWUuXG4gKiAgICAgIGNsb3NlT25PdXRDbGljazogLyBkYXRhLWNsb3NlLW9uLW91dC1jbGljazpcbiAqICAgICAgICAgIENsb3NlIHRoZSBrYm94IG9uIGFueSBjbGljayBvdXRzaWRlIG9mIGl0LiBEZWZhdWx0OiBmYWxzZS5cbiAqICAgICAgY29udGFpbmVyIC8gZGF0YS1jb250YWluZXI6XG4gKiAgICAgICAgICBqUXVlcnkgb3IgRE9NIGVsZW1lbnQgZm9yIGFwcGVuZGluZyB0aGUga2JveC4gT3B0aW9uYWwuXG4gKiAgICAgICAgICBJZiBodG1sIHN0cmluZyBpcyBwYXNzZWQgYXMgdGhlIGNvbnRlbnQgb2YgdGhlIGtib3gsIGNvbnRhaW5lclxuICogICAgICAgICAgd2lsbCBkZWZhdWx0IHRvICQoJ2JvZHknKS5cbiAqICAgICAgZGVzdHJveSAvIGRhdGEtZGVzdHJveTpcbiAqICAgICAgICAgIENsZWFuIHVwIERPTSBjaGFuZ2VzIG9uIGNsb3NlLiBEZWZhdWx0OiBmYWxzZS5cbiAqICAgICAgaWQgLyBkYXRhLWlkOlxuICogICAgICAgICAgQW4gaWQgZm9yIHRoZSBrYm94IGNvbnRhaW5lci4gT3B0aW9uYWwuXG4gKiAgICAgIG1vZGFsIC8gZGF0YS1tb2RhbDpcbiAqICAgICAgICAgIERvIHdlIG5lZWQgdG8gbWFrZSB0aGUga2JveCBtb2RhbD8gQWRkcyBhIGJhY2tncm91bmQgb3ZlcmxheS5cbiAqICAgICAgICAgIERlZmF1bHQ6IGZhbHNlLlxuICogICAgICBwb3NpdGlvbiAvIGRhdGEtcG9zaXRpb246XG4gKiAgICAgICAgICBXaGVyZSB0byBwb3NpdGlvbiB0aGUga2JveC5cbiAqICAgICAgICAgICAgICAnY2VudGVyJzogKGRlZmF1bHQpIGNlbnRlcnMgdGhlIGtib3ggaW4gdGhlIHdpbmRvd1xuICogICAgICAgICAgICAgICdub25lJzogZG9lc24ndCBkbyBhbnkgcG9zaXRpb25pbmcgc28geW91IGNhbiBkbyBpdCBpbiBDU1NcbiAqICAgICAgICAgICAgICAoVE9ETzopICdmb3JjZS1jZW50ZXInOiBrZWVwcyBrYm94IGNlbnRlciBhcyB3aW5kb3cgc2Nyb2xsc1xuICogICAgICBwcmVPcGVuOlxuICogICAgICAgICAgQSBmdW5jdGlvbiB0byBjYWxsIGJlZm9yZSBvcGVuaW5nIHRoZSBrYm94LiBJZiB0aGUgZnVuY3Rpb25cbiAqICAgICAgICAgIHJldHVybnMgZmFsc2UsIHRoZSBrYm94IGlzbid0IG9wZW5lZC4gT3B0aW9uYWwuXG4gKiAgICAgIHByZUNsb3NlOlxuICogICAgICAgICAgQSBmdW5jdGlvbiB0byBjYWxsIGJlZm9yZSBjbG9zaW5nIHRoZSBrYm94LiBJZiB0aGUgZnVuY3Rpb25cbiAqICAgICAgICAgIHJldHVybnMgZmFsc2UsIHRoZSBrYm94IGlzbid0IGNsb3NlZC4gT3B0aW9uYWwuXG4gKiAgICAgIHRlbXBsYXRlOlxuICogICAgICAgICAgT3ZlcnJpZGUgdGhlIHRlbXBsYXRlIHRvIHVzZSBmb3IgY3JlYXRpbmcgdGhlIG1vZGFsLlxuICogICAgICB0aXRsZTpcbiAqICAgICAgICAgIFRoZSBrYm94J3MgdGl0bGUuXG4gKi9cblxuKGZ1bmN0aW9uKCQpIHtcblxuICAndXNlIHN0cmljdCc7IC8vIEdpdmluZyB0aGlzIGEgc2hvdCFcblxuICB2YXIgVEVNUExBVEUgPSAoXG4gICAgICAnPGRpdiBjbGFzcz1cImtib3gtY29udGFpbmVyXCI+JyArXG4gICAgICAnPGEgaHJlZj1cIiNjbG9zZVwiIGNsYXNzPVwia2JveC1jbG9zZVwiPiYjeDI3MTY7PC9hPicgK1xuICAgICAgJzxkaXYgY2xhc3M9XCJrYm94LXRpdGxlXCI+PC9kaXY+JyArXG4gICAgICAnPGRpdiBjbGFzcz1cImtib3gtd3JhcFwiPjxkaXYgY2xhc3M9XCJrYm94LXBsYWNlaG9sZGVyXCIvPjwvZGl2PicgK1xuICAgICAgJzwvZGl2PidcbiAgICApLFxuICAgIE9WRVJMQVkgPSAnPGRpdiBpZD1cImtib3gtb3ZlcmxheVwiPjwvZGl2Pic7XG5cbiAgLy8gVGhlIEtCb3ggdHlwZVxuICBmdW5jdGlvbiBLQm94KGVsLCBvcHRpb25zKSB7XG4gICAgS0JveC5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMsIGVsLCBvcHRpb25zKTtcbiAgfVxuXG4gIEtCb3gucHJvdG90eXBlID0ge1xuICAgIGluaXQ6IGZ1bmN0aW9uKGVsLCBvcHRpb25zKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICBzZWxmLmVsID0gZWw7XG4gICAgICBzZWxmLmh0bWwgPSB0eXBlb2YgZWwgPT09ICdzdHJpbmcnICYmIGVsO1xuICAgICAgc2VsZi4kZWwgPSAkKGVsKTtcbiAgICAgIG9wdGlvbnMgPSAkLmV4dGVuZCh7XG4gICAgICAgIC8vIGRlZmF1bHRzXG4gICAgICAgIGNsaWNrVGFyZ2V0OiBzZWxmLiRlbC5kYXRhKCd0YXJnZXQnKSxcbiAgICAgICAgY2xvc2VPbkVzYzogc2VsZi4kZWwuZGF0YSgnY2xvc2Utb24tZXNjJykgPT09IHVuZGVmaW5lZCA/XG4gICAgICAgIHRydWUgOiAhIXNlbGYuJGVsLmRhdGEoJ2Nsb3NlLW9uLWVzYycpLFxuICAgICAgICBjbG9zZU9uT3V0Q2xpY2s6ICEhc2VsZi4kZWwuZGF0YSgnY2xvc2Utb24tb3V0LWNsaWNrJyksXG4gICAgICAgIGNvbnRhaW5lcjogc2VsZi5odG1sICYmICQoJ2JvZHknKSxcbiAgICAgICAgLy8gVE9ETzogbWF4SGVpZ2h0OiBzZWxmLiRlbC5kYXRhKCdtYXgtaGVpZ2h0JykgfHwgJ3dpbmRvdycsXG4gICAgICAgIGRlc3Ryb3k6ICEhc2VsZi4kZWwuZGF0YSgnZGVzdHJveScpLFxuICAgICAgICBpZDogc2VsZi4kZWwuZGF0YSgnaWQnKSxcbiAgICAgICAgbW9kYWw6ICEhc2VsZi4kZWwuZGF0YSgnbW9kYWwnKSxcbiAgICAgICAgcG9zaXRpb246IHNlbGYuJGVsLmRhdGEoJ3Bvc2l0aW9uJykgfHwgJ2NlbnRlcicsXG4gICAgICAgIHByZU9wZW46IGZhbHNlLFxuICAgICAgICBwcmVDbG9zZTogZmFsc2UsXG4gICAgICAgIHRlbXBsYXRlOiBURU1QTEFURSxcbiAgICAgICAgdGl0bGU6IHNlbGYuJGVsLmF0dHIoJ3RpdGxlJykgfHwgc2VsZi4kZWwuYXR0cignZGF0YS10aXRsZScpXG4gICAgICB9LCBvcHRpb25zKTtcbiAgICAgIHNlbGYub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICBzZWxmLiRjbGlja1RhcmdldCA9IG9wdGlvbnMuY2xpY2tUYXJnZXQgJiYgJChvcHRpb25zLmNsaWNrVGFyZ2V0KTtcbiAgICAgIHNlbGYuJGNvbnRhaW5lciA9IG9wdGlvbnMuY29udGFpbmVyICYmICQob3B0aW9ucy5jb250YWluZXIpO1xuICAgICAgc2VsZi5yZW5kZXJlZCA9IGZhbHNlOyAvLyBkaWQgd2UgcmVuZGVyIG91dCB5ZXQ/XG4gICAgICBzZWxmLiRwaCA9IGZhbHNlOyAvLyBwbGFjZWhvbGRlciB1c2VkIGlmIHdlIG5lZWQgdG8gbW92ZSBzZWxmLiRlbCBpbiB0aGUgRE9NLlxuICAgICAgc2VsZi4ka2JveCA9ICQoKTtcbiAgICAgIHNlbGYuaXNPcGVuID0gZmFsc2U7XG5cbiAgICAgIC8vIE1ha2UgdGhlIGluc3RhbmNlIGFjY2Vzc2libGUgZnJvbSB0aGUgRE9NIGVsZW1lbnQuXG4gICAgICBzZWxmLiRlbC5kYXRhKCdrYm94Jywgc2VsZik7XG5cbiAgICAgIC8vIElmIHdlIGhhdmUgYSBjbGljayB0YXJnZXQsIG9wZW4gdGhlIGtib3ggd2hlbiBpdCBpcyBjbGlja2VkLlxuICAgICAgaWYgKHNlbGYuJGNsaWNrVGFyZ2V0KSB7XG4gICAgICAgIHNlbGYuJGNsaWNrVGFyZ2V0LmNsaWNrKGZ1bmN0aW9uKGV2KSB7XG4gICAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBzZWxmLm9wZW4oKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICB9LFxuICAgIHVwZGF0ZU9wdGlvbnM6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIC8vIEFiaWxpdHkgdG8gdXBkYXRlIG9wdGlvbnMgcHJvZ3JhbW1hdGljYWxseSBhZnRlciBrYm94IGNyZWF0aW9uLlxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgc2VsZi5vcHRpb25zID0gJC5leHRlbmQoc2VsZi5vcHRpb25zLCBvcHRpb25zKTtcbiAgICAgIHNlbGYuJGNsaWNrVGFyZ2V0ID0gb3B0aW9ucy5jbGlja1RhcmdldCAmJiAkKG9wdGlvbnMuY2xpY2tUYXJnZXQpO1xuICAgICAgc2VsZi4kY29udGFpbmVyID0gb3B0aW9ucy5jb250YWluZXIgJiYgJChvcHRpb25zLmNvbnRhaW5lcik7XG4gICAgfSxcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgc2VsZi4ka2JveCA9ICQoc2VsZi5vcHRpb25zLnRlbXBsYXRlKTtcblxuICAgICAgaWYgKHNlbGYuJGNvbnRhaW5lcikge1xuICAgICAgICAvLyBUaGUga2JveCB3aWxsIGJlIGFwcGVuZGVkIHRvIHRoZSBjb250YWluZXIuXG4gICAgICAgIGlmIChzZWxmLiRlbC5wYXJlbnQoKS5sZW5ndGgpIHtcbiAgICAgICAgICAvLyBJZiB3ZSBhcmUgYXR0YWNoZWQgdG8gdGhlIERPTSwgc2F2ZSBvdXIgcGxhY2UgdGhlcmVcbiAgICAgICAgICAvLyBmb3IgcHV0dGluZyBldmVyeXRoaW5nIGJhY2sgaW4gcGxhY2UgbGF0ZXIuXG4gICAgICAgICAgc2VsZi4kcGggPSBzZWxmLiRlbC5iZWZvcmUoJzxkaXYgc3R5bGU9XCJkaXNwbGF5Om5vbmU7XCIvPicpLnByZXYoKTtcbiAgICAgICAgfVxuICAgICAgICBzZWxmLiRrYm94LmFwcGVuZFRvKHNlbGYuJGNvbnRhaW5lcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBUaGUga2JveCB3aWxsIGdvIHJpZ2h0IHdoZXJlICRlbCBpcy5cbiAgICAgICAgc2VsZi4kZWwuYmVmb3JlKHNlbGYuJGtib3gpO1xuICAgICAgfVxuXG4gICAgICAvLyBTZXQgdGhlIGlkIGlmIGl0IHdhcyBzcGVjaWZpZWRcbiAgICAgIGlmIChzZWxmLm9wdGlvbnMuaWQpIHtcbiAgICAgICAgc2VsZi4ka2JveC5hdHRyKCdpZCcsIHNlbGYub3B0aW9ucy5pZCk7XG4gICAgICB9XG5cbiAgICAgIC8vIFNldCB0aGUgdGl0bGUgaWYgaXQgd2FzIHNwZWNpZmllZC5cbiAgICAgIGlmIChzZWxmLm9wdGlvbnMudGl0bGUpIHtcbiAgICAgICAgc2VsZi4ka2JveC5maW5kKCcua2JveC10aXRsZScpLnRleHQoc2VsZi5vcHRpb25zLnRpdGxlKTtcbiAgICAgIH1cblxuICAgICAgLy8gSW5zZXJ0IHRoZSBjb250ZW50LlxuICAgICAgc2VsZi4ka2JveC5maW5kKCcua2JveC1wbGFjZWhvbGRlcicpLnJlcGxhY2VXaXRoKHNlbGYuJGVsLmRldGFjaCgpKTtcblxuICAgICAgLy8gSGFuZGxlIGNsb3NlIGV2ZW50c1xuICAgICAgc2VsZi4ka2JveC5kZWxlZ2F0ZSgnLmtib3gtY2xvc2UsIC5rYm94LWNhbmNlbCcsICdjbGljaycsIGZ1bmN0aW9uKGV2KSB7XG4gICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHNlbGYuY2xvc2UoKTtcbiAgICAgIH0pO1xuXG4gICAgICBzZWxmLnJlbmRlcmVkID0gdHJ1ZTtcbiAgICB9LFxuICAgIG9wZW46IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgaWYgKHNlbGYub3B0aW9ucy5wcmVPcGVuICYmICFzZWxmLm9wdGlvbnMucHJlT3Blbi5jYWxsKHNlbGYpKSB7XG4gICAgICAgIC8vIElmIHdlIGhhdmUgYSBwcmVPcGVuIGNhbGxiYWNrIGFuZCBpdCByZXR1cm5zIGZhbHNlLFxuICAgICAgICAvLyB3ZSBkb24ndCBvcGVuIGFueXRoaW5nLlxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoc2VsZi5pc09wZW4pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2VsZi5pc09wZW4gPSB0cnVlO1xuICAgICAgaWYgKCFzZWxmLnJlbmRlcmVkKSB7XG4gICAgICAgIHNlbGYucmVuZGVyKCk7XG4gICAgICB9XG4gICAgICBzZWxmLiRrYm94LmFkZENsYXNzKCdrYm94LW9wZW4nKTtcbiAgICAgIHNlbGYuc2V0UG9zaXRpb24oKTtcbiAgICAgIGlmIChzZWxmLm9wdGlvbnMubW9kYWwpIHtcbiAgICAgICAgc2VsZi5jcmVhdGVPdmVybGF5KCk7XG4gICAgICB9XG5cbiAgICAgIC8vIEhhbmRsZSBFU0NcbiAgICAgIGlmIChzZWxmLm9wdGlvbnMuY2xvc2VPbkVzYykge1xuICAgICAgICBzZWxmLmtleXByZXNzSGFuZGxlciA9IGZ1bmN0aW9uKGV2KSB7XG4gICAgICAgICAgaWYgKGV2LmtleUNvZGUgPT09IDI3KSB7XG4gICAgICAgICAgICBzZWxmLmNsb3NlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAkKGRvY3VtZW50KS5rZXlwcmVzcyhzZWxmLmtleXByZXNzSGFuZGxlcik7XG4gICAgICB9XG5cbiAgICAgIC8vIEhhbmRsZSBvdXRzaWRlIGNsaWNrc1xuICAgICAgaWYgKHNlbGYub3B0aW9ucy5jbG9zZU9uT3V0Q2xpY2spIHtcbiAgICAgICAgc2VsZi5jbGlja0hhbmRsZXIgPSBmdW5jdGlvbihldikge1xuICAgICAgICAgIGlmICgkKGV2LnRhcmdldCkuY2xvc2VzdCgnLmtib3gtY29udGFpbmVyJykubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAvLyBUaGUgY2xpY2sgaXNuJ3QgaW5zaWRlIHRoZSBrYm94LCBzbyBsZXRzIGNsb3NlIGl0LlxuICAgICAgICAgICAgc2VsZi5jbG9zZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsgLy8gc28gaXQgZG9lc24ndCBnZXQgdHJpZ2dlcmVkIG9uIHRoaXMgY2xpY2tcbiAgICAgICAgICAkKCdib2R5JykuY2xpY2soc2VsZi5jbGlja0hhbmRsZXIpO1xuICAgICAgICB9LCAwKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHNldFBvc2l0aW9uOiBmdW5jdGlvbihwb3NpdGlvbikge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICB0b1gsIHRvWSwgJHBhcmVudCwgcGFyZW50T2Zmc2V0LCBtaW5YLCBtaW5ZLCBzY3JvbGxMLCBzY3JvbGxUO1xuICAgICAgaWYgKCFwb3NpdGlvbikge1xuICAgICAgICBwb3NpdGlvbiA9IHNlbGYub3B0aW9ucy5wb3NpdGlvbjtcbiAgICAgIH1cbiAgICAgIGlmIChwb3NpdGlvbiA9PT0gJ25vbmUnIHx8ICFzZWxmLiRrYm94Lmxlbmd0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAocG9zaXRpb24gPT09ICdjZW50ZXInKSB7XG4gICAgICAgICRwYXJlbnQgPSBzZWxmLiRrYm94Lm9mZnNldFBhcmVudCgpO1xuICAgICAgICBwYXJlbnRPZmZzZXQgPSAkcGFyZW50Lm9mZnNldCgpO1xuICAgICAgICBzY3JvbGxMID0gJCh3aW5kb3cpLnNjcm9sbExlZnQoKTtcbiAgICAgICAgc2Nyb2xsVCA9ICQod2luZG93KS5zY3JvbGxUb3AoKTtcbiAgICAgICAgbWluWCA9IC1wYXJlbnRPZmZzZXQubGVmdCArIHNjcm9sbEw7XG4gICAgICAgIG1pblkgPSAtcGFyZW50T2Zmc2V0LnRvcCArIHNjcm9sbFQ7XG4gICAgICAgIHRvWCA9ICgkKHdpbmRvdykud2lkdGgoKSAtIHNlbGYuJGtib3gub3V0ZXJXaWR0aCgpKSAvIDIgLSBwYXJlbnRPZmZzZXQubGVmdCArIHNjcm9sbEw7XG4gICAgICAgIHRvWSA9ICgkKHdpbmRvdykuaGVpZ2h0KCkgLSBzZWxmLiRrYm94Lm91dGVySGVpZ2h0KCkpIC8gMiAtIHBhcmVudE9mZnNldC50b3AgKyBzY3JvbGxUO1xuICAgICAgICBpZiAodG9YIDwgbWluWCkge1xuICAgICAgICAgIHRvWCA9IG1pblg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRvWSA8IG1pblkpIHtcbiAgICAgICAgICB0b1kgPSBtaW5ZO1xuICAgICAgICB9XG4gICAgICAgIHNlbGYuJGtib3guY3NzKHtcbiAgICAgICAgICAnbGVmdCc6IHRvWCxcbiAgICAgICAgICAndG9wJzogdG9ZLFxuICAgICAgICAgICdyaWdodCc6ICdpbmhlcml0JyxcbiAgICAgICAgICAnYm90dG9tJzogJ2luaGVyaXQnXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgY2xvc2U6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgaWYgKHNlbGYub3B0aW9ucy5wcmVDbG9zZSAmJiAhc2VsZi5vcHRpb25zLnByZUNsb3NlLmNhbGwoc2VsZikpIHtcbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBhIHByZUNsb3NlIGNhbGxiYWNrIGFuZCBpdCByZXR1cm5zIGZhbHNlLFxuICAgICAgICAvLyB3ZSBkb24ndCBvcGVuIGFueXRoaW5nLlxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIXNlbGYuaXNPcGVuKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNlbGYuaXNPcGVuID0gZmFsc2U7XG4gICAgICBzZWxmLiRrYm94LnJlbW92ZUNsYXNzKCdrYm94LW9wZW4nKTtcbiAgICAgIGlmIChzZWxmLm9wdGlvbnMubW9kYWwpIHtcbiAgICAgICAgc2VsZi5kZXN0cm95T3ZlcmxheSgpO1xuICAgICAgfVxuICAgICAgaWYgKHNlbGYub3B0aW9ucy5kZXN0cm95KSB7XG4gICAgICAgIHNlbGYuZGVzdHJveSgpO1xuICAgICAgfVxuICAgICAgaWYgKHNlbGYub3B0aW9ucy5jbG9zZU9uRXNjKSB7XG4gICAgICAgICQoJ2JvZHknKS51bmJpbmQoJ2tleXByZXNzJywgc2VsZi5rZXlwcmVzc0hhbmRsZXIpO1xuICAgICAgfVxuICAgICAgaWYgKHNlbGYub3B0aW9ucy5jbG9zZU9uT3V0Q2xpY2spIHtcbiAgICAgICAgJCgnYm9keScpLnVuYmluZCgnY2xpY2snLCBzZWxmLmNsaWNrSGFuZGxlcik7XG4gICAgICB9XG4gICAgfSxcbiAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgIC8vIHJldHVybiBET00gdG8gaG93IGl0IHdhcyBvcmlnaW5hbGx5LCBpZiBwb3NzaWJsZS5cbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIGlmIChzZWxmLiRjb250YWluZXIgJiYgc2VsZi4kcGgpIHtcbiAgICAgICAgc2VsZi4kcGgucmVwbGFjZVdpdGgoc2VsZi4kZWwuZGV0YWNoKCkpO1xuICAgICAgfVxuICAgICAgc2VsZi4ka2JveC5yZW1vdmUoKTtcbiAgICB9LFxuICAgIGNyZWF0ZU92ZXJsYXk6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgc2VsZi4kb3ZlcmxheSA9ICQoT1ZFUkxBWSk7XG4gICAgICBzZWxmLiRrYm94LmJlZm9yZShzZWxmLiRvdmVybGF5KTtcbiAgICB9LFxuICAgIGRlc3Ryb3lPdmVybGF5OiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLiRvdmVybGF5KSB7XG4gICAgICAgIHRoaXMuJG92ZXJsYXkucmVtb3ZlKCk7XG4gICAgICAgIGRlbGV0ZSB0aGlzLiRvdmVybGF5O1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvLyBDcmVhdGUgdGhlIGpRdWVyeSBwbHVnaW4uXG4gICQuZm4ua2JveCA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgbmV3IEtCb3godGhpcywgb3B0aW9ucyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICB9KTtcbiAgfTtcblxuICAvLyBFeHBvc2UgS0JveCB0byB0aGUgd29ybGQsIGluIGNhc2UgdGhleSBkb24ndCB3YW50IHRvIHVzZSB0aGUgcGx1Z2luLlxuICB3aW5kb3cuS0JveCA9IEtCb3g7XG5cbiAgLy8gSW5pdGlhbGl6ZSBkZWNsYXJlZCBrYm94ZXMuXG4gICQoJy5rYm94Jykua2JveCgpO1xuXG59KShqUXVlcnkpO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/app/kitsune/sumo/static/sumo/js/kbox.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/app/kitsune/sumo/static/sumo/js/kbox.js",
      "sourcesContent": [
        "/* globals jQuery:false */\n/**\n * A KBox type and a corresponding jQuery plugin.\n *\n * So, what is a kbox?\n * A kbox can be a modal dialog or a (dhtml, not window) popup or a ...\n * The kbox can be configured programatically or using data-* attributes.\n * Default styles are in kbox.css.\n *\n * Usage\n *      Declarative:\n *      <a id=\"example-id\" ...>Click here to show modal</a>\n *      <div class=\"kbox\" title=\"A modal dialog\" data-target=\"#example-id\" data-modal=\"true\">\n *          .... modal content ....\n *      </div>\n *\n *      Programatic:\n *      var kbox = new KBox('<p>Some content</p>', {\n *          title: 'KBox Title'\n *      });\n *      kbox.open();\n *\n *      Mixed:\n *      [HTML]\n *      <a id=\"a-id\" ...>Click ...</a>\n *      <div id=\"kbox-id\" class=\"kbox\" data-target=\"#a-id\">...content...</div>\n *      [JavaScript]\n *      var kbox = $('kbox-id').data('kbox'); // Gets the kbox instance.\n *      kbox.updateOptions({\n *          preOpen: function() {\n *              // If isFormValid() returns false, the kbox doesn't open;\n *              return isFormValid();\n *          }\n *      });\n *\n * Options\n *      clickTarget / data-target:\n *          jQuery or DOM elements or CSS Selector to target(s)\n *          that will trigger the kbox to open on click. Optional.\n *      closeOnEsc / data-close-on-esc:\n *          Close the kbox on ESC. Default: true.\n *      closeOnOutClick: / data-close-on-out-click:\n *          Close the kbox on any click outside of it. Default: false.\n *      container / data-container:\n *          jQuery or DOM element for appending the kbox. Optional.\n *          If html string is passed as the content of the kbox, container\n *          will default to $('body').\n *      destroy / data-destroy:\n *          Clean up DOM changes on close. Default: false.\n *      id / data-id:\n *          An id for the kbox container. Optional.\n *      modal / data-modal:\n *          Do we need to make the kbox modal? Adds a background overlay.\n *          Default: false.\n *      position / data-position:\n *          Where to position the kbox.\n *              'center': (default) centers the kbox in the window\n *              'none': doesn't do any positioning so you can do it in CSS\n *              (TODO:) 'force-center': keeps kbox center as window scrolls\n *      preOpen:\n *          A function to call before opening the kbox. If the function\n *          returns false, the kbox isn't opened. Optional.\n *      preClose:\n *          A function to call before closing the kbox. If the function\n *          returns false, the kbox isn't closed. Optional.\n *      template:\n *          Override the template to use for creating the modal.\n *      title:\n *          The kbox's title.\n */\n\n(function($) {\n\n  'use strict'; // Giving this a shot!\n\n  var TEMPLATE = (\n      '<div class=\"kbox-container\">' +\n      '<a href=\"#close\" class=\"kbox-close\">&#x2716;</a>' +\n      '<div class=\"kbox-title\"></div>' +\n      '<div class=\"kbox-wrap\"><div class=\"kbox-placeholder\"/></div>' +\n      '</div>'\n    ),\n    OVERLAY = '<div id=\"kbox-overlay\"></div>';\n\n  // The KBox type\n  function KBox(el, options) {\n    KBox.prototype.init.call(this, el, options);\n  }\n\n  KBox.prototype = {\n    init: function(el, options) {\n      var self = this;\n      self.el = el;\n      self.html = typeof el === 'string' && el;\n      self.$el = $(el);\n      options = $.extend({\n        // defaults\n        clickTarget: self.$el.data('target'),\n        closeOnEsc: self.$el.data('close-on-esc') === undefined ?\n        true : !!self.$el.data('close-on-esc'),\n        closeOnOutClick: !!self.$el.data('close-on-out-click'),\n        container: self.html && $('body'),\n        // TODO: maxHeight: self.$el.data('max-height') || 'window',\n        destroy: !!self.$el.data('destroy'),\n        id: self.$el.data('id'),\n        modal: !!self.$el.data('modal'),\n        position: self.$el.data('position') || 'center',\n        preOpen: false,\n        preClose: false,\n        template: TEMPLATE,\n        title: self.$el.attr('title') || self.$el.attr('data-title')\n      }, options);\n      self.options = options;\n      self.$clickTarget = options.clickTarget && $(options.clickTarget);\n      self.$container = options.container && $(options.container);\n      self.rendered = false; // did we render out yet?\n      self.$ph = false; // placeholder used if we need to move self.$el in the DOM.\n      self.$kbox = $();\n      self.isOpen = false;\n\n      // Make the instance accessible from the DOM element.\n      self.$el.data('kbox', self);\n\n      // If we have a click target, open the kbox when it is clicked.\n      if (self.$clickTarget) {\n        self.$clickTarget.click(function(ev) {\n          ev.preventDefault();\n          self.open();\n        });\n      }\n\n    },\n    updateOptions: function(options) {\n      // Ability to update options programmatically after kbox creation.\n      var self = this;\n      self.options = $.extend(self.options, options);\n      self.$clickTarget = options.clickTarget && $(options.clickTarget);\n      self.$container = options.container && $(options.container);\n    },\n    render: function() {\n      var self = this;\n      self.$kbox = $(self.options.template);\n\n      if (self.$container) {\n        // The kbox will be appended to the container.\n        if (self.$el.parent().length) {\n          // If we are attached to the DOM, save our place there\n          // for putting everything back in place later.\n          self.$ph = self.$el.before('<div style=\"display:none;\"/>').prev();\n        }\n        self.$kbox.appendTo(self.$container);\n      } else {\n        // The kbox will go right where $el is.\n        self.$el.before(self.$kbox);\n      }\n\n      // Set the id if it was specified\n      if (self.options.id) {\n        self.$kbox.attr('id', self.options.id);\n      }\n\n      // Set the title if it was specified.\n      if (self.options.title) {\n        self.$kbox.find('.kbox-title').text(self.options.title);\n      }\n\n      // Insert the content.\n      self.$kbox.find('.kbox-placeholder').replaceWith(self.$el.detach());\n\n      // Handle close events\n      self.$kbox.delegate('.kbox-close, .kbox-cancel', 'click', function(ev) {\n        ev.preventDefault();\n        self.close();\n      });\n\n      self.rendered = true;\n    },\n    open: function() {\n      var self = this;\n      if (self.options.preOpen && !self.options.preOpen.call(self)) {\n        // If we have a preOpen callback and it returns false,\n        // we don't open anything.\n        return;\n      }\n      if (self.isOpen) {\n        return;\n      }\n      self.isOpen = true;\n      if (!self.rendered) {\n        self.render();\n      }\n      self.$kbox.addClass('kbox-open');\n      self.setPosition();\n      if (self.options.modal) {\n        self.createOverlay();\n      }\n\n      // Handle ESC\n      if (self.options.closeOnEsc) {\n        self.keypressHandler = function(ev) {\n          if (ev.keyCode === 27) {\n            self.close();\n          }\n        };\n        $(document).keypress(self.keypressHandler);\n      }\n\n      // Handle outside clicks\n      if (self.options.closeOnOutClick) {\n        self.clickHandler = function(ev) {\n          if ($(ev.target).closest('.kbox-container').length === 0) {\n            // The click isn't inside the kbox, so lets close it.\n            self.close();\n          }\n        };\n        setTimeout(function() { // so it doesn't get triggered on this click\n          $('body').click(self.clickHandler);\n        }, 0);\n      }\n    },\n    setPosition: function(position) {\n      var self = this,\n        toX, toY, $parent, parentOffset, minX, minY, scrollL, scrollT;\n      if (!position) {\n        position = self.options.position;\n      }\n      if (position === 'none' || !self.$kbox.length) {\n        return;\n      }\n      if (position === 'center') {\n        $parent = self.$kbox.offsetParent();\n        parentOffset = $parent.offset();\n        scrollL = $(window).scrollLeft();\n        scrollT = $(window).scrollTop();\n        minX = -parentOffset.left + scrollL;\n        minY = -parentOffset.top + scrollT;\n        toX = ($(window).width() - self.$kbox.outerWidth()) / 2 - parentOffset.left + scrollL;\n        toY = ($(window).height() - self.$kbox.outerHeight()) / 2 - parentOffset.top + scrollT;\n        if (toX < minX) {\n          toX = minX;\n        }\n        if (toY < minY) {\n          toY = minY;\n        }\n        self.$kbox.css({\n          'left': toX,\n          'top': toY,\n          'right': 'inherit',\n          'bottom': 'inherit'\n        });\n      }\n    },\n    close: function() {\n      var self = this;\n      if (self.options.preClose && !self.options.preClose.call(self)) {\n        // If we have a preClose callback and it returns false,\n        // we don't open anything.\n        return;\n      }\n      if (!self.isOpen) {\n        return;\n      }\n      self.isOpen = false;\n      self.$kbox.removeClass('kbox-open');\n      if (self.options.modal) {\n        self.destroyOverlay();\n      }\n      if (self.options.destroy) {\n        self.destroy();\n      }\n      if (self.options.closeOnEsc) {\n        $('body').unbind('keypress', self.keypressHandler);\n      }\n      if (self.options.closeOnOutClick) {\n        $('body').unbind('click', self.clickHandler);\n      }\n    },\n    destroy: function() {\n      // return DOM to how it was originally, if possible.\n      var self = this;\n      if (self.$container && self.$ph) {\n        self.$ph.replaceWith(self.$el.detach());\n      }\n      self.$kbox.remove();\n    },\n    createOverlay: function() {\n      var self = this;\n      self.$overlay = $(OVERLAY);\n      self.$kbox.before(self.$overlay);\n    },\n    destroyOverlay: function() {\n      if (this.$overlay) {\n        this.$overlay.remove();\n        delete this.$overlay;\n      }\n    }\n  };\n\n  // Create the jQuery plugin.\n  $.fn.kbox = function(options) {\n    return this.each(function() {\n      new KBox(this, options); // eslint-disable-line\n    });\n  };\n\n  // Expose KBox to the world, in case they don't want to use the plugin.\n  window.KBox = KBox;\n\n  // Initialize declared kboxes.\n  $('.kbox').kbox();\n\n})(jQuery);\n"
      ]
    },
    "mtime": 1561057444000
  },
  "{\"filename\":\"/app/kitsune/sumo/static/sumo/js/libs/jquery.lazyload.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":2,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "/**\n * jQuery LazyLoad\n * Source: http://github.com/pedromenezes/jQuery-lazyload\n *\n * Modifications By: Tanay Gavankar (tgavankar) and Jack Phelan\n**/\n\n'use strict';\n\n(function ($) {\n    $.fn.lazyload = function (options) {\n        var opts = $.extend($.fn.lazyload.defaults, options);\n        var elements = this;\n        var didScroll = false;\n        loaded = elements.length;\n\n        $(window).bind('scroll', function (e) {\n            didScroll = true;\n        });\n\n        loadAboveTheFoldImages(elements, opts, null);\n\n        // Safari doesn't load images until scroll, sometimes\n        $(window).trigger('scroll');\n\n        var prevHash = window.location.hash;\n\n        // Anchor links should be preserved\n        resetHashPosition();\n\n        var intv = setInterval(function () {\n            if (loaded <= 0) {\n                $(window).unbind('scroll');\n                clearInterval(intv);\n                return;\n            }\n            if (didScroll) {\n                didScroll = false;\n                if (prevHash != window.location.hash) {\n                    // In-page anchor link was clicked, preserve it\n                    assocAnchor = window.location.hash;\n                    prevHash = window.location.hash;\n                } else {\n                    assocAnchor = null;\n                }\n                loadedCount = loadAboveTheFoldImages(elements, opts, assocAnchor);\n                loaded -= loadedCount;\n            }\n        }, 250);\n        return this;\n    };\n\n    $.fn.lazyload.defaults = { threshold: 750 };\n\n    function resetHashPosition() {\n        if (window.location.hash) {\n            // Reset scroll to anchor position if it exists\n            window.location.hash = window.location.hash;\n        }\n    }\n\n    function aboveTheFold(element, options) {\n        var fold = $(window).height() + $(window).scrollTop();\n        return fold >= $(element).offset().top - options['threshold'];\n    };\n\n    $.fn.lazyload.loadOriginalImage = function (element, assocAnchor) {\n        if (assocAnchor != null) {\n            $(element).load(function () {\n                resetHashPosition();\n            });\n        }\n        $(element).attr('src', $(element).data('original-src')).removeData('original-src');\n    };\n\n    $.fn.loadnow = function (options) {\n        var elements = this;\n        elements.each(function () {\n            $.fn.lazyload.loadOriginalImage(this);\n            $(this).removeClass('lazy');\n        });\n    };\n\n    function loadAboveTheFoldImages(elements, options, assocAnchor) {\n        var loaded = 0;\n        elements.filter('.lazy').each(function () {\n            if ($(this).hasClass('lazy') && aboveTheFold(this, options) && $(this).data('original-src') && $(this).is(\":visible\")) {\n                $.fn.lazyload.loadOriginalImage(this, assocAnchor);\n                $(this).removeClass('lazy');\n                loaded++;\n            }\n        });\n\n        return loaded;\n    };\n})(jQuery);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9hcHAva2l0c3VuZS9zdW1vL3N0YXRpYy9zdW1vL2pzL2xpYnMvanF1ZXJ5Lmxhenlsb2FkLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQU9BLENBQUMsVUFBUyxDQUFDLEVBQUM7QUFDUixLQUFDLENBQUMsRUFBRSxDQUFDLFFBQVEsR0FBRyxVQUFTLE9BQU8sRUFBQztBQUM3QixZQUFJLElBQUksR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLFFBQVEsRUFBRSxPQUFPLENBQUMsQ0FBQztBQUNyRCxZQUFJLFFBQVEsR0FBRyxJQUFJLENBQUM7QUFDcEIsWUFBSSxTQUFTLEdBQUcsS0FBSyxDQUFDO0FBQ3RCLGNBQU0sR0FBRyxRQUFRLENBQUMsTUFBTSxDQUFDOztBQUV6QixTQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxVQUFTLENBQUMsRUFBQztBQUNoQyxxQkFBUyxHQUFHLElBQUksQ0FBQztTQUNwQixDQUFDLENBQUM7O0FBRUgsOEJBQXNCLENBQUMsUUFBUSxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQzs7O0FBRzdDLFNBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7O0FBRTVCLFlBQUksUUFBUSxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDOzs7QUFHcEMseUJBQWlCLEVBQUUsQ0FBQzs7QUFFcEIsWUFBSSxJQUFJLEdBQUcsV0FBVyxDQUFDLFlBQVc7QUFDOUIsZ0JBQUcsTUFBTSxJQUFJLENBQUMsRUFBRTtBQUNaLGlCQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBQzNCLDZCQUFhLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDcEIsdUJBQU87YUFDVjtBQUNELGdCQUFHLFNBQVMsRUFBRTtBQUNWLHlCQUFTLEdBQUcsS0FBSyxD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LElBQUksRUFBRSxXQUFXLENBQUMsQ0FBQztBQUNuRCxpQkFBQyxDQUFDLElBQUksQ0FBQyxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUM1QixzQkFBTSxFQUFFLENBQUM7YUFDWjtTQUNKLENBQUMsQ0FBQzs7QUFFSCxlQUFPLE1BQU0sQ0FBQztLQUNqQixDQUFDO0NBQ0wsQ0FBQSxDQUFFLE1BQU0sQ0FBQyxDQUFDIiwiZmlsZSI6Ii9hcHAva2l0c3VuZS9zdW1vL3N0YXRpYy9zdW1vL2pzL2xpYnMvanF1ZXJ5Lmxhenlsb2FkLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBqUXVlcnkgTGF6eUxvYWRcbiAqIFNvdXJjZTogaHR0cDovL2dpdGh1Yi5jb20vcGVkcm9tZW5lemVzL2pRdWVyeS1sYXp5bG9hZFxuICpcbiAqIE1vZGlmaWNhdGlvbnMgQnk6IFRhbmF5IEdhdmFua2FyICh0Z2F2YW5rYXIpIGFuZCBKYWNrIFBoZWxhblxuKiovXG5cbihmdW5jdGlvbigkKXtcbiAgICAkLmZuLmxhenlsb2FkID0gZnVuY3Rpb24ob3B0aW9ucyl7XG4gICAgICAgIHZhciBvcHRzID0gJC5leHRlbmQoJC5mbi5sYXp5bG9hZC5kZWZhdWx0cywgb3B0aW9ucyk7XG4gICAgICAgIHZhciBlbGVtZW50cyA9IHRoaXM7XG4gICAgICAgIHZhciBkaWRTY3JvbGwgPSBmYWxzZTtcbiAgICAgICAgbG9hZGVkID0gZWxlbWVudHMubGVuZ3RoO1xuXG4gICAgICAgICQod2luZG93KS5iaW5kKCdzY3JvbGwnLCBmdW5jdGlvbihlKXtcbiAgICAgICAgICAgIGRpZFNjcm9sbCA9IHRydWU7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGxvYWRBYm92ZVRoZUZvbGRJbWFnZXMoZWxlbWVudHMsIG9wdHMsIG51bGwpO1xuXG4gICAgICAgIC8vIFNhZmFyaSBkb2Vzbid0IGxvYWQgaW1hZ2VzIHVudGlsIHNjcm9sbCwgc29tZXRpbWVzXG4gICAgICAgICQod2luZG93KS50cmlnZ2VyKCdzY3JvbGwnKTtcblxuICAgICAgICB2YXIgcHJldkhhc2ggPSB3aW5kb3cubG9jYXRpb24uaGFzaDtcblxuICAgICAgICAvLyBBbmNob3IgbGlua3Mgc2hvdWxkIGJlIHByZXNlcnZlZFxuICAgICAgICByZXNldEhhc2hQb3NpdGlvbigpO1xuXG4gICAgICAgIHZhciBpbnR2ID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZihsb2FkZWQgPD0gMCkge1xuICAgICAgICAgICAgICAgICQod2luZG93KS51bmJpbmQoJ3Njcm9sbCcpO1xuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50dik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoZGlkU2Nyb2xsKSB7XG4gICAgICAgICAgICAgICAgZGlkU2Nyb2xsID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYocHJldkhhc2ggIT0gd2luZG93LmxvY2F0aW9uLmhhc2gpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSW4tcGFnZSBhbmNob3IgbGluayB3YXMgY2xpY2tlZCwgcHJlc2VydmUgaXRcbiAgICAgICAgICAgICAgICAgICAgYXNzb2NBbmNob3IgPSB3aW5kb3cubG9jYXRpb24uaGFzaDtcbiAgICAgICAgICAgICAgICAgICAgcHJldkhhc2ggPSB3aW5kb3cubG9jYXRpb24uaGFzaDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFzc29jQW5jaG9yID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbG9hZGVkQ291bnQgPSBsb2FkQWJvdmVUaGVGb2xkSW1hZ2VzKGVsZW1lbnRzLCBvcHRzLCBhc3NvY0FuY2hvcik7XG4gICAgICAgICAgICAgICAgbG9hZGVkIC09IGxvYWRlZENvdW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCAyNTApO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgJC5mbi5sYXp5bG9hZC5kZWZhdWx0cyA9IHt0aHJlc2hvbGQ6IDc1MH07XG5cbiAgICBmdW5jdGlvbiByZXNldEhhc2hQb3NpdGlvbigpIHtcbiAgICAgICBpZih3aW5kb3cubG9jYXRpb24uaGFzaCkge1xuICAgICAgICAgICAgLy8gUmVzZXQgc2Nyb2xsIHRvIGFuY2hvciBwb3NpdGlvbiBpZiBpdCBleGlzdHNcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gd2luZG93LmxvY2F0aW9uLmhhc2g7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhYm92ZVRoZUZvbGQoZWxlbWVudCwgb3B0aW9ucyl7XG4gICAgICAgIHZhciBmb2xkID0gJCh3aW5kb3cpLmhlaWdodCgpICsgJCh3aW5kb3cpLnNjcm9sbFRvcCgpO1xuICAgICAgICByZXR1cm4gZm9sZCA+PSAkKGVsZW1lbnQpLm9mZnNldCgpLnRvcCAtIChvcHRpb25zWyd0aHJlc2hvbGQnXSk7XG4gICAgfTtcblxuICAgICQuZm4ubGF6eWxvYWQubG9hZE9yaWdpbmFsSW1hZ2UgPSBmdW5jdGlvbihlbGVtZW50LCBhc3NvY0FuY2hvcikge1xuICAgICAgICBpZihhc3NvY0FuY2hvciAhPSBudWxsKSB7XG4gICAgICAgICAgICAkKGVsZW1lbnQpLmxvYWQoZnVuY3Rpb24oKSB7IHJlc2V0SGFzaFBvc2l0aW9uKCk7IH0pO1xuICAgICAgICB9XG4gICAgICAgICQoZWxlbWVudCkuYXR0cignc3JjJywgJChlbGVtZW50KS5kYXRhKCdvcmlnaW5hbC1zcmMnKSkucmVtb3ZlRGF0YSgnb3JpZ2luYWwtc3JjJyk7XG4gICAgfTtcblxuICAgICQuZm4ubG9hZG5vdyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGVsZW1lbnRzID0gdGhpcztcbiAgICAgICAgZWxlbWVudHMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICQuZm4ubGF6eWxvYWQubG9hZE9yaWdpbmFsSW1hZ2UodGhpcyk7XG4gICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdsYXp5Jyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxvYWRBYm92ZVRoZUZvbGRJbWFnZXMoZWxlbWVudHMsIG9wdGlvbnMsIGFzc29jQW5jaG9yKXtcbiAgICAgICAgdmFyIGxvYWRlZCA9IDA7XG4gICAgICAgIGVsZW1lbnRzLmZpbHRlcignLmxhenknKS5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcygnbGF6eScpICYmIGFib3ZlVGhlRm9sZCh0aGlzLCBvcHRpb25zKSAmJlxuICAgICAgICAgICAgICAgICQodGhpcykuZGF0YSgnb3JpZ2luYWwtc3JjJykgJiYgJCh0aGlzKS5pcyhcIjp2aXNpYmxlXCIpKSB7XG4gICAgICAgICAgICAgICAgJC5mbi5sYXp5bG9hZC5sb2FkT3JpZ2luYWxJbWFnZSh0aGlzLCBhc3NvY0FuY2hvcik7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnbGF6eScpO1xuICAgICAgICAgICAgICAgIGxvYWRlZCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gbG9hZGVkO1xuICAgIH07XG59KShqUXVlcnkpO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/app/kitsune/sumo/static/sumo/js/libs/jquery.lazyload.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/app/kitsune/sumo/static/sumo/js/libs/jquery.lazyload.js",
      "sourcesContent": [
        "/**\n * jQuery LazyLoad\n * Source: http://github.com/pedromenezes/jQuery-lazyload\n *\n * Modifications By: Tanay Gavankar (tgavankar) and Jack Phelan\n**/\n\n(function($){\n    $.fn.lazyload = function(options){\n        var opts = $.extend($.fn.lazyload.defaults, options);\n        var elements = this;\n        var didScroll = false;\n        loaded = elements.length;\n\n        $(window).bind('scroll', function(e){\n            didScroll = true;\n        });\n\n        loadAboveTheFoldImages(elements, opts, null);\n\n        // Safari doesn't load images until scroll, sometimes\n        $(window).trigger('scroll');\n\n        var prevHash = window.location.hash;\n\n        // Anchor links should be preserved\n        resetHashPosition();\n\n        var intv = setInterval(function() {\n            if(loaded <= 0) {\n                $(window).unbind('scroll');\n                clearInterval(intv);\n                return;\n            }\n            if(didScroll) {\n                didScroll = false;\n                if(prevHash != window.location.hash) {\n                    // In-page anchor link was clicked, preserve it\n                    assocAnchor = window.location.hash;\n                    prevHash = window.location.hash;\n                }\n                else {\n                    assocAnchor = null;\n                }\n                loadedCount = loadAboveTheFoldImages(elements, opts, assocAnchor);\n                loaded -= loadedCount;\n            }\n        }, 250);\n        return this;\n    };\n\n    $.fn.lazyload.defaults = {threshold: 750};\n\n    function resetHashPosition() {\n       if(window.location.hash) {\n            // Reset scroll to anchor position if it exists\n            window.location.hash = window.location.hash;\n        }\n    }\n\n    function aboveTheFold(element, options){\n        var fold = $(window).height() + $(window).scrollTop();\n        return fold >= $(element).offset().top - (options['threshold']);\n    };\n\n    $.fn.lazyload.loadOriginalImage = function(element, assocAnchor) {\n        if(assocAnchor != null) {\n            $(element).load(function() { resetHashPosition(); });\n        }\n        $(element).attr('src', $(element).data('original-src')).removeData('original-src');\n    };\n\n    $.fn.loadnow = function(options) {\n        var elements = this;\n        elements.each(function() {\n            $.fn.lazyload.loadOriginalImage(this);\n            $(this).removeClass('lazy');\n        });\n    }\n\n    function loadAboveTheFoldImages(elements, options, assocAnchor){\n        var loaded = 0;\n        elements.filter('.lazy').each(function(){\n            if ($(this).hasClass('lazy') && aboveTheFold(this, options) &&\n                $(this).data('original-src') && $(this).is(\":visible\")) {\n                $.fn.lazyload.loadOriginalImage(this, assocAnchor);\n                $(this).removeClass('lazy');\n                loaded++;\n            }\n        });\n\n        return loaded;\n    };\n})(jQuery);\n"
      ]
    },
    "mtime": 1561057444000
  },
  "{\"filename\":\"/app/kitsune/sumo/static/sumo/js/showfor.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":2,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "/* global BrowserDetect:false, jQuery:false */\n'use strict';\n\n(function ($) {\n\n  'use strict';\n\n  function ShowFor($container) {\n    this.$container = $container || $('body');\n    this.state = {};\n\n    this.loadData();\n    this.initEvents();\n    this.updateUI();\n    this.updateState();\n    this.wrapTOCs();\n    this.initShowFuncs();\n    this.showAndHide();\n  }\n\n  ShowFor.prototype.productShortMap = {\n    'fx': 'firefox',\n    'm': 'mobile',\n    'fxos': 'firefox-os',\n    'tb': 'thunderbird'\n  };\n\n  /* Get the product/platform data from the DOM, and munge it into the\n   * desired format. */\n  ShowFor.prototype.loadData = function () {\n    try {\n      this.data = JSON.parse(this.$container.find('.showfor-data').html());\n    } catch (e) {\n      this.data = {\n        products: [],\n        platforms: [],\n        versions: []\n      };\n    }\n    this.productSlugs = this.data.products.map(function (prod) {\n      return prod.slug;\n    });\n    this.platformSlugs = [];\n    for (var product in this.data.platforms) {\n      this.data.platforms[product].forEach((function (platform) {\n        this.platformSlugs.push(platform.slug);\n      }).bind(this));\n    }\n    this.versionSlugs = {};\n    for (var prod in this.data.versions) {\n      this.data.versions[prod].forEach((function (version) {\n        this.versionSlugs[version.slug] = prod;\n      }).bind(this));\n    }\n  };\n\n  // Bind events for ShowFor.\n  ShowFor.prototype.initEvents = function () {\n    window.onpopstate = this.updateUI.bind(this);\n    this.$container.on('change keyup', 'input, select', this.onUIChange.bind(this));\n  };\n\n  /* Selects an option from a showfor selectbox, adding it if appropriate.\n   *\n   * If the desired value does not exist in the selectbox, this will consult the\n   * possible versions (even those not shown to the user) to see if the option is\n   * valid. If it is, it will be added, and then selected.\n   *\n   * This is useful because if the user comes to the site using something no\n   * longer supported (Firefox 18 for example), then the UI will change to\n   * include Firefox 18. Users that aren't running Firefox 18 won't see it as an\n   * option though\n   */\n  ShowFor.prototype.ensureSelect = function ($select, type, product, val) {\n    var $opt;\n    var key;\n    var extra = {};\n    var target;\n\n    function select(searchArray, slug) {\n      for (var i = 0; i < searchArray.length; i++) {\n        if (searchArray[i].slug === slug) {\n          return searchArray[i];\n        }\n      }\n      return null;\n    }\n\n    if (type === 'version') {\n      target = select(this.data.versions[product], val);\n      if (target !== null) {\n        extra['data-min'] = target.min_version;\n        extra['data-max'] = target.max_version;\n      }\n    } else if (type === 'platform') {\n      target = select(this.data.platforms[product], val);\n    } else if (type === 'product') {\n      target = select(this.data.products, val);\n    } else {\n      throw new Error('Unknown showfor select type ' + type);\n    }\n\n    // This will fail if there is no version/product/platform that\n    // matches the desired val.\n    if (target === null) {\n      return;\n    }\n\n    val = type + ':' + val;\n\n    if ($select.find('option[value=\"' + val + '\"]').length === 0) {\n      $opt = $('<option>').attr('value', val).text(target.name);\n      for (key in extra) {\n        $opt.attr(key, extra[key]);\n      }\n      $select.append($opt);\n    }\n\n    $select.val(val);\n  };\n\n  /* Set up the UI. This consists of two parts:\n   *   1. Pick initial values for the form elements. This is based on the first of\n   *      the following criteria that matches:\n   *      * url hash\n   *      * sessionStore\n   *      * browser detection via useragent sniffing.\n   */\n  ShowFor.prototype.updateUI = function () {\n    var persisted = null;\n    var hash = document.location.hash;\n\n    if (hash.indexOf(':') >= 0) {\n      persisted = hash.slice(1);\n    }\n\n    if (persisted === null && window.sessionStorage) {\n      // If the key doesn't exist, getItem will return null.\n      persisted = sessionStorage.getItem('showfor::persist');\n    }\n\n    // Well, we got something. Lets try to parse it.\n    if (persisted) {\n      var itWorked = false;\n      this.$container.find('.product input[type=checkbox]').prop('checked', false);\n      persisted.split('&').forEach((function (prodInfo) {\n        var data = prodInfo.split(':');\n        var product = data[0] || null;\n        var platform = data[1] || null;\n        var version = data[2] || null;\n\n        var $product = this.$container.find('.product[data-product=\"' + product + '\"]');\n        if ($product.length === 0) {\n          return;\n        }\n        itWorked = true;\n        $product.find('input[type=checkbox][value=\"product:' + product + '\"]').prop('checked', true);\n        if (platform) {\n          var $platform = $product.find('select.platform');\n          this.ensureSelect($platform, 'platform', product, platform);\n        }\n        if (version) {\n          var $version = $product.find('select.version');\n          this.ensureSelect($version, 'version', product, version);\n        }\n      }).bind(this));\n\n      if (itWorked) {\n        return;\n      }\n    }\n\n    // This will only run if sessionstorage and url hash detection both failed.\n    var browser = this.productShortMap[BrowserDetect.browser] || BrowserDetect.browser;\n    var platform = this.productShortMap[BrowserDetect.OS] || BrowserDetect.OS;\n    var version = BrowserDetect.version;\n\n    var $products = this.$container.find('.product');\n    var productElems = {};\n    $products.each(function (i, elem) {\n      var $elem = $(elem);\n      productElems[$elem.data('product')] = $elem;\n    });\n\n    var verSlug, $version;\n\n    if (version) {\n      if (browser === 'firefox' && this.productSlugs.indexOf('firefox') !== -1) {\n        verSlug = 'fx' + version;\n        $version = productElems.firefox.find('select.version');\n        this.ensureSelect($version, 'version', 'firefox', verSlug);\n      } else if (browser === 'mobile' && this.productSlugs.indexOf('mobile') !== -1) {\n        verSlug = 'm' + version;\n        $version = productElems.mobile.find('select.version');\n        this.ensureSelect($version, 'version', 'mobile', verSlug);\n      } else if (browser === 'firefox-os' && this.productSlugs.indexOf('firefox-os') !== -1) {\n        verSlug = 'fxos' + version.toFixed(1);\n        $version = productElems['firefox-os'].find('select.version');\n        this.ensureSelect($version, 'version', 'firefox-os', verSlug);\n      }\n    }\n\n    $products.find('select.platform').each((function (i, elem) {\n      var $elem = $(elem);\n      var product = $elem.parents('.product').data('product');\n      this.ensureSelect($elem, 'platform', product, platform);\n    }).bind(this));\n  };\n\n  // Called when the user touches something.\n  ShowFor.prototype.onUIChange = function () {\n    this.updateState();\n    this.showAndHide();\n    this.persist();\n  };\n\n  // Stores the current object state in the url hash and/or sessionStorage.\n  ShowFor.prototype.persist = function () {\n    var key,\n        val,\n        i = 0;\n\n    var persisted = '';\n    for (key in this.state) {\n      val = this.state[key];\n      if (val.enabled) {\n        if (i > 0) {\n          persisted += '&';\n        }\n        var plat = val.platform || '';\n        var ver = val.version ? val.version.slug || '' : '';\n        persisted += key + ':' + plat + ':' + ver;\n        i++;\n      }\n    }\n\n    // to avoid jumping to the top if all products are disabled.\n    if (persisted === '') {\n      return;\n    }\n\n    // If this is a navigation hash instead of a showfor hash, there\n    // (probably) won't be any colons in it, so don't touch it.\n    if (document.location.hash === '' || document.location.hash.indexOf(':') >= 0) {\n      // Using document.location to change this triggers a popstate,\n      // which we listen to. replaceState doesn't trigger a popstate.\n      history.replaceState(this.state, persisted, '#' + persisted);\n      // document.location.hash = persisted;\n    }\n\n    if (window.sessionStorage) {\n      window.sessionStorage.setItem('showfor::persist', persisted);\n    }\n  };\n\n  /* Parse the state of the form elements and store it.\n   *\n   * This gets stored in this object's internal state, in the url via a\n   * has, and into sessionstorage (if available) */\n  ShowFor.prototype.updateState = function () {\n    this.state = {};\n\n    this.$container.find('.product').each((function (i, productElem) {\n      var $productElem = $(productElem);\n      var slug = $productElem.data('product');\n      this.state[slug] = {\n        enabled: $productElem.find('input[type=checkbox]').prop('checked')\n      };\n\n      $productElem.find('select').each((function (j, selectElem) {\n        var $selectElem = $(selectElem);\n        var combined = $selectElem.val();\n        var parts = combined.split(':');\n        var type = parts[0];\n        var data = parts[1];\n\n        if (type === 'version') {\n          var $option = $selectElem.find('option:selected');\n          data = {\n            slug: data,\n            min: parseFloat($option.data('min')),\n            max: parseFloat($option.data('max'))\n          };\n        }\n\n        this.state[slug][type] = data;\n      }).bind(this));\n    }).bind(this));\n  };\n\n  /* Table of Contents entries need to be shown shown and hidden too.\n   * For any TOC entry that corresponds to a header that might be hidden,\n   * wrap it in a span to mimic showfor elements. */\n  ShowFor.prototype.wrapTOCs = function () {\n    /* This works by going through the TOC that already exists, and for\n     * every element, checking if the corresponding heading in the\n     * article is contained in a showfor. If it is, this wraps the TOC\n     * element in <span>s that mimic showfor. */\n\n    this.$container.find('#toc a').each(function (i, elem) {\n      var $elem = $(elem);\n      var idSelector = $elem.attr('href');\n      if (idSelector[0] !== '#') {\n        // No idea what to do here. Give up on this item.\n        return;\n      }\n\n      var $docSearcher = $(idSelector);\n      var $wrappee = $elem.parent();\n\n      while ($docSearcher.length) {\n        if ($docSearcher.hasClass('for')) {\n          var $wrapper = $('<span/>', {\n            'class': 'for',\n            'data-for': $docSearcher.data('for')\n          });\n          $wrappee = $wrappee.wrap($wrapper);\n        }\n        $docSearcher = $docSearcher.parent();\n      }\n    });\n  };\n\n  /* Attach functions to each DOM element that determine whether it should\n   /* be shown or hidden. */\n  ShowFor.prototype.initShowFuncs = function () {\n    this.$container.find('.for').each((function (i, elem) {\n      var $elem = $(elem);\n      var showFor = $elem.data('for');\n      var criteria = showFor.split(/\\s*,\\s*/);\n      var showFunc = this.matchesCriteria.bind(this, criteria);\n      $elem.data('show-func', showFunc);\n    }).bind(this));\n  };\n\n  /* Apply all the attached showfor functions for each DOM element.\n   *\n   * If no deciding function is attached, the element will be shown as a fallback.\n   */\n  ShowFor.prototype.showAndHide = function () {\n    this.$container.find('.for').each(function (i, elem) {\n      var $elem = $(elem);\n      var showFunc = $elem.data('show-func');\n      if (showFunc) {\n        $elem.toggle(showFunc());\n      } else {\n        $elem.show();\n      }\n    });\n  };\n\n  /* Checks if the current state of this object matches criteria.\n   *\n   * criteria is an array of strings like \"fx24\" or \"not m\", which\n   * generally come from splitting the for selectors on commas.\n   */\n  ShowFor.prototype.matchesCriteria = function (criteria) {\n    /* The basic logic for showfor is that there are two kinds of\n     * things: platforms and products. If one or more platforms are\n     * in the criteria, at least one has to match. If one or more\n     * products are in the criteria, at least one has to match.\n     *\n     * To be succinct, this has to be true for a set of criteria to match:\n     *\n     *    (any(browsers) or browsers.length == 0) and\n     *    (any(platforms) or platforms.length == 0)\n     *\n     * Versions are seen as more specific products. Platforms don't\n     * have versions.\n     */\n    var hasProduct = false;\n    var matchProduct = false;\n    var hasPlatform = false;\n    var matchPlatform = false;\n\n    /* This cheats a bit. Platforms are presented as being tied to a\n     * platform, but we ignore that. Just assume that all selected\n     * platforms apply to all products. */\n    var enabledPlatforms = [];\n    for (var slug in this.state) {\n      var prod = this.state[slug];\n      if (prod.enabled && prod.platform) {\n        enabledPlatforms.push(prod.platform);\n      }\n    }\n\n    /* This will loop through every item in criteria. It will set the\n     * has/matches variables above to true if at least one\n     * product/platform is found, and at least one of those matches\n     * respectively. */\n    criteria.forEach((function (name) {\n      var productSlug, elemVersion;\n\n      // Does this start with \"not\" ? Set a flag.\n      var not = name.indexOf('not') === 0;\n      if (not) {\n        name = name.replace(/^not ?/, '');\n      }\n\n      // \"fx\" -> \"firefox\", etc.\n      name = this.productShortMap[name] || name;\n\n      // Check for exact-equals. Maybe this will get smarter later.\n      var oper = '>=';\n      if (name[0] === '=') {\n        name = name.slice(1);\n        oper = '=';\n      }\n\n      /* Not that the below things never set anything false, only to\n       * true. This way they work like a big OR. */\n\n      // Is this a product? (without a version) {for fx}\n      if (this.productSlugs.indexOf(name) >= 0) {\n        hasProduct = true;\n        if (this.state[name].enabled !== not) {\n          matchProduct = true;\n        }\n\n        // Is this a product+version?  {for fx27}\n      } else if (this.versionSlugs[name] !== undefined) {\n\n          /* elemVersion is the version indicated in the element being\n           * shown/hidden. stateMin and stateMax are the min and max\n           * versions from this.state, which reflects the UI. */\n          productSlug = this.versionSlugs[name];\n          hasProduct = true;\n          elemVersion = parseFloat(/^[a-z]+([\\d\\.]+)$/.exec(name)[1]);\n\n          // name = 'fx27' -> productSlug = 'fx', elemVersion = 27\n\n          var stateMin = this.state[productSlug].version.min;\n          var stateMax = this.state[productSlug].version.max;\n\n          var enabled = this.state[productSlug].enabled;\n          var rightVersion = oper === '>=' && elemVersion < stateMax || oper === '=' && elemVersion >= stateMin && elemVersion < stateMax;\n\n          if ((enabled && rightVersion) !== not) {\n            matchProduct = true;\n          }\n\n          // Is it a platform?\n        } else if (this.platformSlugs.indexOf(name) >= 0) {\n            hasPlatform = true;\n\n            if (enabledPlatforms.indexOf(name) >= 0 !== not) {\n              matchPlatform = true;\n            }\n\n            // Special case for windows.\n          } else if (name === 'win') {\n              hasPlatform = true;\n\n              /* Loop through each of the possible slugs for windows. If\n               * any of them match, then this name matches. */\n              var windowsTypes = ['winxp', 'win7', 'win8', 'win10'];\n              var winMatches = false;\n\n              windowsTypes.forEach(function (fakeName) {\n                if (enabledPlatforms.indexOf(fakeName) >= 0) {\n                  winMatches = true;\n                }\n              });\n\n              if (winMatches !== not) {\n                matchPlatform = true;\n              }\n            }\n    }).bind(this));\n\n    // If a platform matches, or no platform matchers exist AND\n    // if a product matches, or no product matchers exist.\n    return (!hasProduct || matchProduct) && (!hasPlatform || matchPlatform);\n  };\n\n  window.ShowFor = ShowFor;\n})(jQuery);\n/*\n * ShowFor is a system to customize an article for an individual. It\n * will show or hide parts of an article based on spans with the class\n * \"for\" and a data attribute \"data-for\" which contains the show/hide\n * criteria.\n *\n * Depends on: browserdetect.js\n */\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9hcHAva2l0c3VuZS9zdW1vL3N0YXRpYy9zdW1vL2pzL3Nob3dmb3IuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBVUEsQ0FBQyxVQUFTLENBQUMsRUFBRTs7QUFFWCxjQUFZLENBQUM7O0FBRWIsV0FBUyxPQUFPLENBQUMsVUFBVSxFQUFFO0FBQzNCLFFBQUksQ0FBQyxVQUFVLEdBQUcsVUFBVSxJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUMxQyxRQUFJLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQzs7QUFFaEIsUUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO0FBQ2hCLFFBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztBQUNsQixRQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7QUFDaEIsUUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO0FBQ25CLFFBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztBQUNoQixRQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7QUFDckIsUUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO0dBQ3BCOztBQUVELFNBQU8sQ0FBQyxTQUFTLENBQUMsZUFBZSxHQUFHO0FBQ2xDLFFBQUksRUFBRSxTQUFTO0FBQ2YsT0FBRyxFQUFFLFFBQVE7QUFDYixVQUFNLEVBQUUsWUFBWTtBQUNwQixRQUFJLEVBQUUsYUFBYTtHQUNwQixDQUFDOzs7O0FBSUYsU0FBTyxDQUFDLFNBQVMsQ0FBQyxRQUFRLEdBQUcsWUFBVztBQUN0QyxRQUFJO0FBQ0YsVUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUM7S0FDdEUsQ0FBQyxPQUFPLENBQUMsRUFBRTtBQUNWLFVBQUksQ0FBQyxJQUFJLEdBQUc7QUFDVixnQkFBUSxFQUFFLEVBQUU7QUFDWixpQkFBUyxFQUFFLEVBQUU7QUFDYixnQkFBUSxFQUFFLEVBQUU7T0FD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O0FBRUgsa0JBQUksVUFBVSxLQUFLLEdBQUcsRUFBRTtBQUN0Qiw2QkFBYSxHQUFHLElBQUksQ0FBQztlQUN0QjthQUNGO0tBQ0YsQ0FBQSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDOzs7O0FBSWQsV0FBTyxDQUFDLENBQUMsVUFBVSxJQUFJLFlBQVksQ0FBQSxLQUFNLENBQUMsV0FBVyxJQUFJLGFBQWEsQ0FBQSxBQUFDLENBQUM7R0FDekUsQ0FBQzs7QUFFRixRQUFNLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztDQUUxQixDQUFBLENBQUUsTUFBTSxDQUFDLENBQUMiLCJmaWxlIjoiL2FwcC9raXRzdW5lL3N1bW8vc3RhdGljL3N1bW8vanMvc2hvd2Zvci5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGdsb2JhbCBCcm93c2VyRGV0ZWN0OmZhbHNlLCBqUXVlcnk6ZmFsc2UgKi9cbi8qXG4gKiBTaG93Rm9yIGlzIGEgc3lzdGVtIHRvIGN1c3RvbWl6ZSBhbiBhcnRpY2xlIGZvciBhbiBpbmRpdmlkdWFsLiBJdFxuICogd2lsbCBzaG93IG9yIGhpZGUgcGFydHMgb2YgYW4gYXJ0aWNsZSBiYXNlZCBvbiBzcGFucyB3aXRoIHRoZSBjbGFzc1xuICogXCJmb3JcIiBhbmQgYSBkYXRhIGF0dHJpYnV0ZSBcImRhdGEtZm9yXCIgd2hpY2ggY29udGFpbnMgdGhlIHNob3cvaGlkZVxuICogY3JpdGVyaWEuXG4gKlxuICogRGVwZW5kcyBvbjogYnJvd3NlcmRldGVjdC5qc1xuICovXG5cbihmdW5jdGlvbigkKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGZ1bmN0aW9uIFNob3dGb3IoJGNvbnRhaW5lcikge1xuICAgIHRoaXMuJGNvbnRhaW5lciA9ICRjb250YWluZXIgfHwgJCgnYm9keScpO1xuICAgIHRoaXMuc3RhdGUgPSB7fTtcblxuICAgIHRoaXMubG9hZERhdGEoKTtcbiAgICB0aGlzLmluaXRFdmVudHMoKTtcbiAgICB0aGlzLnVwZGF0ZVVJKCk7XG4gICAgdGhpcy51cGRhdGVTdGF0ZSgpO1xuICAgIHRoaXMud3JhcFRPQ3MoKTtcbiAgICB0aGlzLmluaXRTaG93RnVuY3MoKTtcbiAgICB0aGlzLnNob3dBbmRIaWRlKCk7XG4gIH1cblxuICBTaG93Rm9yLnByb3RvdHlwZS5wcm9kdWN0U2hvcnRNYXAgPSB7XG4gICAgJ2Z4JzogJ2ZpcmVmb3gnLFxuICAgICdtJzogJ21vYmlsZScsXG4gICAgJ2Z4b3MnOiAnZmlyZWZveC1vcycsXG4gICAgJ3RiJzogJ3RodW5kZXJiaXJkJ1xuICB9O1xuXG4gIC8qIEdldCB0aGUgcHJvZHVjdC9wbGF0Zm9ybSBkYXRhIGZyb20gdGhlIERPTSwgYW5kIG11bmdlIGl0IGludG8gdGhlXG4gICAqIGRlc2lyZWQgZm9ybWF0LiAqL1xuICBTaG93Rm9yLnByb3RvdHlwZS5sb2FkRGF0YSA9IGZ1bmN0aW9uKCkge1xuICAgIHRyeSB7XG4gICAgICB0aGlzLmRhdGEgPSBKU09OLnBhcnNlKHRoaXMuJGNvbnRhaW5lci5maW5kKCcuc2hvd2Zvci1kYXRhJykuaHRtbCgpKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aGlzLmRhdGEgPSB7XG4gICAgICAgIHByb2R1Y3RzOiBbXSxcbiAgICAgICAgcGxhdGZvcm1zOiBbXSxcbiAgICAgICAgdmVyc2lvbnM6IFtdLFxuICAgICAgfTtcbiAgICB9XG4gICAgdGhpcy5wcm9kdWN0U2x1Z3MgPSB0aGlzLmRhdGEucHJvZHVjdHMubWFwKGZ1bmN0aW9uKHByb2QpIHtcbiAgICAgIHJldHVybiBwcm9kLnNsdWc7XG4gICAgfSk7XG4gICAgdGhpcy5wbGF0Zm9ybVNsdWdzID0gW107XG4gICAgZm9yICh2YXIgcHJvZHVjdCBpbiB0aGlzLmRhdGEucGxhdGZvcm1zKSB7XG4gICAgICB0aGlzLmRhdGEucGxhdGZvcm1zW3Byb2R1Y3RdLmZvckVhY2goZnVuY3Rpb24ocGxhdGZvcm0pIHtcbiAgICAgICAgdGhpcy5wbGF0Zm9ybVNsdWdzLnB1c2gocGxhdGZvcm0uc2x1Zyk7XG4gICAgICB9LmJpbmQodGhpcykpO1xuICAgIH1cbiAgICB0aGlzLnZlcnNpb25TbHVncyA9IHt9O1xuICAgIGZvciAodmFyIHByb2QgaW4gdGhpcy5kYXRhLnZlcnNpb25zKSB7XG4gICAgICB0aGlzLmRhdGEudmVyc2lvbnNbcHJvZF0uZm9yRWFjaChmdW5jdGlvbih2ZXJzaW9uKSB7XG4gICAgICAgIHRoaXMudmVyc2lvblNsdWdzW3ZlcnNpb24uc2x1Z10gPSBwcm9kO1xuICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICB9XG4gIH07XG5cbi8vIEJpbmQgZXZlbnRzIGZvciBTaG93Rm9yLlxuICBTaG93Rm9yLnByb3RvdHlwZS5pbml0RXZlbnRzID0gZnVuY3Rpb24oKSB7XG4gICAgd2luZG93Lm9ucG9wc3RhdGUgPSB0aGlzLnVwZGF0ZVVJLmJpbmQodGhpcyk7XG4gICAgdGhpcy4kY29udGFpbmVyLm9uKCdjaGFuZ2Uga2V5dXAnLCAnaW5wdXQsIHNlbGVjdCcsIHRoaXMub25VSUNoYW5nZS5iaW5kKHRoaXMpKTtcbiAgfTtcblxuICAvKiBTZWxlY3RzIGFuIG9wdGlvbiBmcm9tIGEgc2hvd2ZvciBzZWxlY3Rib3gsIGFkZGluZyBpdCBpZiBhcHByb3ByaWF0ZS5cbiAgICpcbiAgICogSWYgdGhlIGRlc2lyZWQgdmFsdWUgZG9lcyBub3QgZXhpc3QgaW4gdGhlIHNlbGVjdGJveCwgdGhpcyB3aWxsIGNvbnN1bHQgdGhlXG4gICAqIHBvc3NpYmxlIHZlcnNpb25zIChldmVuIHRob3NlIG5vdCBzaG93biB0byB0aGUgdXNlcikgdG8gc2VlIGlmIHRoZSBvcHRpb24gaXNcbiAgICogdmFsaWQuIElmIGl0IGlzLCBpdCB3aWxsIGJlIGFkZGVkLCBhbmQgdGhlbiBzZWxlY3RlZC5cbiAgICpcbiAgICogVGhpcyBpcyB1c2VmdWwgYmVjYXVzZSBpZiB0aGUgdXNlciBjb21lcyB0byB0aGUgc2l0ZSB1c2luZyBzb21ldGhpbmcgbm9cbiAgICogbG9uZ2VyIHN1cHBvcnRlZCAoRmlyZWZveCAxOCBmb3IgZXhhbXBsZSksIHRoZW4gdGhlIFVJIHdpbGwgY2hhbmdlIHRvXG4gICAqIGluY2x1ZGUgRmlyZWZveCAxOC4gVXNlcnMgdGhhdCBhcmVuJ3QgcnVubmluZyBGaXJlZm94IDE4IHdvbid0IHNlZSBpdCBhcyBhblxuICAgKiBvcHRpb24gdGhvdWdoXG4gICAqL1xuICBTaG93Rm9yLnByb3RvdHlwZS5lbnN1cmVTZWxlY3QgPSBmdW5jdGlvbigkc2VsZWN0LCB0eXBlLCBwcm9kdWN0LCB2YWwpIHtcbiAgICB2YXIgJG9wdDtcbiAgICB2YXIga2V5O1xuICAgIHZhciBleHRyYSA9IHt9O1xuICAgIHZhciB0YXJnZXQ7XG5cbiAgICBmdW5jdGlvbiBzZWxlY3Qoc2VhcmNoQXJyYXksIHNsdWcpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VhcmNoQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHNlYXJjaEFycmF5W2ldLnNsdWcgPT09IHNsdWcpIHtcbiAgICAgICAgICByZXR1cm4gc2VhcmNoQXJyYXlbaV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGlmICh0eXBlID09PSAndmVyc2lvbicpIHtcbiAgICAgIHRhcmdldCA9IHNlbGVjdCh0aGlzLmRhdGEudmVyc2lvbnNbcHJvZHVjdF0sIHZhbCk7XG4gICAgICBpZiAodGFyZ2V0ICE9PSBudWxsKSB7XG4gICAgICAgIGV4dHJhWydkYXRhLW1pbiddID0gdGFyZ2V0Lm1pbl92ZXJzaW9uO1xuICAgICAgICBleHRyYVsnZGF0YS1tYXgnXSA9IHRhcmdldC5tYXhfdmVyc2lvbjtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdwbGF0Zm9ybScpIHtcbiAgICAgIHRhcmdldCA9IHNlbGVjdCh0aGlzLmRhdGEucGxhdGZvcm1zW3Byb2R1Y3RdLCB2YWwpO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3Byb2R1Y3QnKSB7XG4gICAgICB0YXJnZXQgPSBzZWxlY3QodGhpcy5kYXRhLnByb2R1Y3RzLCB2YWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gc2hvd2ZvciBzZWxlY3QgdHlwZSAnICsgdHlwZSk7XG4gICAgfVxuXG4gICAgLy8gVGhpcyB3aWxsIGZhaWwgaWYgdGhlcmUgaXMgbm8gdmVyc2lvbi9wcm9kdWN0L3BsYXRmb3JtIHRoYXRcbiAgICAvLyBtYXRjaGVzIHRoZSBkZXNpcmVkIHZhbC5cbiAgICBpZiAodGFyZ2V0ID09PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFsID0gdHlwZSArICc6JyArIHZhbDtcblxuICAgIGlmICgkc2VsZWN0LmZpbmQoJ29wdGlvblt2YWx1ZT1cIicgKyB2YWwgKyAnXCJdJykubGVuZ3RoID09PSAwKSB7XG4gICAgICAkb3B0ID0gJCgnPG9wdGlvbj4nKVxuICAgICAgICAuYXR0cigndmFsdWUnLCB2YWwpXG4gICAgICAgIC50ZXh0KHRhcmdldC5uYW1lKTtcbiAgICAgIGZvciAoa2V5IGluIGV4dHJhKSB7XG4gICAgICAgICRvcHQuYXR0cihrZXksIGV4dHJhW2tleV0pO1xuICAgICAgfVxuICAgICAgJHNlbGVjdC5hcHBlbmQoJG9wdCk7XG4gICAgfVxuXG4gICAgJHNlbGVjdC52YWwodmFsKTtcbiAgfTtcblxuICAvKiBTZXQgdXAgdGhlIFVJLiBUaGlzIGNvbnNpc3RzIG9mIHR3byBwYXJ0czpcbiAgICogICAxLiBQaWNrIGluaXRpYWwgdmFsdWVzIGZvciB0aGUgZm9ybSBlbGVtZW50cy4gVGhpcyBpcyBiYXNlZCBvbiB0aGUgZmlyc3Qgb2ZcbiAgICogICAgICB0aGUgZm9sbG93aW5nIGNyaXRlcmlhIHRoYXQgbWF0Y2hlczpcbiAgICogICAgICAqIHVybCBoYXNoXG4gICAqICAgICAgKiBzZXNzaW9uU3RvcmVcbiAgICogICAgICAqIGJyb3dzZXIgZGV0ZWN0aW9uIHZpYSB1c2VyYWdlbnQgc25pZmZpbmcuXG4gICAqL1xuICBTaG93Rm9yLnByb3RvdHlwZS51cGRhdGVVSSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBwZXJzaXN0ZWQgPSBudWxsO1xuICAgIHZhciBoYXNoID0gZG9jdW1lbnQubG9jYXRpb24uaGFzaDtcblxuICAgIGlmIChoYXNoLmluZGV4T2YoJzonKSA+PSAwKSB7XG4gICAgICBwZXJzaXN0ZWQgPSBoYXNoLnNsaWNlKDEpO1xuICAgIH1cblxuICAgIGlmIChwZXJzaXN0ZWQgPT09IG51bGwgJiYgd2luZG93LnNlc3Npb25TdG9yYWdlKSB7XG4gICAgICAvLyBJZiB0aGUga2V5IGRvZXNuJ3QgZXhpc3QsIGdldEl0ZW0gd2lsbCByZXR1cm4gbnVsbC5cbiAgICAgIHBlcnNpc3RlZCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3Nob3dmb3I6OnBlcnNpc3QnKTtcbiAgICB9XG5cbiAgICAvLyBXZWxsLCB3ZSBnb3Qgc29tZXRoaW5nLiBMZXRzIHRyeSB0byBwYXJzZSBpdC5cbiAgICBpZiAocGVyc2lzdGVkKSB7XG4gICAgICB2YXIgaXRXb3JrZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuJGNvbnRhaW5lci5maW5kKCcucHJvZHVjdCBpbnB1dFt0eXBlPWNoZWNrYm94XScpLnByb3AoJ2NoZWNrZWQnLCBmYWxzZSk7XG4gICAgICBwZXJzaXN0ZWQuc3BsaXQoJyYnKS5mb3JFYWNoKGZ1bmN0aW9uKHByb2RJbmZvKSB7XG4gICAgICAgIHZhciBkYXRhID0gcHJvZEluZm8uc3BsaXQoJzonKTtcbiAgICAgICAgdmFyIHByb2R1Y3QgPSBkYXRhWzBdIHx8IG51bGw7XG4gICAgICAgIHZhciBwbGF0Zm9ybSA9IGRhdGFbMV0gfHwgbnVsbDtcbiAgICAgICAgdmFyIHZlcnNpb24gPSBkYXRhWzJdIHx8IG51bGw7XG5cbiAgICAgICAgdmFyICRwcm9kdWN0ID0gdGhpcy4kY29udGFpbmVyLmZpbmQoJy5wcm9kdWN0W2RhdGEtcHJvZHVjdD1cIicgKyBwcm9kdWN0ICsgJ1wiXScpO1xuICAgICAgICBpZiAoJHByb2R1Y3QubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGl0V29ya2VkID0gdHJ1ZTtcbiAgICAgICAgJHByb2R1Y3QuZmluZCgnaW5wdXRbdHlwZT1jaGVja2JveF1bdmFsdWU9XCJwcm9kdWN0OicgKyBwcm9kdWN0ICsgJ1wiXScpXG4gICAgICAgICAgLnByb3AoJ2NoZWNrZWQnLCB0cnVlKTtcbiAgICAgICAgaWYgKHBsYXRmb3JtKSB7XG4gICAgICAgICAgdmFyICRwbGF0Zm9ybSA9ICRwcm9kdWN0LmZpbmQoJ3NlbGVjdC5wbGF0Zm9ybScpO1xuICAgICAgICAgIHRoaXMuZW5zdXJlU2VsZWN0KCRwbGF0Zm9ybSwgJ3BsYXRmb3JtJywgcHJvZHVjdCwgcGxhdGZvcm0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2ZXJzaW9uKSB7XG4gICAgICAgICAgdmFyICR2ZXJzaW9uID0gJHByb2R1Y3QuZmluZCgnc2VsZWN0LnZlcnNpb24nKTtcbiAgICAgICAgICB0aGlzLmVuc3VyZVNlbGVjdCgkdmVyc2lvbiwgJ3ZlcnNpb24nLCBwcm9kdWN0LCB2ZXJzaW9uKTtcbiAgICAgICAgfVxuICAgICAgfS5iaW5kKHRoaXMpKTtcblxuICAgICAgaWYgKGl0V29ya2VkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBUaGlzIHdpbGwgb25seSBydW4gaWYgc2Vzc2lvbnN0b3JhZ2UgYW5kIHVybCBoYXNoIGRldGVjdGlvbiBib3RoIGZhaWxlZC5cbiAgICB2YXIgYnJvd3NlciA9IHRoaXMucHJvZHVjdFNob3J0TWFwW0Jyb3dzZXJEZXRlY3QuYnJvd3Nlcl0gfHwgQnJvd3NlckRldGVjdC5icm93c2VyO1xuICAgIHZhciBwbGF0Zm9ybSA9IHRoaXMucHJvZHVjdFNob3J0TWFwW0Jyb3dzZXJEZXRlY3QuT1NdIHx8IEJyb3dzZXJEZXRlY3QuT1M7XG4gICAgdmFyIHZlcnNpb24gPSBCcm93c2VyRGV0ZWN0LnZlcnNpb247XG5cbiAgICB2YXIgJHByb2R1Y3RzID0gdGhpcy4kY29udGFpbmVyLmZpbmQoJy5wcm9kdWN0Jyk7XG4gICAgdmFyIHByb2R1Y3RFbGVtcyA9IHt9O1xuICAgICRwcm9kdWN0cy5lYWNoKGZ1bmN0aW9uKGksIGVsZW0pIHtcbiAgICAgIHZhciAkZWxlbSA9ICQoZWxlbSk7XG4gICAgICBwcm9kdWN0RWxlbXNbJGVsZW0uZGF0YSgncHJvZHVjdCcpXSA9ICRlbGVtO1xuICAgIH0pO1xuXG4gICAgdmFyIHZlclNsdWcsICR2ZXJzaW9uO1xuXG4gICAgaWYgKHZlcnNpb24pIHtcbiAgICAgIGlmIChicm93c2VyID09PSAnZmlyZWZveCcgJiYgdGhpcy5wcm9kdWN0U2x1Z3MuaW5kZXhPZignZmlyZWZveCcpICE9PSAtMSkge1xuICAgICAgICB2ZXJTbHVnID0gJ2Z4JyArIHZlcnNpb247XG4gICAgICAgICR2ZXJzaW9uID0gcHJvZHVjdEVsZW1zLmZpcmVmb3guZmluZCgnc2VsZWN0LnZlcnNpb24nKTtcbiAgICAgICAgdGhpcy5lbnN1cmVTZWxlY3QoJHZlcnNpb24sICd2ZXJzaW9uJywgJ2ZpcmVmb3gnLCB2ZXJTbHVnKTtcblxuICAgICAgfSBlbHNlIGlmIChicm93c2VyID09PSAnbW9iaWxlJyAmJiB0aGlzLnByb2R1Y3RTbHVncy5pbmRleE9mKCdtb2JpbGUnKSAhPT0gLTEpIHtcbiAgICAgICAgdmVyU2x1ZyA9ICdtJyArIHZlcnNpb247XG4gICAgICAgICR2ZXJzaW9uID0gcHJvZHVjdEVsZW1zLm1vYmlsZS5maW5kKCdzZWxlY3QudmVyc2lvbicpO1xuICAgICAgICB0aGlzLmVuc3VyZVNlbGVjdCgkdmVyc2lvbiwgJ3ZlcnNpb24nLCAnbW9iaWxlJywgdmVyU2x1Zyk7XG5cbiAgICAgIH0gZWxzZSBpZiAoYnJvd3NlciA9PT0gJ2ZpcmVmb3gtb3MnICYmIHRoaXMucHJvZHVjdFNsdWdzLmluZGV4T2YoJ2ZpcmVmb3gtb3MnKSAhPT0gLTEpIHtcbiAgICAgICAgdmVyU2x1ZyA9ICdmeG9zJyArIHZlcnNpb24udG9GaXhlZCgxKTtcbiAgICAgICAgJHZlcnNpb24gPSBwcm9kdWN0RWxlbXNbJ2ZpcmVmb3gtb3MnXS5maW5kKCdzZWxlY3QudmVyc2lvbicpO1xuICAgICAgICB0aGlzLmVuc3VyZVNlbGVjdCgkdmVyc2lvbiwgJ3ZlcnNpb24nLCAnZmlyZWZveC1vcycsIHZlclNsdWcpO1xuICAgICAgfVxuICAgIH1cblxuICAgICRwcm9kdWN0cy5maW5kKCdzZWxlY3QucGxhdGZvcm0nKS5lYWNoKGZ1bmN0aW9uKGksIGVsZW0pIHtcbiAgICAgIHZhciAkZWxlbSA9ICQoZWxlbSk7XG4gICAgICB2YXIgcHJvZHVjdCA9ICRlbGVtLnBhcmVudHMoJy5wcm9kdWN0JykuZGF0YSgncHJvZHVjdCcpO1xuICAgICAgdGhpcy5lbnN1cmVTZWxlY3QoJGVsZW0sICdwbGF0Zm9ybScsIHByb2R1Y3QsIHBsYXRmb3JtKTtcbiAgICB9LmJpbmQodGhpcykpO1xuICB9O1xuXG4vLyBDYWxsZWQgd2hlbiB0aGUgdXNlciB0b3VjaGVzIHNvbWV0aGluZy5cbiAgU2hvd0Zvci5wcm90b3R5cGUub25VSUNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMudXBkYXRlU3RhdGUoKTtcbiAgICB0aGlzLnNob3dBbmRIaWRlKCk7XG4gICAgdGhpcy5wZXJzaXN0KCk7XG4gIH07XG5cbi8vIFN0b3JlcyB0aGUgY3VycmVudCBvYmplY3Qgc3RhdGUgaW4gdGhlIHVybCBoYXNoIGFuZC9vciBzZXNzaW9uU3RvcmFnZS5cbiAgU2hvd0Zvci5wcm90b3R5cGUucGVyc2lzdCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBrZXksIHZhbCwgaSA9IDA7XG5cbiAgICB2YXIgcGVyc2lzdGVkID0gJyc7XG4gICAgZm9yIChrZXkgaW4gdGhpcy5zdGF0ZSkge1xuICAgICAgdmFsID0gdGhpcy5zdGF0ZVtrZXldO1xuICAgICAgaWYgKHZhbC5lbmFibGVkKSB7XG4gICAgICAgIGlmIChpID4gMCkge1xuICAgICAgICAgIHBlcnNpc3RlZCArPSAnJic7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHBsYXQgPSB2YWwucGxhdGZvcm0gfHwgJyc7XG4gICAgICAgIHZhciB2ZXIgPSB2YWwudmVyc2lvbiA/ICh2YWwudmVyc2lvbi5zbHVnIHx8ICcnKSA6ICcnO1xuICAgICAgICBwZXJzaXN0ZWQgKz0ga2V5ICsgJzonICsgcGxhdCArICc6JyArIHZlcjtcbiAgICAgICAgaSsrO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIHRvIGF2b2lkIGp1bXBpbmcgdG8gdGhlIHRvcCBpZiBhbGwgcHJvZHVjdHMgYXJlIGRpc2FibGVkLlxuICAgIGlmIChwZXJzaXN0ZWQgPT09ICcnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gSWYgdGhpcyBpcyBhIG5hdmlnYXRpb24gaGFzaCBpbnN0ZWFkIG9mIGEgc2hvd2ZvciBoYXNoLCB0aGVyZVxuICAgIC8vIChwcm9iYWJseSkgd29uJ3QgYmUgYW55IGNvbG9ucyBpbiBpdCwgc28gZG9uJ3QgdG91Y2ggaXQuXG4gICAgaWYgKGRvY3VtZW50LmxvY2F0aW9uLmhhc2ggPT09ICcnIHx8IGRvY3VtZW50LmxvY2F0aW9uLmhhc2guaW5kZXhPZignOicpID49IDApIHtcbiAgICAgIC8vIFVzaW5nIGRvY3VtZW50LmxvY2F0aW9uIHRvIGNoYW5nZSB0aGlzIHRyaWdnZXJzIGEgcG9wc3RhdGUsXG4gICAgICAvLyB3aGljaCB3ZSBsaXN0ZW4gdG8uIHJlcGxhY2VTdGF0ZSBkb2Vzbid0IHRyaWdnZXIgYSBwb3BzdGF0ZS5cbiAgICAgIGhpc3RvcnkucmVwbGFjZVN0YXRlKHRoaXMuc3RhdGUsIHBlcnNpc3RlZCwgJyMnICsgcGVyc2lzdGVkKTtcbiAgICAgIC8vIGRvY3VtZW50LmxvY2F0aW9uLmhhc2ggPSBwZXJzaXN0ZWQ7XG4gICAgfVxuXG4gICAgaWYgKHdpbmRvdy5zZXNzaW9uU3RvcmFnZSkge1xuICAgICAgd2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ3Nob3dmb3I6OnBlcnNpc3QnLCBwZXJzaXN0ZWQpO1xuICAgIH1cbiAgfTtcblxuICAvKiBQYXJzZSB0aGUgc3RhdGUgb2YgdGhlIGZvcm0gZWxlbWVudHMgYW5kIHN0b3JlIGl0LlxuICAgKlxuICAgKiBUaGlzIGdldHMgc3RvcmVkIGluIHRoaXMgb2JqZWN0J3MgaW50ZXJuYWwgc3RhdGUsIGluIHRoZSB1cmwgdmlhIGFcbiAgICogaGFzLCBhbmQgaW50byBzZXNzaW9uc3RvcmFnZSAoaWYgYXZhaWxhYmxlKSAqL1xuICBTaG93Rm9yLnByb3RvdHlwZS51cGRhdGVTdGF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuc3RhdGUgPSB7fTtcblxuICAgIHRoaXMuJGNvbnRhaW5lci5maW5kKCcucHJvZHVjdCcpLmVhY2goZnVuY3Rpb24oaSwgcHJvZHVjdEVsZW0pIHtcbiAgICAgIHZhciAkcHJvZHVjdEVsZW0gPSAkKHByb2R1Y3RFbGVtKTtcbiAgICAgIHZhciBzbHVnID0gJHByb2R1Y3RFbGVtLmRhdGEoJ3Byb2R1Y3QnKTtcbiAgICAgIHRoaXMuc3RhdGVbc2x1Z10gPSB7XG4gICAgICAgIGVuYWJsZWQ6ICRwcm9kdWN0RWxlbS5maW5kKCdpbnB1dFt0eXBlPWNoZWNrYm94XScpLnByb3AoJ2NoZWNrZWQnKVxuICAgICAgfTtcblxuICAgICAgJHByb2R1Y3RFbGVtLmZpbmQoJ3NlbGVjdCcpLmVhY2goZnVuY3Rpb24oaiwgc2VsZWN0RWxlbSkge1xuICAgICAgICB2YXIgJHNlbGVjdEVsZW0gPSAkKHNlbGVjdEVsZW0pO1xuICAgICAgICB2YXIgY29tYmluZWQgPSAkc2VsZWN0RWxlbS52YWwoKTtcbiAgICAgICAgdmFyIHBhcnRzID0gY29tYmluZWQuc3BsaXQoJzonKTtcbiAgICAgICAgdmFyIHR5cGUgPSBwYXJ0c1swXTtcbiAgICAgICAgdmFyIGRhdGEgPSBwYXJ0c1sxXTtcblxuICAgICAgICBpZiAodHlwZSA9PT0gJ3ZlcnNpb24nKSB7XG4gICAgICAgICAgdmFyICRvcHRpb24gPSAkc2VsZWN0RWxlbS5maW5kKCdvcHRpb246c2VsZWN0ZWQnKTtcbiAgICAgICAgICBkYXRhID0ge1xuICAgICAgICAgICAgc2x1ZzogZGF0YSxcbiAgICAgICAgICAgIG1pbjogcGFyc2VGbG9hdCgkb3B0aW9uLmRhdGEoJ21pbicpKSxcbiAgICAgICAgICAgIG1heDogcGFyc2VGbG9hdCgkb3B0aW9uLmRhdGEoJ21heCcpKVxuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnN0YXRlW3NsdWddW3R5cGVdID0gZGF0YTtcbiAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgfS5iaW5kKHRoaXMpKTtcbiAgfTtcblxuICAvKiBUYWJsZSBvZiBDb250ZW50cyBlbnRyaWVzIG5lZWQgdG8gYmUgc2hvd24gc2hvd24gYW5kIGhpZGRlbiB0b28uXG4gICAqIEZvciBhbnkgVE9DIGVudHJ5IHRoYXQgY29ycmVzcG9uZHMgdG8gYSBoZWFkZXIgdGhhdCBtaWdodCBiZSBoaWRkZW4sXG4gICAqIHdyYXAgaXQgaW4gYSBzcGFuIHRvIG1pbWljIHNob3dmb3IgZWxlbWVudHMuICovXG4gIFNob3dGb3IucHJvdG90eXBlLndyYXBUT0NzID0gZnVuY3Rpb24oKSB7XG4gICAgLyogVGhpcyB3b3JrcyBieSBnb2luZyB0aHJvdWdoIHRoZSBUT0MgdGhhdCBhbHJlYWR5IGV4aXN0cywgYW5kIGZvclxuICAgICAqIGV2ZXJ5IGVsZW1lbnQsIGNoZWNraW5nIGlmIHRoZSBjb3JyZXNwb25kaW5nIGhlYWRpbmcgaW4gdGhlXG4gICAgICogYXJ0aWNsZSBpcyBjb250YWluZWQgaW4gYSBzaG93Zm9yLiBJZiBpdCBpcywgdGhpcyB3cmFwcyB0aGUgVE9DXG4gICAgICogZWxlbWVudCBpbiA8c3Bhbj5zIHRoYXQgbWltaWMgc2hvd2Zvci4gKi9cblxuICAgIHRoaXMuJGNvbnRhaW5lci5maW5kKCcjdG9jIGEnKS5lYWNoKGZ1bmN0aW9uKGksIGVsZW0pIHtcbiAgICAgIHZhciAkZWxlbSA9ICQoZWxlbSk7XG4gICAgICB2YXIgaWRTZWxlY3RvciA9ICRlbGVtLmF0dHIoJ2hyZWYnKTtcbiAgICAgIGlmIChpZFNlbGVjdG9yWzBdICE9PSAnIycpIHtcbiAgICAgICAgLy8gTm8gaWRlYSB3aGF0IHRvIGRvIGhlcmUuIEdpdmUgdXAgb24gdGhpcyBpdGVtLlxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciAkZG9jU2VhcmNoZXIgPSAkKGlkU2VsZWN0b3IpO1xuICAgICAgdmFyICR3cmFwcGVlID0gJGVsZW0ucGFyZW50KCk7XG5cbiAgICAgIHdoaWxlICgkZG9jU2VhcmNoZXIubGVuZ3RoKSB7XG4gICAgICAgIGlmICgkZG9jU2VhcmNoZXIuaGFzQ2xhc3MoJ2ZvcicpKSB7XG4gICAgICAgICAgdmFyICR3cmFwcGVyID0gJCgnPHNwYW4vPicsIHtcbiAgICAgICAgICAgICdjbGFzcyc6ICdmb3InLFxuICAgICAgICAgICAgJ2RhdGEtZm9yJzogJGRvY1NlYXJjaGVyLmRhdGEoJ2ZvcicpXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgJHdyYXBwZWUgPSAkd3JhcHBlZS53cmFwKCR3cmFwcGVyKTtcbiAgICAgICAgfVxuICAgICAgICAkZG9jU2VhcmNoZXIgPSAkZG9jU2VhcmNoZXIucGFyZW50KCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgLyogQXR0YWNoIGZ1bmN0aW9ucyB0byBlYWNoIERPTSBlbGVtZW50IHRoYXQgZGV0ZXJtaW5lIHdoZXRoZXIgaXQgc2hvdWxkXG4gICAvKiBiZSBzaG93biBvciBoaWRkZW4uICovXG4gIFNob3dGb3IucHJvdG90eXBlLmluaXRTaG93RnVuY3MgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLiRjb250YWluZXIuZmluZCgnLmZvcicpLmVhY2goZnVuY3Rpb24oaSwgZWxlbSkge1xuICAgICAgdmFyICRlbGVtID0gJChlbGVtKTtcbiAgICAgIHZhciBzaG93Rm9yID0gJGVsZW0uZGF0YSgnZm9yJyk7XG4gICAgICB2YXIgY3JpdGVyaWEgPSBzaG93Rm9yLnNwbGl0KC9cXHMqLFxccyovKTtcbiAgICAgIHZhciBzaG93RnVuYyA9IHRoaXMubWF0Y2hlc0NyaXRlcmlhLmJpbmQodGhpcywgY3JpdGVyaWEpO1xuICAgICAgJGVsZW0uZGF0YSgnc2hvdy1mdW5jJywgc2hvd0Z1bmMpO1xuICAgIH0uYmluZCh0aGlzKSk7XG4gIH07XG5cbiAgLyogQXBwbHkgYWxsIHRoZSBhdHRhY2hlZCBzaG93Zm9yIGZ1bmN0aW9ucyBmb3IgZWFjaCBET00gZWxlbWVudC5cbiAgICpcbiAgICogSWYgbm8gZGVjaWRpbmcgZnVuY3Rpb24gaXMgYXR0YWNoZWQsIHRoZSBlbGVtZW50IHdpbGwgYmUgc2hvd24gYXMgYSBmYWxsYmFjay5cbiAgICovXG4gIFNob3dGb3IucHJvdG90eXBlLnNob3dBbmRIaWRlID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy4kY29udGFpbmVyLmZpbmQoJy5mb3InKS5lYWNoKGZ1bmN0aW9uKGksIGVsZW0pIHtcbiAgICAgIHZhciAkZWxlbSA9ICQoZWxlbSk7XG4gICAgICB2YXIgc2hvd0Z1bmMgPSAkZWxlbS5kYXRhKCdzaG93LWZ1bmMnKTtcbiAgICAgIGlmIChzaG93RnVuYykge1xuICAgICAgICAkZWxlbS50b2dnbGUoc2hvd0Z1bmMoKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkZWxlbS5zaG93KCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgLyogQ2hlY2tzIGlmIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoaXMgb2JqZWN0IG1hdGNoZXMgY3JpdGVyaWEuXG4gICAqXG4gICAqIGNyaXRlcmlhIGlzIGFuIGFycmF5IG9mIHN0cmluZ3MgbGlrZSBcImZ4MjRcIiBvciBcIm5vdCBtXCIsIHdoaWNoXG4gICAqIGdlbmVyYWxseSBjb21lIGZyb20gc3BsaXR0aW5nIHRoZSBmb3Igc2VsZWN0b3JzIG9uIGNvbW1hcy5cbiAgICovXG4gIFNob3dGb3IucHJvdG90eXBlLm1hdGNoZXNDcml0ZXJpYSA9IGZ1bmN0aW9uKGNyaXRlcmlhKSB7XG4gICAgLyogVGhlIGJhc2ljIGxvZ2ljIGZvciBzaG93Zm9yIGlzIHRoYXQgdGhlcmUgYXJlIHR3byBraW5kcyBvZlxuICAgICAqIHRoaW5nczogcGxhdGZvcm1zIGFuZCBwcm9kdWN0cy4gSWYgb25lIG9yIG1vcmUgcGxhdGZvcm1zIGFyZVxuICAgICAqIGluIHRoZSBjcml0ZXJpYSwgYXQgbGVhc3Qgb25lIGhhcyB0byBtYXRjaC4gSWYgb25lIG9yIG1vcmVcbiAgICAgKiBwcm9kdWN0cyBhcmUgaW4gdGhlIGNyaXRlcmlhLCBhdCBsZWFzdCBvbmUgaGFzIHRvIG1hdGNoLlxuICAgICAqXG4gICAgICogVG8gYmUgc3VjY2luY3QsIHRoaXMgaGFzIHRvIGJlIHRydWUgZm9yIGEgc2V0IG9mIGNyaXRlcmlhIHRvIG1hdGNoOlxuICAgICAqXG4gICAgICogICAgKGFueShicm93c2Vycykgb3IgYnJvd3NlcnMubGVuZ3RoID09IDApIGFuZFxuICAgICAqICAgIChhbnkocGxhdGZvcm1zKSBvciBwbGF0Zm9ybXMubGVuZ3RoID09IDApXG4gICAgICpcbiAgICAgKiBWZXJzaW9ucyBhcmUgc2VlbiBhcyBtb3JlIHNwZWNpZmljIHByb2R1Y3RzLiBQbGF0Zm9ybXMgZG9uJ3RcbiAgICAgKiBoYXZlIHZlcnNpb25zLlxuICAgICAqL1xuICAgIHZhciBoYXNQcm9kdWN0ID0gZmFsc2U7XG4gICAgdmFyIG1hdGNoUHJvZHVjdCA9IGZhbHNlO1xuICAgIHZhciBoYXNQbGF0Zm9ybSA9IGZhbHNlO1xuICAgIHZhciBtYXRjaFBsYXRmb3JtID0gZmFsc2U7XG5cbiAgICAvKiBUaGlzIGNoZWF0cyBhIGJpdC4gUGxhdGZvcm1zIGFyZSBwcmVzZW50ZWQgYXMgYmVpbmcgdGllZCB0byBhXG4gICAgICogcGxhdGZvcm0sIGJ1dCB3ZSBpZ25vcmUgdGhhdC4gSnVzdCBhc3N1bWUgdGhhdCBhbGwgc2VsZWN0ZWRcbiAgICAgKiBwbGF0Zm9ybXMgYXBwbHkgdG8gYWxsIHByb2R1Y3RzLiAqL1xuICAgIHZhciBlbmFibGVkUGxhdGZvcm1zID0gW107XG4gICAgZm9yICh2YXIgc2x1ZyBpbiB0aGlzLnN0YXRlKSB7XG4gICAgICB2YXIgcHJvZCA9IHRoaXMuc3RhdGVbc2x1Z107XG4gICAgICBpZiAocHJvZC5lbmFibGVkICYmIHByb2QucGxhdGZvcm0pIHtcbiAgICAgICAgZW5hYmxlZFBsYXRmb3Jtcy5wdXNoKHByb2QucGxhdGZvcm0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qIFRoaXMgd2lsbCBsb29wIHRocm91Z2ggZXZlcnkgaXRlbSBpbiBjcml0ZXJpYS4gSXQgd2lsbCBzZXQgdGhlXG4gICAgICogaGFzL21hdGNoZXMgdmFyaWFibGVzIGFib3ZlIHRvIHRydWUgaWYgYXQgbGVhc3Qgb25lXG4gICAgICogcHJvZHVjdC9wbGF0Zm9ybSBpcyBmb3VuZCwgYW5kIGF0IGxlYXN0IG9uZSBvZiB0aG9zZSBtYXRjaGVzXG4gICAgICogcmVzcGVjdGl2ZWx5LiAqL1xuICAgIGNyaXRlcmlhLmZvckVhY2goZnVuY3Rpb24obmFtZSkge1xuICAgICAgdmFyIHByb2R1Y3RTbHVnLCBlbGVtVmVyc2lvbjtcblxuICAgICAgLy8gRG9lcyB0aGlzIHN0YXJ0IHdpdGggXCJub3RcIiA/IFNldCBhIGZsYWcuXG4gICAgICB2YXIgbm90ID0gKG5hbWUuaW5kZXhPZignbm90JykgPT09IDApO1xuICAgICAgaWYgKG5vdCkge1xuICAgICAgICBuYW1lID0gbmFtZS5yZXBsYWNlKC9ebm90ID8vLCAnJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIFwiZnhcIiAtPiBcImZpcmVmb3hcIiwgZXRjLlxuICAgICAgbmFtZSA9IHRoaXMucHJvZHVjdFNob3J0TWFwW25hbWVdIHx8IG5hbWU7XG5cbiAgICAgIC8vIENoZWNrIGZvciBleGFjdC1lcXVhbHMuIE1heWJlIHRoaXMgd2lsbCBnZXQgc21hcnRlciBsYXRlci5cbiAgICAgIHZhciBvcGVyID0gJz49JztcbiAgICAgIGlmIChuYW1lWzBdID09PSAnPScpIHtcbiAgICAgICAgbmFtZSA9IG5hbWUuc2xpY2UoMSk7XG4gICAgICAgIG9wZXIgPSAnPSc7XG4gICAgICB9XG5cbiAgICAgIC8qIE5vdCB0aGF0IHRoZSBiZWxvdyB0aGluZ3MgbmV2ZXIgc2V0IGFueXRoaW5nIGZhbHNlLCBvbmx5IHRvXG4gICAgICAgKiB0cnVlLiBUaGlzIHdheSB0aGV5IHdvcmsgbGlrZSBhIGJpZyBPUi4gKi9cblxuICAgICAgLy8gSXMgdGhpcyBhIHByb2R1Y3Q/ICh3aXRob3V0IGEgdmVyc2lvbikge2ZvciBmeH1cbiAgICAgIGlmICh0aGlzLnByb2R1Y3RTbHVncy5pbmRleE9mKG5hbWUpID49IDApIHtcbiAgICAgICAgaGFzUHJvZHVjdCA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlW25hbWVdLmVuYWJsZWQgIT09IG5vdCkge1xuICAgICAgICAgIG1hdGNoUHJvZHVjdCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJcyB0aGlzIGEgcHJvZHVjdCt2ZXJzaW9uPyAge2ZvciBmeDI3fVxuICAgICAgfSBlbHNlIGlmICh0aGlzLnZlcnNpb25TbHVnc1tuYW1lXSAhPT0gdW5kZWZpbmVkKSB7XG5cbiAgICAgICAgLyogZWxlbVZlcnNpb24gaXMgdGhlIHZlcnNpb24gaW5kaWNhdGVkIGluIHRoZSBlbGVtZW50IGJlaW5nXG4gICAgICAgICAqIHNob3duL2hpZGRlbi4gc3RhdGVNaW4gYW5kIHN0YXRlTWF4IGFyZSB0aGUgbWluIGFuZCBtYXhcbiAgICAgICAgICogdmVyc2lvbnMgZnJvbSB0aGlzLnN0YXRlLCB3aGljaCByZWZsZWN0cyB0aGUgVUkuICovXG4gICAgICAgIHByb2R1Y3RTbHVnID0gdGhpcy52ZXJzaW9uU2x1Z3NbbmFtZV07XG4gICAgICAgIGhhc1Byb2R1Y3QgPSB0cnVlO1xuICAgICAgICBlbGVtVmVyc2lvbiA9IHBhcnNlRmxvYXQoL15bYS16XSsoW1xcZFxcLl0rKSQvLmV4ZWMobmFtZSlbMV0pO1xuXG4gICAgICAgIC8vIG5hbWUgPSAnZngyNycgLT4gcHJvZHVjdFNsdWcgPSAnZngnLCBlbGVtVmVyc2lvbiA9IDI3XG5cbiAgICAgICAgdmFyIHN0YXRlTWluID0gdGhpcy5zdGF0ZVtwcm9kdWN0U2x1Z10udmVyc2lvbi5taW47XG4gICAgICAgIHZhciBzdGF0ZU1heCA9IHRoaXMuc3RhdGVbcHJvZHVjdFNsdWddLnZlcnNpb24ubWF4O1xuXG4gICAgICAgIHZhciBlbmFibGVkID0gdGhpcy5zdGF0ZVtwcm9kdWN0U2x1Z10uZW5hYmxlZDtcbiAgICAgICAgdmFyIHJpZ2h0VmVyc2lvbiA9ICgob3BlciA9PT0gJz49JyAmJiBlbGVtVmVyc2lvbiA8IHN0YXRlTWF4KSB8fFxuICAgICAgICAgIChvcGVyID09PSAnPScgJiYgZWxlbVZlcnNpb24gPj0gc3RhdGVNaW4gJiYgZWxlbVZlcnNpb24gPCBzdGF0ZU1heCkpO1xuXG4gICAgICAgIGlmICgoZW5hYmxlZCAmJiByaWdodFZlcnNpb24pICE9PSBub3QpIHtcbiAgICAgICAgICBtYXRjaFByb2R1Y3QgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSXMgaXQgYSBwbGF0Zm9ybT9cbiAgICAgIH0gZWxzZSBpZiAodGhpcy5wbGF0Zm9ybVNsdWdzLmluZGV4T2YobmFtZSkgPj0gMCkge1xuICAgICAgICBoYXNQbGF0Zm9ybSA9IHRydWU7XG5cbiAgICAgICAgaWYgKChlbmFibGVkUGxhdGZvcm1zLmluZGV4T2YobmFtZSkgPj0gMCkgIT09IG5vdCkge1xuICAgICAgICAgIG1hdGNoUGxhdGZvcm0gPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3BlY2lhbCBjYXNlIGZvciB3aW5kb3dzLlxuICAgICAgfSBlbHNlIGlmIChuYW1lID09PSAnd2luJykge1xuICAgICAgICBoYXNQbGF0Zm9ybSA9IHRydWU7XG5cbiAgICAgICAgLyogTG9vcCB0aHJvdWdoIGVhY2ggb2YgdGhlIHBvc3NpYmxlIHNsdWdzIGZvciB3aW5kb3dzLiBJZlxuICAgICAgICAgKiBhbnkgb2YgdGhlbSBtYXRjaCwgdGhlbiB0aGlzIG5hbWUgbWF0Y2hlcy4gKi9cbiAgICAgICAgdmFyIHdpbmRvd3NUeXBlcyA9IFsnd2lueHAnLCAnd2luNycsICd3aW44JywgJ3dpbjEwJ107XG4gICAgICAgIHZhciB3aW5NYXRjaGVzID0gZmFsc2U7XG5cbiAgICAgICAgd2luZG93c1R5cGVzLmZvckVhY2goZnVuY3Rpb24oZmFrZU5hbWUpIHtcbiAgICAgICAgICBpZiAoZW5hYmxlZFBsYXRmb3Jtcy5pbmRleE9mKGZha2VOYW1lKSA+PSAwKSB7XG4gICAgICAgICAgICB3aW5NYXRjaGVzID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh3aW5NYXRjaGVzICE9PSBub3QpIHtcbiAgICAgICAgICBtYXRjaFBsYXRmb3JtID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0uYmluZCh0aGlzKSk7XG5cbiAgICAvLyBJZiBhIHBsYXRmb3JtIG1hdGNoZXMsIG9yIG5vIHBsYXRmb3JtIG1hdGNoZXJzIGV4aXN0IEFORFxuICAgIC8vIGlmIGEgcHJvZHVjdCBtYXRjaGVzLCBvciBubyBwcm9kdWN0IG1hdGNoZXJzIGV4aXN0LlxuICAgIHJldHVybiAoIWhhc1Byb2R1Y3QgfHwgbWF0Y2hQcm9kdWN0KSAmJiAoIWhhc1BsYXRmb3JtIHx8IG1hdGNoUGxhdGZvcm0pO1xuICB9O1xuXG4gIHdpbmRvdy5TaG93Rm9yID0gU2hvd0ZvcjtcblxufSkoalF1ZXJ5KTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/app/kitsune/sumo/static/sumo/js/showfor.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/app/kitsune/sumo/static/sumo/js/showfor.js",
      "sourcesContent": [
        "/* global BrowserDetect:false, jQuery:false */\n/*\n * ShowFor is a system to customize an article for an individual. It\n * will show or hide parts of an article based on spans with the class\n * \"for\" and a data attribute \"data-for\" which contains the show/hide\n * criteria.\n *\n * Depends on: browserdetect.js\n */\n\n(function($) {\n\n  'use strict';\n\n  function ShowFor($container) {\n    this.$container = $container || $('body');\n    this.state = {};\n\n    this.loadData();\n    this.initEvents();\n    this.updateUI();\n    this.updateState();\n    this.wrapTOCs();\n    this.initShowFuncs();\n    this.showAndHide();\n  }\n\n  ShowFor.prototype.productShortMap = {\n    'fx': 'firefox',\n    'm': 'mobile',\n    'fxos': 'firefox-os',\n    'tb': 'thunderbird'\n  };\n\n  /* Get the product/platform data from the DOM, and munge it into the\n   * desired format. */\n  ShowFor.prototype.loadData = function() {\n    try {\n      this.data = JSON.parse(this.$container.find('.showfor-data').html());\n    } catch (e) {\n      this.data = {\n        products: [],\n        platforms: [],\n        versions: [],\n      };\n    }\n    this.productSlugs = this.data.products.map(function(prod) {\n      return prod.slug;\n    });\n    this.platformSlugs = [];\n    for (var product in this.data.platforms) {\n      this.data.platforms[product].forEach(function(platform) {\n        this.platformSlugs.push(platform.slug);\n      }.bind(this));\n    }\n    this.versionSlugs = {};\n    for (var prod in this.data.versions) {\n      this.data.versions[prod].forEach(function(version) {\n        this.versionSlugs[version.slug] = prod;\n      }.bind(this));\n    }\n  };\n\n// Bind events for ShowFor.\n  ShowFor.prototype.initEvents = function() {\n    window.onpopstate = this.updateUI.bind(this);\n    this.$container.on('change keyup', 'input, select', this.onUIChange.bind(this));\n  };\n\n  /* Selects an option from a showfor selectbox, adding it if appropriate.\n   *\n   * If the desired value does not exist in the selectbox, this will consult the\n   * possible versions (even those not shown to the user) to see if the option is\n   * valid. If it is, it will be added, and then selected.\n   *\n   * This is useful because if the user comes to the site using something no\n   * longer supported (Firefox 18 for example), then the UI will change to\n   * include Firefox 18. Users that aren't running Firefox 18 won't see it as an\n   * option though\n   */\n  ShowFor.prototype.ensureSelect = function($select, type, product, val) {\n    var $opt;\n    var key;\n    var extra = {};\n    var target;\n\n    function select(searchArray, slug) {\n      for (var i = 0; i < searchArray.length; i++) {\n        if (searchArray[i].slug === slug) {\n          return searchArray[i];\n        }\n      }\n      return null;\n    }\n\n    if (type === 'version') {\n      target = select(this.data.versions[product], val);\n      if (target !== null) {\n        extra['data-min'] = target.min_version;\n        extra['data-max'] = target.max_version;\n      }\n    } else if (type === 'platform') {\n      target = select(this.data.platforms[product], val);\n    } else if (type === 'product') {\n      target = select(this.data.products, val);\n    } else {\n      throw new Error('Unknown showfor select type ' + type);\n    }\n\n    // This will fail if there is no version/product/platform that\n    // matches the desired val.\n    if (target === null) {\n      return;\n    }\n\n    val = type + ':' + val;\n\n    if ($select.find('option[value=\"' + val + '\"]').length === 0) {\n      $opt = $('<option>')\n        .attr('value', val)\n        .text(target.name);\n      for (key in extra) {\n        $opt.attr(key, extra[key]);\n      }\n      $select.append($opt);\n    }\n\n    $select.val(val);\n  };\n\n  /* Set up the UI. This consists of two parts:\n   *   1. Pick initial values for the form elements. This is based on the first of\n   *      the following criteria that matches:\n   *      * url hash\n   *      * sessionStore\n   *      * browser detection via useragent sniffing.\n   */\n  ShowFor.prototype.updateUI = function() {\n    var persisted = null;\n    var hash = document.location.hash;\n\n    if (hash.indexOf(':') >= 0) {\n      persisted = hash.slice(1);\n    }\n\n    if (persisted === null && window.sessionStorage) {\n      // If the key doesn't exist, getItem will return null.\n      persisted = sessionStorage.getItem('showfor::persist');\n    }\n\n    // Well, we got something. Lets try to parse it.\n    if (persisted) {\n      var itWorked = false;\n      this.$container.find('.product input[type=checkbox]').prop('checked', false);\n      persisted.split('&').forEach(function(prodInfo) {\n        var data = prodInfo.split(':');\n        var product = data[0] || null;\n        var platform = data[1] || null;\n        var version = data[2] || null;\n\n        var $product = this.$container.find('.product[data-product=\"' + product + '\"]');\n        if ($product.length === 0) {\n          return;\n        }\n        itWorked = true;\n        $product.find('input[type=checkbox][value=\"product:' + product + '\"]')\n          .prop('checked', true);\n        if (platform) {\n          var $platform = $product.find('select.platform');\n          this.ensureSelect($platform, 'platform', product, platform);\n        }\n        if (version) {\n          var $version = $product.find('select.version');\n          this.ensureSelect($version, 'version', product, version);\n        }\n      }.bind(this));\n\n      if (itWorked) {\n        return;\n      }\n    }\n\n    // This will only run if sessionstorage and url hash detection both failed.\n    var browser = this.productShortMap[BrowserDetect.browser] || BrowserDetect.browser;\n    var platform = this.productShortMap[BrowserDetect.OS] || BrowserDetect.OS;\n    var version = BrowserDetect.version;\n\n    var $products = this.$container.find('.product');\n    var productElems = {};\n    $products.each(function(i, elem) {\n      var $elem = $(elem);\n      productElems[$elem.data('product')] = $elem;\n    });\n\n    var verSlug, $version;\n\n    if (version) {\n      if (browser === 'firefox' && this.productSlugs.indexOf('firefox') !== -1) {\n        verSlug = 'fx' + version;\n        $version = productElems.firefox.find('select.version');\n        this.ensureSelect($version, 'version', 'firefox', verSlug);\n\n      } else if (browser === 'mobile' && this.productSlugs.indexOf('mobile') !== -1) {\n        verSlug = 'm' + version;\n        $version = productElems.mobile.find('select.version');\n        this.ensureSelect($version, 'version', 'mobile', verSlug);\n\n      } else if (browser === 'firefox-os' && this.productSlugs.indexOf('firefox-os') !== -1) {\n        verSlug = 'fxos' + version.toFixed(1);\n        $version = productElems['firefox-os'].find('select.version');\n        this.ensureSelect($version, 'version', 'firefox-os', verSlug);\n      }\n    }\n\n    $products.find('select.platform').each(function(i, elem) {\n      var $elem = $(elem);\n      var product = $elem.parents('.product').data('product');\n      this.ensureSelect($elem, 'platform', product, platform);\n    }.bind(this));\n  };\n\n// Called when the user touches something.\n  ShowFor.prototype.onUIChange = function() {\n    this.updateState();\n    this.showAndHide();\n    this.persist();\n  };\n\n// Stores the current object state in the url hash and/or sessionStorage.\n  ShowFor.prototype.persist = function() {\n    var key, val, i = 0;\n\n    var persisted = '';\n    for (key in this.state) {\n      val = this.state[key];\n      if (val.enabled) {\n        if (i > 0) {\n          persisted += '&';\n        }\n        var plat = val.platform || '';\n        var ver = val.version ? (val.version.slug || '') : '';\n        persisted += key + ':' + plat + ':' + ver;\n        i++;\n      }\n    }\n\n    // to avoid jumping to the top if all products are disabled.\n    if (persisted === '') {\n      return;\n    }\n\n    // If this is a navigation hash instead of a showfor hash, there\n    // (probably) won't be any colons in it, so don't touch it.\n    if (document.location.hash === '' || document.location.hash.indexOf(':') >= 0) {\n      // Using document.location to change this triggers a popstate,\n      // which we listen to. replaceState doesn't trigger a popstate.\n      history.replaceState(this.state, persisted, '#' + persisted);\n      // document.location.hash = persisted;\n    }\n\n    if (window.sessionStorage) {\n      window.sessionStorage.setItem('showfor::persist', persisted);\n    }\n  };\n\n  /* Parse the state of the form elements and store it.\n   *\n   * This gets stored in this object's internal state, in the url via a\n   * has, and into sessionstorage (if available) */\n  ShowFor.prototype.updateState = function() {\n    this.state = {};\n\n    this.$container.find('.product').each(function(i, productElem) {\n      var $productElem = $(productElem);\n      var slug = $productElem.data('product');\n      this.state[slug] = {\n        enabled: $productElem.find('input[type=checkbox]').prop('checked')\n      };\n\n      $productElem.find('select').each(function(j, selectElem) {\n        var $selectElem = $(selectElem);\n        var combined = $selectElem.val();\n        var parts = combined.split(':');\n        var type = parts[0];\n        var data = parts[1];\n\n        if (type === 'version') {\n          var $option = $selectElem.find('option:selected');\n          data = {\n            slug: data,\n            min: parseFloat($option.data('min')),\n            max: parseFloat($option.data('max'))\n          };\n        }\n\n        this.state[slug][type] = data;\n      }.bind(this));\n    }.bind(this));\n  };\n\n  /* Table of Contents entries need to be shown shown and hidden too.\n   * For any TOC entry that corresponds to a header that might be hidden,\n   * wrap it in a span to mimic showfor elements. */\n  ShowFor.prototype.wrapTOCs = function() {\n    /* This works by going through the TOC that already exists, and for\n     * every element, checking if the corresponding heading in the\n     * article is contained in a showfor. If it is, this wraps the TOC\n     * element in <span>s that mimic showfor. */\n\n    this.$container.find('#toc a').each(function(i, elem) {\n      var $elem = $(elem);\n      var idSelector = $elem.attr('href');\n      if (idSelector[0] !== '#') {\n        // No idea what to do here. Give up on this item.\n        return;\n      }\n\n      var $docSearcher = $(idSelector);\n      var $wrappee = $elem.parent();\n\n      while ($docSearcher.length) {\n        if ($docSearcher.hasClass('for')) {\n          var $wrapper = $('<span/>', {\n            'class': 'for',\n            'data-for': $docSearcher.data('for')\n          });\n          $wrappee = $wrappee.wrap($wrapper);\n        }\n        $docSearcher = $docSearcher.parent();\n      }\n    });\n  };\n\n  /* Attach functions to each DOM element that determine whether it should\n   /* be shown or hidden. */\n  ShowFor.prototype.initShowFuncs = function() {\n    this.$container.find('.for').each(function(i, elem) {\n      var $elem = $(elem);\n      var showFor = $elem.data('for');\n      var criteria = showFor.split(/\\s*,\\s*/);\n      var showFunc = this.matchesCriteria.bind(this, criteria);\n      $elem.data('show-func', showFunc);\n    }.bind(this));\n  };\n\n  /* Apply all the attached showfor functions for each DOM element.\n   *\n   * If no deciding function is attached, the element will be shown as a fallback.\n   */\n  ShowFor.prototype.showAndHide = function() {\n    this.$container.find('.for').each(function(i, elem) {\n      var $elem = $(elem);\n      var showFunc = $elem.data('show-func');\n      if (showFunc) {\n        $elem.toggle(showFunc());\n      } else {\n        $elem.show();\n      }\n    });\n  };\n\n  /* Checks if the current state of this object matches criteria.\n   *\n   * criteria is an array of strings like \"fx24\" or \"not m\", which\n   * generally come from splitting the for selectors on commas.\n   */\n  ShowFor.prototype.matchesCriteria = function(criteria) {\n    /* The basic logic for showfor is that there are two kinds of\n     * things: platforms and products. If one or more platforms are\n     * in the criteria, at least one has to match. If one or more\n     * products are in the criteria, at least one has to match.\n     *\n     * To be succinct, this has to be true for a set of criteria to match:\n     *\n     *    (any(browsers) or browsers.length == 0) and\n     *    (any(platforms) or platforms.length == 0)\n     *\n     * Versions are seen as more specific products. Platforms don't\n     * have versions.\n     */\n    var hasProduct = false;\n    var matchProduct = false;\n    var hasPlatform = false;\n    var matchPlatform = false;\n\n    /* This cheats a bit. Platforms are presented as being tied to a\n     * platform, but we ignore that. Just assume that all selected\n     * platforms apply to all products. */\n    var enabledPlatforms = [];\n    for (var slug in this.state) {\n      var prod = this.state[slug];\n      if (prod.enabled && prod.platform) {\n        enabledPlatforms.push(prod.platform);\n      }\n    }\n\n    /* This will loop through every item in criteria. It will set the\n     * has/matches variables above to true if at least one\n     * product/platform is found, and at least one of those matches\n     * respectively. */\n    criteria.forEach(function(name) {\n      var productSlug, elemVersion;\n\n      // Does this start with \"not\" ? Set a flag.\n      var not = (name.indexOf('not') === 0);\n      if (not) {\n        name = name.replace(/^not ?/, '');\n      }\n\n      // \"fx\" -> \"firefox\", etc.\n      name = this.productShortMap[name] || name;\n\n      // Check for exact-equals. Maybe this will get smarter later.\n      var oper = '>=';\n      if (name[0] === '=') {\n        name = name.slice(1);\n        oper = '=';\n      }\n\n      /* Not that the below things never set anything false, only to\n       * true. This way they work like a big OR. */\n\n      // Is this a product? (without a version) {for fx}\n      if (this.productSlugs.indexOf(name) >= 0) {\n        hasProduct = true;\n        if (this.state[name].enabled !== not) {\n          matchProduct = true;\n        }\n\n        // Is this a product+version?  {for fx27}\n      } else if (this.versionSlugs[name] !== undefined) {\n\n        /* elemVersion is the version indicated in the element being\n         * shown/hidden. stateMin and stateMax are the min and max\n         * versions from this.state, which reflects the UI. */\n        productSlug = this.versionSlugs[name];\n        hasProduct = true;\n        elemVersion = parseFloat(/^[a-z]+([\\d\\.]+)$/.exec(name)[1]);\n\n        // name = 'fx27' -> productSlug = 'fx', elemVersion = 27\n\n        var stateMin = this.state[productSlug].version.min;\n        var stateMax = this.state[productSlug].version.max;\n\n        var enabled = this.state[productSlug].enabled;\n        var rightVersion = ((oper === '>=' && elemVersion < stateMax) ||\n          (oper === '=' && elemVersion >= stateMin && elemVersion < stateMax));\n\n        if ((enabled && rightVersion) !== not) {\n          matchProduct = true;\n        }\n\n        // Is it a platform?\n      } else if (this.platformSlugs.indexOf(name) >= 0) {\n        hasPlatform = true;\n\n        if ((enabledPlatforms.indexOf(name) >= 0) !== not) {\n          matchPlatform = true;\n        }\n\n        // Special case for windows.\n      } else if (name === 'win') {\n        hasPlatform = true;\n\n        /* Loop through each of the possible slugs for windows. If\n         * any of them match, then this name matches. */\n        var windowsTypes = ['winxp', 'win7', 'win8', 'win10'];\n        var winMatches = false;\n\n        windowsTypes.forEach(function(fakeName) {\n          if (enabledPlatforms.indexOf(fakeName) >= 0) {\n            winMatches = true;\n          }\n        });\n\n        if (winMatches !== not) {\n          matchPlatform = true;\n        }\n      }\n    }.bind(this));\n\n    // If a platform matches, or no platform matchers exist AND\n    // if a product matches, or no product matchers exist.\n    return (!hasProduct || matchProduct) && (!hasPlatform || matchPlatform);\n  };\n\n  window.ShowFor = ShowFor;\n\n})(jQuery);\n"
      ]
    },
    "mtime": 1561057444000
  },
  "{\"filename\":\"/app/kitsune/sumo/static/sumo/js/tags.filter.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":2,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "/* globals _:false, k:false, jQuery:false */\n'use strict';\n\n(function ($) {\n\n  function init($container) {\n    var $form = $container ? $container.find('form') : $('#tag-filter form'),\n        $tags = $form.find('input[type=\"text\"]'),\n        $btn = $form.find('input[type=\"submit\"], button'),\n        $hidden = $('<input type=\"hidden\"/>'),\n        vocab = $tags.data('vocabulary'),\n        lowerVocab = {};\n\n    if (!$form.length) {\n      return;\n    }\n\n    // Create a lower case vocab for case insensitive match.\n    _.each(_.keys(vocab), function (name) {\n      lowerVocab[name.toLowerCase()] = vocab[name];\n    });\n\n    // Add a hidden field for comma-separated slugs.\n    $hidden.attr('name', $tags.attr('name')).appendTo($form);\n    $tags.removeAttr('name');\n\n    // Disable button while text input is empty.\n    $btn.attr('disabled', 'disabled');\n    $tags.keyup(function () {\n      if ($tags.val()) {\n        $btn.removeAttr('disabled');\n      } else {\n        $btn.attr('disabled', 'disabled');\n      }\n    });\n\n    // Set up autocomplete\n    // Skip if the autocomplete plugin isn't available (unit tests).\n    if ($tags.autocomplete) {\n      $tags.autocomplete({\n        source: _.keys(vocab),\n        delay: 0,\n        minLength: 1\n      });\n    }\n\n    // When form is submitted, get the slugs to send over in request.\n    $form.submit(function () {\n      var tagNames = $tags.val(),\n          slugNames = [],\n          currentSlugs = $form.find('input.current-tagged').val(),\n          slugs,\n          invalid = false;\n\n      // For each tag name, find the slug.\n      _.each(tagNames.split(','), function (tag) {\n        var trimmed = $.trim(tag),\n            slug = lowerVocab[trimmed.toLowerCase()];\n        if (slug) {\n          slugNames.push(slug);\n        } else if (trimmed) {\n          invalid = true;\n          alert(interpolate(gettext('Invalid tag entered: %s'), [tag])); // eslint-disable-line\n        }\n      });\n\n      // Invalid or no tags? No requests!\n      if (invalid || slugNames.length === 0) {\n        $form.trigger('ajaxComplete');\n        if (!invalid) {\n          alert(gettext('No tags entered.')); // eslint-disable-line\n        }\n        return false;\n      }\n      slugs = slugNames.join(',');\n\n      // Prepend any existing filters applied.\n      if (currentSlugs) {\n        slugs = currentSlugs + ',' + slugs;\n      }\n      $hidden.val(slugs);\n    });\n  }\n\n  k.TagsFilter = {\n    init: init\n  };\n\n  $(document).ready(function () {\n    k.TagsFilter.init();\n  });\n})(jQuery);\n/*\n * A tag filtering form.\n */\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9hcHAva2l0c3VuZS9zdW1vL3N0YXRpYy9zdW1vL2pzL3RhZ3MuZmlsdGVyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUtBLENBQUMsVUFBUyxDQUFDLEVBQUU7O0FBRVgsV0FBUyxJQUFJLENBQUMsVUFBVSxFQUFFO0FBQ3hCLFFBQUksS0FBSyxHQUFHLFVBQVUsR0FBRyxVQUFVLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxrQkFBa0IsQ0FBQztRQUN0RSxLQUFLLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQztRQUFFLElBQUksR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLDhCQUE4QixDQUFDO1FBQzNGLE9BQU8sR0FBRyxDQUFDLENBQUMsd0JBQXdCLENBQUM7UUFDckMsS0FBSyxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDO1FBQ2hDLFVBQVUsR0FBRyxFQUFFLENBQUM7O0FBRWxCLFFBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFFO0FBQ2pCLGFBQU87S0FDUjs7O0FBR0QsS0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFFLFVBQVMsSUFBSSxFQUFFO0FBQ25DLGdCQUFVLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQzlDLENBQUMsQ0FBQzs7O0FBR0gsV0FBTyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUN2QyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDakIsU0FBSyxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQzs7O0FBR3pCLFFBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLFVBQVUsQ0FBQyxDQUFDO0FBQ2xDLFNBQUssQ0FBQyxLQUFLLENBQUMsWUFBVztBQUNyQixVQUFJLEtBQUssQ0FBQyxHQUFHLEVBQUUsRUFBRTtBQUNmLFlBQUksQ0FBQyxVQUFVLENBQUMsVUFBVSxDQUFDLENBQUM7T0FDN0IsTUFBTTtBQUNMLFlBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLFVBQVUsQ0FBQyxDQUFDO09BQ25DO0tBQ0YsQ0FBQyxDQUFDOzs7O0FBSUgsUUFBSSxLQUFLLENBQUMsWUFBWSxFQUFFO0FBQ3RCLFdBQUssQ0FBQyxZQUFZLENBQUM7QUFDakIsY0FBTSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDO0FBQ3JCLGFBQUssRUFBRSxDQUFDO0FBQ1IsaUJBQVMsRUFBRSxDQUFDO09BQ2IsQ0FBQyxDQUFDO0tBQ0o7OztBQUdELFNBQUssQ0FBQyxNQUFNLENBQUMsWUFBVztBQUN0QixVQUFJLFFBQVEsR0FBRyxLQUFLLENBQUMsR0FBRyxFQUFFO1VBQ3hCLFNBQVMsR0FBRyxFQUFFO1VBQ2QsWUFBWSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsc0JBQXNCLENBQUMsQ0FBQyxHQUFHLEVBQUU7VUFDdkQsS0FBSztVQUNMLE9BQU8sR0FBRyxLQUFLLENBQUM7OztBQUdsQixPQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsVUFBUyxHQUFHLEVBQUU7QUFDeEMsWUFBSSxPQUFPLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUM7WUFDdkIsSUFBSSxHQUFHLFVBQVUsQ0FBQyxPQUFPLENBQUMsV0FBVyxFQUFFLENBQUMsQ0FBQztBQUMzQyxZQUFJLElBQUksRUFBRTtBQUNSLG1CQUFTLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQ3RCLE1BQU0sSUFBSSxPQUFPLEVBQUU7QUFDbEIsaUJBQU8sR0FBRyxJQUFJLENBQUM7QUFDZixlQUFLLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyx5QkFBeUIsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQy9EO09BQ0YsQ0FBQyxDQUFDOzs7QUFHSCxVQUFJLE9BQU8sSUFBSSxTQUFTLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtBQUNyQyxhQUFLLENBQUMsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFDO0FBQzlCLFlBQUksQ0FBQyxPQUFPLEVBQUU7QUFDWixlQUFLLENBQUMsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUMsQ0FBQztTQUNwQztBQUNELGVBQU8sS0FBSyxDQUFDO09BQ2Q7QUFDRCxXQUFLLEdBQUcsU0FBUyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQzs7O0FBRzVCLFVBQUksWUFBWSxFQUFFO0FBQ2hCLGFBQUssR0FBRyxZQUFZLEdBQUcsR0FBRyxHQUFHLEtBQUssQ0FBQztPQUNwQztBQUNELGFBQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7S0FDcEIsQ0FBQyxDQUFDO0dBQ0o7O0FBRUQsR0FBQyxDQUFDLFVBQVUsR0FBRztBQUNiLFFBQUksRUFBRSxJQUFJO0dBQ1gsQ0FBQzs7QUFFRixHQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsS0FBSyxDQUFDLFlBQVc7QUFDM0IsS0FBQyxDQUFDLFVBQVUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztHQUNyQixDQUFDLENBQUM7Q0FFSixDQUFBLENBQUUsTUFBTSxDQUFDLENBQUMiLCJmaWxlIjoiL2FwcC9raXRzdW5lL3N1bW8vc3RhdGljL3N1bW8vanMvdGFncy5maWx0ZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBnbG9iYWxzIF86ZmFsc2UsIGs6ZmFsc2UsIGpRdWVyeTpmYWxzZSAqL1xuLypcbiAqIEEgdGFnIGZpbHRlcmluZyBmb3JtLlxuICovXG5cbihmdW5jdGlvbigkKSB7XG5cbiAgZnVuY3Rpb24gaW5pdCgkY29udGFpbmVyKSB7XG4gICAgdmFyICRmb3JtID0gJGNvbnRhaW5lciA/ICRjb250YWluZXIuZmluZCgnZm9ybScpIDogJCgnI3RhZy1maWx0ZXIgZm9ybScpLFxuICAgICAgJHRhZ3MgPSAkZm9ybS5maW5kKCdpbnB1dFt0eXBlPVwidGV4dFwiXScpLCAkYnRuID0gJGZvcm0uZmluZCgnaW5wdXRbdHlwZT1cInN1Ym1pdFwiXSwgYnV0dG9uJyksXG4gICAgICAkaGlkZGVuID0gJCgnPGlucHV0IHR5cGU9XCJoaWRkZW5cIi8+JyksXG4gICAgICB2b2NhYiA9ICR0YWdzLmRhdGEoJ3ZvY2FidWxhcnknKSxcbiAgICAgIGxvd2VyVm9jYWIgPSB7fTtcblxuICAgIGlmICghJGZvcm0ubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIGEgbG93ZXIgY2FzZSB2b2NhYiBmb3IgY2FzZSBpbnNlbnNpdGl2ZSBtYXRjaC5cbiAgICBfLmVhY2goXy5rZXlzKHZvY2FiKSwgZnVuY3Rpb24obmFtZSkge1xuICAgICAgbG93ZXJWb2NhYltuYW1lLnRvTG93ZXJDYXNlKCldID0gdm9jYWJbbmFtZV07XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgYSBoaWRkZW4gZmllbGQgZm9yIGNvbW1hLXNlcGFyYXRlZCBzbHVncy5cbiAgICAkaGlkZGVuLmF0dHIoJ25hbWUnLCAkdGFncy5hdHRyKCduYW1lJykpXG4gICAgLmFwcGVuZFRvKCRmb3JtKTtcbiAgICAkdGFncy5yZW1vdmVBdHRyKCduYW1lJyk7XG5cbiAgICAvLyBEaXNhYmxlIGJ1dHRvbiB3aGlsZSB0ZXh0IGlucHV0IGlzIGVtcHR5LlxuICAgICRidG4uYXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgICAkdGFncy5rZXl1cChmdW5jdGlvbigpIHtcbiAgICAgIGlmICgkdGFncy52YWwoKSkge1xuICAgICAgICAkYnRuLnJlbW92ZUF0dHIoJ2Rpc2FibGVkJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkYnRuLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBTZXQgdXAgYXV0b2NvbXBsZXRlXG4gICAgLy8gU2tpcCBpZiB0aGUgYXV0b2NvbXBsZXRlIHBsdWdpbiBpc24ndCBhdmFpbGFibGUgKHVuaXQgdGVzdHMpLlxuICAgIGlmICgkdGFncy5hdXRvY29tcGxldGUpIHtcbiAgICAgICR0YWdzLmF1dG9jb21wbGV0ZSh7XG4gICAgICAgIHNvdXJjZTogXy5rZXlzKHZvY2FiKSxcbiAgICAgICAgZGVsYXk6IDAsXG4gICAgICAgIG1pbkxlbmd0aDogMVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gV2hlbiBmb3JtIGlzIHN1Ym1pdHRlZCwgZ2V0IHRoZSBzbHVncyB0byBzZW5kIG92ZXIgaW4gcmVxdWVzdC5cbiAgICAkZm9ybS5zdWJtaXQoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgdGFnTmFtZXMgPSAkdGFncy52YWwoKSxcbiAgICAgICAgc2x1Z05hbWVzID0gW10sXG4gICAgICAgIGN1cnJlbnRTbHVncyA9ICRmb3JtLmZpbmQoJ2lucHV0LmN1cnJlbnQtdGFnZ2VkJykudmFsKCksXG4gICAgICAgIHNsdWdzLFxuICAgICAgICBpbnZhbGlkID0gZmFsc2U7XG5cbiAgICAgIC8vIEZvciBlYWNoIHRhZyBuYW1lLCBmaW5kIHRoZSBzbHVnLlxuICAgICAgXy5lYWNoKHRhZ05hbWVzLnNwbGl0KCcsJyksIGZ1bmN0aW9uKHRhZykge1xuICAgICAgICB2YXIgdHJpbW1lZCA9ICQudHJpbSh0YWcpLFxuICAgICAgICAgIHNsdWcgPSBsb3dlclZvY2FiW3RyaW1tZWQudG9Mb3dlckNhc2UoKV07XG4gICAgICAgIGlmIChzbHVnKSB7XG4gICAgICAgICAgc2x1Z05hbWVzLnB1c2goc2x1Zyk7XG4gICAgICAgIH0gZWxzZSBpZiAodHJpbW1lZCkge1xuICAgICAgICAgIGludmFsaWQgPSB0cnVlO1xuICAgICAgICAgIGFsZXJ0KGludGVycG9sYXRlKGdldHRleHQoJ0ludmFsaWQgdGFnIGVudGVyZWQ6ICVzJyksIFt0YWddKSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIEludmFsaWQgb3Igbm8gdGFncz8gTm8gcmVxdWVzdHMhXG4gICAgICBpZiAoaW52YWxpZCB8fCBzbHVnTmFtZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICRmb3JtLnRyaWdnZXIoJ2FqYXhDb21wbGV0ZScpO1xuICAgICAgICBpZiAoIWludmFsaWQpIHtcbiAgICAgICAgICBhbGVydChnZXR0ZXh0KCdObyB0YWdzIGVudGVyZWQuJykpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgc2x1Z3MgPSBzbHVnTmFtZXMuam9pbignLCcpO1xuXG4gICAgICAvLyBQcmVwZW5kIGFueSBleGlzdGluZyBmaWx0ZXJzIGFwcGxpZWQuXG4gICAgICBpZiAoY3VycmVudFNsdWdzKSB7XG4gICAgICAgIHNsdWdzID0gY3VycmVudFNsdWdzICsgJywnICsgc2x1Z3M7XG4gICAgICB9XG4gICAgICAkaGlkZGVuLnZhbChzbHVncyk7XG4gICAgfSk7XG4gIH1cblxuICBrLlRhZ3NGaWx0ZXIgPSB7XG4gICAgaW5pdDogaW5pdFxuICB9O1xuXG4gICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuICAgIGsuVGFnc0ZpbHRlci5pbml0KCk7XG4gIH0pO1xuXG59KShqUXVlcnkpO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/app/kitsune/sumo/static/sumo/js/tags.filter.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/app/kitsune/sumo/static/sumo/js/tags.filter.js",
      "sourcesContent": [
        "/* globals _:false, k:false, jQuery:false */\n/*\n * A tag filtering form.\n */\n\n(function($) {\n\n  function init($container) {\n    var $form = $container ? $container.find('form') : $('#tag-filter form'),\n      $tags = $form.find('input[type=\"text\"]'), $btn = $form.find('input[type=\"submit\"], button'),\n      $hidden = $('<input type=\"hidden\"/>'),\n      vocab = $tags.data('vocabulary'),\n      lowerVocab = {};\n\n    if (!$form.length) {\n      return;\n    }\n\n    // Create a lower case vocab for case insensitive match.\n    _.each(_.keys(vocab), function(name) {\n      lowerVocab[name.toLowerCase()] = vocab[name];\n    });\n\n    // Add a hidden field for comma-separated slugs.\n    $hidden.attr('name', $tags.attr('name'))\n    .appendTo($form);\n    $tags.removeAttr('name');\n\n    // Disable button while text input is empty.\n    $btn.attr('disabled', 'disabled');\n    $tags.keyup(function() {\n      if ($tags.val()) {\n        $btn.removeAttr('disabled');\n      } else {\n        $btn.attr('disabled', 'disabled');\n      }\n    });\n\n    // Set up autocomplete\n    // Skip if the autocomplete plugin isn't available (unit tests).\n    if ($tags.autocomplete) {\n      $tags.autocomplete({\n        source: _.keys(vocab),\n        delay: 0,\n        minLength: 1\n      });\n    }\n\n    // When form is submitted, get the slugs to send over in request.\n    $form.submit(function() {\n      var tagNames = $tags.val(),\n        slugNames = [],\n        currentSlugs = $form.find('input.current-tagged').val(),\n        slugs,\n        invalid = false;\n\n      // For each tag name, find the slug.\n      _.each(tagNames.split(','), function(tag) {\n        var trimmed = $.trim(tag),\n          slug = lowerVocab[trimmed.toLowerCase()];\n        if (slug) {\n          slugNames.push(slug);\n        } else if (trimmed) {\n          invalid = true;\n          alert(interpolate(gettext('Invalid tag entered: %s'), [tag])); // eslint-disable-line\n        }\n      });\n\n      // Invalid or no tags? No requests!\n      if (invalid || slugNames.length === 0) {\n        $form.trigger('ajaxComplete');\n        if (!invalid) {\n          alert(gettext('No tags entered.')); // eslint-disable-line\n        }\n        return false;\n      }\n      slugs = slugNames.join(',');\n\n      // Prepend any existing filters applied.\n      if (currentSlugs) {\n        slugs = currentSlugs + ',' + slugs;\n      }\n      $hidden.val(slugs);\n    });\n  }\n\n  k.TagsFilter = {\n    init: init\n  };\n\n  $(document).ready(function() {\n    k.TagsFilter.init();\n  });\n\n})(jQuery);\n"
      ]
    },
    "mtime": 1561057444000
  }
}