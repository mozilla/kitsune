{% extends "questions/includes/question_editing_frame.html" %}
{% from "questions/includes/aaq_macros.html" import explore_solutions with context %}
{% from "questions/includes/aaq_macros.html" import select_product %}
{% from "questions/includes/aaq_macros.html" import support_type_switcher with context %}
{% set announcement_product = current_product|default(None) %}
{% set title = _('Get Support') %}
{% set no_headline = True %}
{% set hide_locale_switcher = True %}
{% set meta = [('robots', 'noindex')] %}

{% set classes = 'new-question' %}
{% if current_support_type != SUPPORT_TYPE_ZENDESK %}
  {% set category_field_attrs = {"hx-get": "", "hx-swap": "none"}%}
{% endif %}

{% block breadcrumbs %}{% endblock %}

{% block formwrap %}
  {% if current_step == 1 %}
    {{ select_product(products) }}
  {% else %}
    {{ super() }}
  {% endif %}
{% endblock %}

{% block contentwrap %}
  {% if current_step == 2 %}
    {{ explore_solutions(current_product, search_box, featured, topics, is_ticketed_support=current_support_type == SUPPORT_TYPE_ZENDESK) }}
  {% else %}
    {{ super() }}
  {% endif %}
{% endblock %}

{% block major_detail_instructions %}
  <h2 class="sumo-page-heading">
    {% if current_support_type == SUPPORT_TYPE_ZENDESK %}
      {{ _('Contact Support') }}
    {% else %}
      {{ _('Ask your question') }}
    {% endif %}
  </h2>
{% endblock %}

{% block sidebar_widgets %}
  {% if can_switch %}
    {{ support_type_switcher(css_class='switcher-sidebar') }}
  {% endif %}
  {{ super() }}
{% endblock %}

{% block after_form_buttons %}
  {% if can_switch %}
    {{ support_type_switcher(css_class='switcher-inline') }}
  {% endif %}
{% endblock %}

{% block submit_button_value %}
  {{ _('Submit') }}
{% endblock %}
{% block submit_button_attrs %}data-event-name="question_submit" data-event-parameters='{{ submit_event_parameters }}'{% endblock %}
